import{aQ as e,aR as a,aS as l,ak as t,b as n,a8 as s,aT as o,aq as r,aU as u,e as i,aw as d,ay as c,aV as v,aW as p,aX as m,ar as b,ai as f,p as h,E as y,B as g,_ as k,aH as w,ah as D,aY as C,U as x,aZ as S,a_ as P,j as _,a$ as M,b0 as V,b1 as O,b2 as I,b3 as $,g as A,h as R,b4 as N,z as F,b5 as Y,b6 as B,b7 as E,b8 as T,b9 as K,ba as j,bb as W,bc as L,bd as z}from"./index-2b8f59d9.js";import{v as H,P as U,m as q,a as G,e as Z,b as Q,n as J,u as X,t as ee,f as ae,J as le,I as te,D as ne,L as se,S as oe,K as re,O as ue,h as ie,i as de,x as ce,N as ve,y as pe,d as me,G as be,aa as fe,M as he,Q as ye,F as ge,U as ke,ad as we,H as De,z as Ce,R as xe,c as Se,B as Pe}from"./vxetable-90850a7d.js";import{v as _e}from"./index-2a794201.js";const Me=e=>e||0===e?Array.isArray(e)?e:[e]:[],Ve=["hours","minutes","seconds"],Oe="HH:mm:ss",Ie="YYYY-MM-DD",$e={date:Ie,dates:Ie,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Ie} ${Oe}`,monthrange:"YYYY-MM",daterange:Ie,datetimerange:`${Ie} ${Oe}`},Ae=(e,a)=>[e>0?e-1:void 0,e,e<a?e+1:void 0],Re=e=>Array.from(Array.from({length:e}).keys()),Ne=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Fe=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Ye=function(e,a){const t=l(e),n=l(a);return t&&n?e.getTime()===a.getTime():!t&&!n&&e===a},Be=function(e,a){const l=t(e),n=t(a);return l&&n?e.length===a.length&&e.every(((e,l)=>Ye(e,a[l]))):!l&&!n&&Ye(e,a)},Ee=function(l,t,n){const s=e(t)||"x"===t?a(l).locale(n):a(l,t).locale(n);return s.isValid()?s:void 0},Te=function(l,t,n){return e(t)?l:"x"===t?+l:a(l).locale(n).format(t)},Ke=(e,a)=>{var l;const t=[],n=null==a?void 0:a();for(let s=0;s<e;s++)t.push(null!=(l=null==n?void 0:n.includes(s))&&l);return t},je=n({disabledHours:{type:s(Function)},disabledMinutes:{type:s(Function)},disabledSeconds:{type:s(Function)}}),We=n({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Le=n({id:{type:s([Array,String])},name:{type:s([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:s([String,Object]),default:o},editable:{type:Boolean,default:!0},prefixIcon:{type:s([String,Object]),default:""},size:r,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:s(Object),default:()=>({})},modelValue:{type:s([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:s([Date,Array])},defaultTime:{type:s([Date,Array])},isRange:{type:Boolean,default:!1},...je,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:s([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),ze=["id","name","placeholder","value","disabled","readonly"],He=["id","name","placeholder","value","disabled","readonly"],Ue=H({name:"Picker"});var qe=k(H({...Ue,props:Le,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:a,emit:l}){const n=e,s=U(),{lang:o}=u(),r=i("date"),k=i("input"),D=i("range"),{form:C,formItem:x}=d(),S=q("ElPopperOptions",{}),P=G(),_=G(),M=G(!1),V=G(!1),O=G(null);let I=!1,$=!1;const A=Z((()=>[r.b("editor"),r.bm("editor",n.type),k.e("wrapper"),r.is("disabled",be.value),r.is("active",M.value),D.b("editor"),Oe?D.bm("editor",Oe.value):"",s.class])),R=Z((()=>[k.e("icon"),D.e("close-icon"),De.value?"":D.e("close-icon--hidden")]));Q(M,(e=>{e?J((()=>{e&&(O.value=n.modelValue)})):(Ae.value=null,J((()=>{N(n.modelValue)})))}));const N=(e,a)=>{!a&&Be(e,O.value)||(l("change",e),n.validateEvent&&(null==x||x.validate("change").catch((e=>c()))))},F=e=>{if(!Be(n.modelValue,e)){let a;t(e)?a=e.map((e=>Te(e,n.valueFormat,o.value))):e&&(a=Te(e,n.valueFormat,o.value)),l("update:modelValue",e?a:e,o.value)}},Y=Z((()=>{if(_.value){const e=Ve.value?_.value:_.value.$el;return Array.from(e.querySelectorAll("input"))}return[]})),B=(e,a,l)=>{const t=Y.value;t.length&&(l&&"min"!==l?"max"===l&&(t[1].setSelectionRange(e,a),t[1].focus()):(t[0].setSelectionRange(e,a),t[0].focus()))},E=(e="",a=!1)=>{let l;a||($=!0),M.value=a,l=t(e)?e.map((e=>e.toDate())):e?e.toDate():e,Ae.value=null,F(l)},T=()=>{V.value=!0},K=()=>{l("visible-change",!0)},j=e=>{(null==e?void 0:e.key)===w.esc&&L(!0,!0)},W=()=>{V.value=!1,M.value=!1,$=!1,l("visible-change",!1)},L=(e=!0,a=!1)=>{$=a;const[l,t]=X(Y);let n=l;!e&&Ve.value&&(n=t),n&&n.focus()},z=e=>{n.readonly||be.value||M.value||$||(M.value=!0,l("focus",e))};let H;const me=e=>{const a=async()=>{setTimeout((()=>{var t;H===a&&((null==(t=P.value)?void 0:t.isFocusInsideContent())&&!I||0!==Y.value.filter((e=>e.contains(document.activeElement))).length||(Re(),M.value=!1,l("blur",e),n.validateEvent&&(null==x||x.validate("blur").catch((e=>c())))),I=!1)}),0)};H=a,a()},be=Z((()=>n.disabled||(null==C?void 0:C.disabled))),fe=Z((()=>{let e;if(xe.value?Ge.value.getDefaultValue&&(e=Ge.value.getDefaultValue()):e=t(n.modelValue)?n.modelValue.map((e=>Ee(e,n.valueFormat,o.value))):Ee(n.modelValue,n.valueFormat,o.value),Ge.value.getRangeAvailableTime){const a=Ge.value.getRangeAvailableTime(e);v(a,e)||(e=a,F(t(e)?e.map((e=>e.toDate())):e.toDate()))}return t(e)&&e.some((e=>!e))&&(e=[]),e})),he=Z((()=>{if(!Ge.value.panelReady)return"";const e=Fe(fe.value);return t(Ae.value)?[Ae.value[0]||e&&e[0]||"",Ae.value[1]||e&&e[1]||""]:null!==Ae.value?Ae.value:!ge.value&&xe.value||!M.value&&xe.value?"":e?ke.value?e.join(", "):e:""})),ye=Z((()=>n.type.includes("time"))),ge=Z((()=>n.type.startsWith("time"))),ke=Z((()=>"dates"===n.type)),we=Z((()=>n.prefixIcon||(ye.value?p:m))),De=G(!1),Ce=e=>{n.readonly||be.value||De.value&&(e.stopPropagation(),L(!0,!0),J((()=>{$=!1})),F(null),N(null,!0),De.value=!1,M.value=!1,Ge.value.handleClear&&Ge.value.handleClear())},xe=Z((()=>{const{modelValue:e}=n;return!e||t(e)&&!e.filter(Boolean).length})),Se=async e=>{var a;n.readonly||be.value||("INPUT"!==(null==(a=e.target)?void 0:a.tagName)||Y.value.includes(document.activeElement))&&(M.value=!0)},Pe=()=>{n.readonly||be.value||!xe.value&&n.clearable&&(De.value=!0)},_e=()=>{De.value=!1},Me=e=>{var a;n.readonly||be.value||("INPUT"!==(null==(a=e.touches[0].target)?void 0:a.tagName)||Y.value.includes(document.activeElement))&&(M.value=!0)},Ve=Z((()=>n.type.includes("range"))),Oe=b(),Ie=Z((()=>{var e,a;return null==(a=null==(e=X(P))?void 0:e.popperRef)?void 0:a.contentRef})),$e=Z((()=>{var e;return X(Ve)?X(_):null==(e=X(_))?void 0:e.$el}));f($e,(e=>{const a=X(Ie),l=X($e);a&&(e.target===a||e.composedPath().includes(a))||e.target===l||e.composedPath().includes(l)||(M.value=!1)}));const Ae=G(null),Re=()=>{if(Ae.value){const e=Ne(he.value);e&&Ye(e)&&(F(t(e)?e.map((e=>e.toDate())):e.toDate()),Ae.value=null)}""===Ae.value&&(F(null),N(null),Ae.value=null)},Ne=e=>e?Ge.value.parseUserInput(e):null,Fe=e=>e?Ge.value.formatToString(e):null,Ye=e=>Ge.value.isValidValue(e),Ke=async e=>{if(n.readonly||be.value)return;const{code:a}=e;if(l("keydown",e),a!==w.esc)if(a===w.down&&(Ge.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),!1===M.value&&(M.value=!0,await J()),Ge.value.handleFocusPicker))Ge.value.handleFocusPicker();else{if(a!==w.tab)return a===w.enter||a===w.numpadEnter?((null===Ae.value||""===Ae.value||Ye(Ne(he.value)))&&(Re(),M.value=!1),void e.stopPropagation()):void(Ae.value?e.stopPropagation():Ge.value.handleKeydownInput&&Ge.value.handleKeydownInput(e));I=!0}else!0===M.value&&(M.value=!1,e.preventDefault(),e.stopPropagation())},je=e=>{Ae.value=e,M.value||(M.value=!0)},We=e=>{const a=e.target;Ae.value?Ae.value=[a.value,Ae.value[1]]:Ae.value=[a.value,null]},Le=e=>{const a=e.target;Ae.value?Ae.value=[Ae.value[0],a.value]:Ae.value=[null,a.value]},Ue=()=>{var e;const a=Ae.value,l=Ne(a&&a[0]),t=X(fe);if(l&&l.isValid()){Ae.value=[Fe(l),(null==(e=he.value)?void 0:e[1])||null];const a=[l,t&&(t[1]||null)];Ye(a)&&(F(a),Ae.value=null)}},qe=()=>{var e;const a=X(Ae),l=Ne(a&&a[1]),t=X(fe);if(l&&l.isValid()){Ae.value=[(null==(e=X(he))?void 0:e[0])||null,Fe(l)];const a=[t&&t[0],l];Ye(a)&&(F(a),Ae.value=null)}},Ge=G({}),Ze=e=>{Ge.value[e[0]]=e[1],Ge.value.panelReady=!0},Qe=e=>{l("calendar-change",e)},Je=(e,a,t)=>{l("panel-change",e,a,t)};return ee("EP_PICKER_BASE",{props:n}),a({focus:L,handleFocusInput:z,handleBlurInput:me,handleOpen:()=>{M.value=!0},handleClose:()=>{M.value=!1},onPick:E}),(e,a)=>(ae(),le(X(g),pe({ref_key:"refPopper",ref:P,visible:M.value,effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${X(r).namespace.value}-zoom-in-top`,"popper-class":[`${X(r).namespace.value}-picker__popper`,e.popperClass],"popper-options":X(S),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:T,onShow:K,onHide:W}),{default:te((()=>[X(Ve)?(ae(),ie("div",{key:1,ref_key:"inputRef",ref:_,class:ne(X(A)),style:se(e.$attrs.style),onClick:z,onMouseenter:Pe,onMouseleave:_e,onTouchstart:Me,onKeydown:Ke},[X(we)?(ae(),le(X(y),{key:0,class:ne([X(k).e("icon"),X(D).e("icon")]),onMousedown:oe(Se,["prevent"]),onTouchstart:Me},{default:te((()=>[(ae(),le(re(X(we))))])),_:1},8,["class","onMousedown"])):ue("v-if",!0),de("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:X(he)&&X(he)[0],disabled:X(be),readonly:!e.editable||e.readonly,class:ne(X(D).b("input")),onMousedown:Se,onInput:We,onChange:Ue,onFocus:z,onBlur:me},null,42,ze),ce(e.$slots,"range-separator",{},(()=>[de("span",{class:ne(X(D).b("separator"))},ve(e.rangeSeparator),3)])),de("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:X(he)&&X(he)[1],disabled:X(be),readonly:!e.editable||e.readonly,class:ne(X(D).b("input")),onMousedown:Se,onFocus:z,onBlur:me,onInput:Le,onChange:qe},null,42,He),e.clearIcon?(ae(),le(X(y),{key:1,class:ne(X(R)),onClick:Ce},{default:te((()=>[(ae(),le(re(e.clearIcon)))])),_:1},8,["class"])):ue("v-if",!0)],38)):(ae(),le(X(h),{key:0,id:e.id,ref_key:"inputRef",ref:_,"container-role":"combobox","model-value":X(he),name:e.name,size:X(Oe),disabled:X(be),placeholder:e.placeholder,class:ne([X(r).b("editor"),X(r).bm("editor",e.type),e.$attrs.class]),style:se(e.$attrs.style),readonly:!e.editable||e.readonly||X(ke)||"week"===e.type,label:e.label,tabindex:e.tabindex,"validate-event":!1,onInput:je,onFocus:z,onBlur:me,onKeydown:Ke,onChange:Re,onMousedown:Se,onMouseenter:Pe,onMouseleave:_e,onTouchstart:Me,onClick:a[0]||(a[0]=oe((()=>{}),["stop"]))},{prefix:te((()=>[X(we)?(ae(),le(X(y),{key:0,class:ne(X(k).e("icon")),onMousedown:oe(Se,["prevent"]),onTouchstart:Me},{default:te((()=>[(ae(),le(re(X(we))))])),_:1},8,["class","onMousedown"])):ue("v-if",!0)])),suffix:te((()=>[De.value&&e.clearIcon?(ae(),le(X(y),{key:0,class:ne(`${X(k).e("icon")} clear-icon`),onClick:oe(Ce,["stop"])},{default:te((()=>[(ae(),le(re(e.clearIcon)))])),_:1},8,["class","onClick"])):ue("v-if",!0)])),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))])),content:te((()=>[ce(e.$slots,"default",{visible:M.value,actualVisible:V.value,parsedValue:X(fe),format:e.format,dateFormat:e.dateFormat,timeFormat:e.timeFormat,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:E,onSelectRange:B,onSetPickerOption:Ze,onCalendarChange:Qe,onPanelChange:Je,onKeydown:j,onMousedown:a[1]||(a[1]=oe((()=>{}),["stop"]))})])),_:3},16,["visible","transition","popper-class","popper-options"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ge=n({...We,datetimeRole:String,parsedValue:{type:s(Object)}}),Ze=e=>e.map(((e,a)=>e||a)).filter((e=>!0!==e)),Qe=(e,a,l)=>({getHoursList:(a,l)=>Ke(24,e&&(()=>null==e?void 0:e(a,l))),getMinutesList:(e,l,t)=>Ke(60,a&&(()=>null==a?void 0:a(e,l,t))),getSecondsList:(e,a,t,n)=>Ke(60,l&&(()=>null==l?void 0:l(e,a,t,n)))}),Je=n({role:{type:String,required:!0},spinnerDate:{type:s(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:s(String),default:""},...je}),Xe=["onClick"],ea=["onMouseenter"];var aa=k(H({__name:"basic-time-spinner",props:Je,emits:["change","select-range","set-option"],setup(e,{emit:a}){const l=e,t=i("time"),{getHoursList:n,getMinutesList:s,getSecondsList:o}=Qe(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let r=!1;const u=G(),d={hours:G(),minutes:G(),seconds:G()},c=Z((()=>l.showSeconds?Ve:Ve.slice(0,2))),v=Z((()=>{const{spinnerDate:e}=l;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}})),p=Z((()=>{const{hours:e,minutes:a}=X(v);return{hours:n(l.role),minutes:s(e,l.role),seconds:o(e,a,l.role)}})),m=Z((()=>{const{hours:e,minutes:a,seconds:l}=X(v);return{hours:Ae(e,23),minutes:Ae(a,59),seconds:Ae(l,59)}})),b=D((e=>{r=!1,g(e)}),200),f=e=>{if(!!!l.amPmMode)return"";let a=e<12?" am":" pm";return"A"===l.amPmMode&&(a=a.toUpperCase()),a},h=e=>{let l;switch(e){case"hours":l=[0,2];break;case"minutes":l=[3,5];break;case"seconds":l=[6,8]}const[t,n]=l;a("select-range",t,n),u.value=e},g=e=>{_(e,X(v)[e])},k=()=>{g("hours"),g("minutes"),g("seconds")},w=e=>e.querySelector(`.${t.namespace.value}-scrollbar__wrap`),_=(e,a)=>{if(l.arrowControl)return;const t=X(d[e]);t&&t.$el&&(w(t.$el).scrollTop=Math.max(0,a*M(e)))},M=e=>{const a=X(d[e]),l=null==a?void 0:a.$el.querySelector("li");return l&&Number.parseFloat(C(l,"height"))||0},V=()=>{I(1)},O=()=>{I(-1)},I=e=>{u.value||h("hours");const a=u.value,l=X(v)[a],t="hours"===u.value?24:60,n=$(a,l,e,t);A(a,n),_(a,n),J((()=>h(a)))},$=(e,a,l,t)=>{let n=(a+l+t)%t;const s=X(p)[e];for(;s[n]&&n!==a;)n=(n+l+t)%t;return n},A=(e,t)=>{if(X(p)[e][t])return;const{hours:n,minutes:s,seconds:o}=X(v);let r;switch(e){case"hours":r=l.spinnerDate.hour(t).minute(s).second(o);break;case"minutes":r=l.spinnerDate.hour(n).minute(t).second(o);break;case"seconds":r=l.spinnerDate.hour(n).minute(s).second(t)}a("change",r)},R=e=>X(d[e]).$el.offsetHeight,N=()=>{const e=e=>{const a=X(d[e]);a&&a.$el&&(w(a.$el).onscroll=()=>{(e=>{r=!0,b(e);const a=Math.min(Math.round((w(X(d[e]).$el).scrollTop-(.5*R(e)-10)/M(e)+3)/M(e)),"hours"===e?23:59);A(e,a)})(e)})};e("hours"),e("minutes"),e("seconds")};me((()=>{J((()=>{!l.arrowControl&&N(),k(),"start"===l.role&&h("hours")}))}));return a("set-option",[`${l.role}_scrollDown`,I]),a("set-option",[`${l.role}_emitSelectRange`,h]),Q((()=>l.spinnerDate),(()=>{r||k()})),(e,a)=>(ae(),ie("div",{class:ne([X(t).b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?ue("v-if",!0):(ae(!0),ie(be,{key:0},fe(X(c),(a=>(ae(),le(X(x),{key:a,ref_for:!0,ref:e=>((e,a)=>{d[a].value=e})(e,a),class:ne(X(t).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":X(t).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:e=>h(a),onMousemove:e=>g(a)},{default:te((()=>[(ae(!0),ie(be,null,fe(X(p)[a],((l,n)=>(ae(),ie("li",{key:n,class:ne([X(t).be("spinner","item"),X(t).is("active",n===X(v)[a]),X(t).is("disabled",l)]),onClick:e=>((e,{value:a,disabled:l})=>{l||(A(e,a),h(e),_(e,a))})(a,{value:n,disabled:l})},["hours"===a?(ae(),ie(be,{key:0},[he(ve(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+ve(f(n)),1)],64)):(ae(),ie(be,{key:1},[he(ve(("0"+n).slice(-2)),1)],64))],10,Xe)))),128))])),_:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),e.arrowControl?(ae(!0),ie(be,{key:1},fe(X(c),(a=>(ae(),ie("div",{key:a,class:ne([X(t).be("spinner","wrapper"),X(t).is("arrow")]),onMouseenter:e=>h(a)},[ye((ae(),le(X(y),{class:ne(["arrow-up",X(t).be("spinner","arrow")])},{default:te((()=>[ge(X(S))])),_:1},8,["class"])),[[X(_e),O]]),ye((ae(),le(X(y),{class:ne(["arrow-down",X(t).be("spinner","arrow")])},{default:te((()=>[ge(X(P))])),_:1},8,["class"])),[[X(_e),V]]),de("ul",{class:ne(X(t).be("spinner","list"))},[(ae(!0),ie(be,null,fe(X(m)[a],((l,n)=>(ae(),ie("li",{key:n,class:ne([X(t).be("spinner","item"),X(t).is("active",l===X(v)[a]),X(t).is("disabled",X(p)[a][l])])},["number"==typeof l?(ae(),ie(be,{key:0},["hours"===a?(ae(),ie(be,{key:0},[he(ve(("0"+(e.amPmMode?l%12||12:l)).slice(-2))+ve(f(l)),1)],64)):(ae(),ie(be,{key:1},[he(ve(("0"+l).slice(-2)),1)],64))],64)):ue("v-if",!0)],2)))),128))],2)],42,ea)))),128)):ue("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);var la=k(H({__name:"panel-time-pick",props:Ge,emits:["pick","select-range","set-picker-option"],setup(e,{emit:l}){const t=e,n=q("EP_PICKER_BASE"),{arrowControl:s,disabledHours:o,disabledMinutes:r,disabledSeconds:d,defaultValue:c}=n.props,{getAvailableHours:v,getAvailableMinutes:p,getAvailableSeconds:m}=((e,a,l)=>{const{getHoursList:t,getMinutesList:n,getSecondsList:s}=Qe(e,a,l);return{getAvailableHours:(e,a)=>Ze(t(e,a)),getAvailableMinutes:(e,a,l)=>Ze(n(e,a,l)),getAvailableSeconds:(e,a,l,t)=>Ze(s(e,a,l,t))}})(o,r,d),b=i("time"),{t:f,lang:h}=u(),y=G([0,2]),g=(e=>{const a=G(e.parsedValue);return Q((()=>e.visible),(l=>{l||(a.value=e.parsedValue)})),a})(t),k=Z((()=>_(t.actualVisible)?`${b.namespace.value}-zoom-in-top`:"")),D=Z((()=>t.format.includes("ss"))),C=Z((()=>t.format.includes("A")?"A":t.format.includes("a")?"a":"")),x=()=>{l("pick",g.value,!1)},S=e=>{if(!t.visible)return;const a=I(e).millisecond(0);l("pick",a,!0)},P=(e,a)=>{l("select-range",e,a),y.value=[e,a]},{timePickerOptions:M,onSetOption:V,getAvailableTime:O}=(({getAvailableHours:e,getAvailableMinutes:a,getAvailableSeconds:l})=>{const t={};return{timePickerOptions:t,getAvailableTime:(t,n,s,o)=>{const r={hour:e,minute:a,second:l};let u=t;return["hour","minute","second"].forEach((e=>{if(r[e]){let a;const l=r[e];switch(e){case"minute":a=l(u.hour(),n,o);break;case"second":a=l(u.hour(),u.minute(),n,o);break;default:a=l(n,o)}if((null==a?void 0:a.length)&&!a.includes(u[e]())){const l=s?0:a.length-1;u=u[e](a[l])}}})),u},onSetOption:([e,a])=>{t[e]=a}}})({getAvailableHours:v,getAvailableMinutes:p,getAvailableSeconds:m}),I=e=>O(e,t.datetimeRole||"",!0);return l("set-picker-option",["isValidValue",e=>{const l=a(e).locale(h.value),t=I(l);return l.isSame(t)}]),l("set-picker-option",["formatToString",e=>e?e.format(t.format):null]),l("set-picker-option",["parseUserInput",e=>e?a(e,t.format).locale(h.value):null]),l("set-picker-option",["handleKeydownInput",e=>{const a=e.code,{left:l,right:t,up:n,down:s}=w;if([l,t].includes(a)){return(e=>{const a=[0,3].concat(D.value?[6]:[]),l=["hours","minutes"].concat(D.value?["seconds"]:[]),t=(a.indexOf(y.value[0])+e+a.length)%a.length;M.start_emitSelectRange(l[t])})(a===l?-1:1),void e.preventDefault()}if([n,s].includes(a)){const l=a===n?-1:1;return M.start_scrollDown(l),void e.preventDefault()}}]),l("set-picker-option",["getRangeAvailableTime",I]),l("set-picker-option",["getDefaultValue",()=>a(c).locale(h.value)]),(e,a)=>(ae(),le(ke,{name:X(k)},{default:te((()=>[e.actualVisible||e.visible?(ae(),ie("div",{key:0,class:ne(X(b).b("panel"))},[de("div",{class:ne([X(b).be("panel","content"),{"has-seconds":X(D)}])},[ge(aa,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":X(s),"show-seconds":X(D),"am-pm-mode":X(C),"spinner-date":e.parsedValue,"disabled-hours":X(o),"disabled-minutes":X(r),"disabled-seconds":X(d),onChange:S,onSetOption:X(V),onSelectRange:P},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),de("div",{class:ne(X(b).be("panel","footer"))},[de("button",{type:"button",class:ne([X(b).be("panel","btn"),"cancel"]),onClick:x},ve(X(f)("el.datepicker.cancel")),3),de("button",{type:"button",class:ne([X(b).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=e=>((e=!1,a=!1)=>{a||l("pick",t.parsedValue,e)})())},ve(X(f)("el.datepicker.confirm")),3)],2)],2)):ue("v-if",!0)])),_:1},8,["name"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const ta=Symbol(),na=n({...Le,type:{type:s(String),default:"date"}}),sa=["date","dates","year","month","week","range"],oa=n({disabledDate:{type:s(Function)},date:{type:s(Object),required:!0},minDate:{type:s(Object)},maxDate:{type:s(Object)},parsedValue:{type:s([Object,Array])},rangeState:{type:s(Object),default:()=>({endDate:null,selecting:!1})}}),ra=n({type:{type:s(String),required:!0,values:["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"]},dateFormat:String,timeFormat:String}),ua=n({unlinkPanels:Boolean,parsedValue:{type:s(Array)}}),ia=e=>({type:String,values:sa,default:e}),da=n({...ra,parsedValue:{type:s([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),ca=n({...oa,cellClassName:{type:s(Function)},showWeekNumber:Boolean,selectionMode:ia("date")}),va=e=>{if(!t(e))return!1;const[l,n]=e;return a.isDayjs(l)&&a.isDayjs(n)&&l.isSameOrBefore(n)},pa=(e,{lang:l,unit:n,unlinkPanels:s})=>{let o;if(t(e)){let[t,o]=e.map((e=>a(e).locale(l)));return s||(o=t.add(1,n)),[t,o]}return o=e?a(e):a(),o=o.locale(l),[o,o.add(1,n)]},ma=(e="")=>["normal","today"].includes(e),ba=(e,l)=>{const{lang:t}=u(),n=G(),s=G(),o=G(),r=G(),i=G([[],[],[],[],[],[]]);let d=!1;const c=e.date.$locale().weekStart||7,v=e.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),p=Z((()=>c>3?7-c:-c)),m=Z((()=>{const a=e.date.startOf("month");return a.subtract(a.day()||7,"day")})),b=Z((()=>v.concat(v).slice(c,c+7))),f=Z((()=>M(X(w)).some((e=>e.isCurrent)))),h=Z((()=>{const a=e.date.startOf("month");return{startOfMonthDay:a.day()||7,dateCountOfMonth:a.daysInMonth(),dateCountOfLastMonth:a.subtract(1,"month").daysInMonth()}})),y=Z((()=>"dates"===e.selectionMode?Me(e.parsedValue):[])),g=(a,{columnIndex:l,rowIndex:t},n)=>{const{disabledDate:s,cellClassName:o}=e,r=X(y),u=((e,{count:a,rowIndex:l,columnIndex:t})=>{const{startOfMonthDay:n,dateCountOfMonth:s,dateCountOfLastMonth:o}=X(h),r=X(p);if(!(l>=0&&l<=1))return a<=s?e.text=a:(e.text=a-s,e.type="next-month"),!0;{const s=n+r<0?7+n+r:n+r;if(t+7*l>=s)return e.text=a,!0;e.text=o-(s-t%7)+1+7*l,e.type="prev-month"}return!1})(a,{count:n,rowIndex:t,columnIndex:l}),i=a.dayjs.toDate();return a.selected=r.find((e=>e.valueOf()===a.dayjs.valueOf())),a.isSelected=!!a.selected,a.isCurrent=C(a),a.disabled=null==s?void 0:s(i),a.customClass=null==o?void 0:o(i),u},k=a=>{if("week"===e.selectionMode){const[l,t]=e.showWeekNumber?[1,7]:[0,6],n=_(a[l+1]);a[l].inRange=n,a[l].start=n,a[t].inRange=n,a[t].end=n}},w=Z((()=>{const{minDate:l,maxDate:n,rangeState:s,showWeekNumber:o}=e,r=X(p),u=X(i),d="day";let c=1;if(o)for(let e=0;e<6;e++)u[e][0]||(u[e][0]={type:"week",text:X(m).add(7*e+1,d).week()});return((e,a,{columnIndexOffset:l,startDate:t,nextEndDate:n,now:s,unit:o,relativeDateGetter:r,setCellMetadata:u,setRowMetadata:i})=>{for(let d=0;d<e.row;d++){const c=a[d];for(let a=0;a<e.column;a++){let i=c[a+l];i||(i={row:d,column:a,type:"normal",inRange:!1,start:!1,end:!1});const v=r(d*e.column+a);i.dayjs=v,i.date=v.toDate(),i.timestamp=v.valueOf(),i.type="normal",i.inRange=!!(t&&v.isSameOrAfter(t,o)&&n&&v.isSameOrBefore(n,o))||!!(t&&v.isSameOrBefore(t,o)&&n&&v.isSameOrAfter(n,o)),(null==t?void 0:t.isSameOrAfter(n))?(i.start=!!n&&v.isSame(n,o),i.end=t&&v.isSame(t,o)):(i.start=!!t&&v.isSame(t,o),i.end=!!n&&v.isSame(n,o)),v.isSame(s,o)&&(i.type="today"),null==u||u(i,{rowIndex:d,columnIndex:a}),c[a+l]=i}null==i||i(c)}})({row:6,column:7},u,{startDate:l,columnIndexOffset:o?1:0,nextEndDate:s.endDate||n||s.selecting&&l||null,now:a().locale(X(t)).startOf(d),unit:d,relativeDateGetter:e=>X(m).add(e-r,d),setCellMetadata:(...e)=>{g(...e,c)&&(c+=1)},setRowMetadata:k}),u}));Q((()=>e.date),(async()=>{var e;(null==(e=X(n))?void 0:e.contains(document.activeElement))&&(await J(),await D())}));const D=async()=>{var e;return null==(e=X(s))?void 0:e.focus()},C=a=>"date"===e.selectionMode&&ma(a.type)&&x(a,e.parsedValue),x=(l,n)=>!!n&&a(n).locale(X(t)).isSame(e.date.date(Number(l.text)),"day"),S=(a,l)=>{const t=7*a+(l-(e.showWeekNumber?1:0))-X(p);return X(m).add(t,"day")},P=(a,t=!1)=>{const n=a.target.closest("td");if(!n)return;const s=n.parentNode.rowIndex-1,o=n.cellIndex,r=X(w)[s][o];if(r.disabled||"week"===r.type)return;const u=S(s,o);switch(e.selectionMode){case"range":(a=>{e.rangeState.selecting&&e.minDate?(a>=e.minDate?l("pick",{minDate:e.minDate,maxDate:a}):l("pick",{minDate:a,maxDate:e.minDate}),l("select",!1)):(l("pick",{minDate:a,maxDate:null}),l("select",!0))})(u);break;case"date":l("pick",u,t);break;case"week":(e=>{const a=e.week(),t=`${e.year()}w${a}`;l("pick",{year:e.year(),week:a,value:t,date:e.startOf("week")})})(u);break;case"dates":((a,t)=>{const n=t?Me(e.parsedValue).filter((e=>(null==e?void 0:e.valueOf())!==a.valueOf())):Me(e.parsedValue).concat([a]);l("pick",n)})(u,!!r.selected)}},_=a=>{if("week"!==e.selectionMode)return!1;let l=e.date.startOf("day");if("prev-month"===a.type&&(l=l.subtract(1,"month")),"next-month"===a.type&&(l=l.add(1,"month")),l=l.date(Number.parseInt(a.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const a=(e.parsedValue.day()-c+7)%7-1;return e.parsedValue.subtract(a,"day").isSame(l,"day")}return!1};return{WEEKS:b,rows:w,tbodyRef:n,currentCellRef:s,focus:D,isCurrent:C,isWeekActive:_,isSelectedCell:e=>!X(f)&&1===(null==e?void 0:e.text)&&"normal"===e.type||e.isCurrent,handlePickDate:P,handleMouseUp:e=>{e.target.closest("td")&&(d=!1)},handleMouseDown:e=>{e.target.closest("td")&&(d=!0)},handleMouseMove:a=>{var t;if(!e.rangeState.selecting)return;let n=a.target;if("SPAN"===n.tagName&&(n=null==(t=n.parentNode)?void 0:t.parentNode),"DIV"===n.tagName&&(n=n.parentNode),"TD"!==n.tagName)return;const s=n.parentNode.rowIndex-1,u=n.cellIndex;X(w)[s][u].disabled||s===X(o)&&u===X(r)||(o.value=s,r.value=u,l("changerange",{selecting:!0,endDate:S(s,u)}))},handleFocus:a=>{d||X(f)||"date"!==e.selectionMode||P(a,!0)}}};var fa=H({name:"ElDatePickerCell",props:n({cell:{type:s(Object)}}),setup(e){const a=i("date-table-cell"),{slots:l}=q(ta);return()=>{const{cell:t}=e;if(l.default){const e=l.default(t).filter((e=>-2!==e.patchFlag&&"Symbol(Comment)"!==e.type.toString()&&"Symbol(v-cmt)"!==e.type.toString()));if(e.length)return e}return ge("div",{class:a.b()},[ge("span",{class:a.e("text")},[null==t?void 0:t.text])])}}});const ha=["aria-label"],ya={key:0,scope:"col"},ga=["aria-label"],ka=["aria-current","aria-selected","tabindex"];var wa=k(H({__name:"basic-date-table",props:ca,emits:["changerange","pick","select"],setup(e,{expose:a,emit:l}){const t=e,{WEEKS:n,rows:s,tbodyRef:o,currentCellRef:r,focus:d,isCurrent:c,isWeekActive:v,isSelectedCell:p,handlePickDate:m,handleMouseUp:b,handleMouseDown:f,handleMouseMove:h,handleFocus:y}=ba(t,l),{tableLabel:g,tableKls:k,weekLabel:w,getCellClasses:D,getRowKls:C,t:x}=((e,{isCurrent:a,isWeekActive:l})=>{const t=i("date-table"),{t:n}=u();return{tableKls:Z((()=>[t.b(),{"is-week-mode":"week"===e.selectionMode}])),tableLabel:Z((()=>n("el.datepicker.dateTablePrompt"))),weekLabel:Z((()=>n("el.datepicker.week"))),getCellClasses:l=>{const t=[];return ma(l.type)&&!l.disabled?(t.push("available"),"today"===l.type&&t.push("today")):t.push(l.type),a(l)&&t.push("current"),l.inRange&&(ma(l.type)||"week"===e.selectionMode)&&(t.push("in-range"),l.start&&t.push("start-date"),l.end&&t.push("end-date")),l.disabled&&t.push("disabled"),l.selected&&t.push("selected"),l.customClass&&t.push(l.customClass),t.join(" ")},getRowKls:e=>[t.e("row"),{current:l(e)}],t:n}})(t,{isCurrent:c,isWeekActive:v});return a({focus:d}),(e,a)=>(ae(),ie("table",{"aria-label":X(g),class:ne(X(k)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:a[1]||(a[1]=(...e)=>X(m)&&X(m)(...e)),onMousemove:a[2]||(a[2]=(...e)=>X(h)&&X(h)(...e)),onMousedown:a[3]||(a[3]=oe(((...e)=>X(f)&&X(f)(...e)),["prevent"])),onMouseup:a[4]||(a[4]=(...e)=>X(b)&&X(b)(...e))},[de("tbody",{ref_key:"tbodyRef",ref:o},[de("tr",null,[e.showWeekNumber?(ae(),ie("th",ya,ve(X(w)),1)):ue("v-if",!0),(ae(!0),ie(be,null,fe(X(n),((e,a)=>(ae(),ie("th",{key:a,"aria-label":X(x)("el.datepicker.weeksFull."+e),scope:"col"},ve(X(x)("el.datepicker.weeks."+e)),9,ga)))),128))]),(ae(!0),ie(be,null,fe(X(s),((e,l)=>(ae(),ie("tr",{key:l,class:ne(X(C)(e[1]))},[(ae(!0),ie(be,null,fe(e,((e,t)=>(ae(),ie("td",{key:`${l}.${t}`,ref_for:!0,ref:a=>X(p)(e)&&(r.value=a),class:ne(X(D)(e)),"aria-current":e.isCurrent?"date":void 0,"aria-selected":e.isCurrent,tabindex:X(p)(e)?0:-1,onFocus:a[0]||(a[0]=(...e)=>X(y)&&X(y)(...e))},[ge(X(fa),{cell:e},null,8,["cell"])],42,ka)))),128))],2)))),128))],512)],42,ha))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Da=n({...oa,selectionMode:ia("month")}),Ca=["aria-label"],xa=["aria-selected","aria-label","tabindex","onKeydown"],Sa={class:"cell"};var Pa=k(H({__name:"basic-month-table",props:Da,emits:["changerange","pick","select"],setup(e,{expose:l,emit:t}){const n=e,s=i("month-table"),{t:o,lang:r}=u(),d=G(),c=G(),v=G(n.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),p=G([[],[],[]]),m=G(),b=G(),f=Z((()=>{var e,l;const t=p.value,s=a().locale(r.value).startOf("month");for(let a=0;a<3;a++){const o=t[a];for(let t=0;t<4;t++){const r=o[t]||(o[t]={row:a,column:t,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});r.type="normal";const u=4*a+t,i=n.date.startOf("year").month(u),d=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;r.inRange=!!(n.minDate&&i.isSameOrAfter(n.minDate,"month")&&d&&i.isSameOrBefore(d,"month"))||!!(n.minDate&&i.isSameOrBefore(n.minDate,"month")&&d&&i.isSameOrAfter(d,"month")),(null==(e=n.minDate)?void 0:e.isSameOrAfter(d))?(r.start=!(!d||!i.isSame(d,"month")),r.end=n.minDate&&i.isSame(n.minDate,"month")):(r.start=!(!n.minDate||!i.isSame(n.minDate,"month")),r.end=!(!d||!i.isSame(d,"month")));s.isSame(i)&&(r.type="today"),r.text=u,r.disabled=(null==(l=n.disabledDate)?void 0:l.call(n,i.toDate()))||!1}}return t})),h=e=>{const l={},t=n.date.year(),s=new Date,o=e.text;return l.disabled=!!n.disabledDate&&((e,l,t)=>{const n=a().locale(t).startOf("month").month(l).year(e),s=n.daysInMonth();return Re(s).map((e=>n.add(e,"day").toDate()))})(t,o,r.value).every(n.disabledDate),l.current=Me(n.parsedValue).findIndex((e=>a.isDayjs(e)&&e.year()===t&&e.month()===o))>=0,l.today=s.getFullYear()===t&&s.getMonth()===o,e.inRange&&(l["in-range"]=!0,e.start&&(l["start-date"]=!0),e.end&&(l["end-date"]=!0)),l},y=e=>{const a=n.date.year(),l=e.text;return Me(n.date).findIndex((e=>e.year()===a&&e.month()===l))>=0},g=e=>{var a;if(!n.rangeState.selecting)return;let l=e.target;if("A"===l.tagName&&(l=null==(a=l.parentNode)?void 0:a.parentNode),"DIV"===l.tagName&&(l=l.parentNode),"TD"!==l.tagName)return;const s=l.parentNode.rowIndex,o=l.cellIndex;f.value[s][o].disabled||s===m.value&&o===b.value||(m.value=s,b.value=o,t("changerange",{selecting:!0,endDate:n.date.startOf("year").month(4*s+o)}))},k=e=>{var a;const l=null==(a=e.target)?void 0:a.closest("td");if("TD"!==(null==l?void 0:l.tagName))return;if(V(l,"disabled"))return;const s=l.cellIndex,o=4*l.parentNode.rowIndex+s,r=n.date.startOf("year").month(o);"range"===n.selectionMode?n.rangeState.selecting?(n.minDate&&r>=n.minDate?t("pick",{minDate:n.minDate,maxDate:r}):t("pick",{minDate:r,maxDate:n.minDate}),t("select",!1)):(t("pick",{minDate:r,maxDate:null}),t("select",!0)):t("pick",o)};return Q((()=>n.date),(async()=>{var e,a;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await J(),null==(a=c.value)||a.focus())})),l({focus:()=>{var e;null==(e=c.value)||e.focus()}}),(e,a)=>(ae(),ie("table",{role:"grid","aria-label":X(o)("el.datepicker.monthTablePrompt"),class:ne(X(s).b()),onClick:k,onMousemove:g},[de("tbody",{ref_key:"tbodyRef",ref:d},[(ae(!0),ie(be,null,fe(X(f),((e,a)=>(ae(),ie("tr",{key:a},[(ae(!0),ie(be,null,fe(e,((e,a)=>(ae(),ie("td",{key:a,ref_for:!0,ref:a=>y(e)&&(c.value=a),class:ne(h(e)),"aria-selected":`${y(e)}`,"aria-label":X(o)("el.datepicker.month"+(+e.text+1)),tabindex:y(e)?0:-1,onKeydown:[we(oe(k,["prevent","stop"]),["space"]),we(oe(k,["prevent","stop"]),["enter"])]},[de("div",null,[de("span",Sa,ve(X(o)("el.datepicker.months."+v.value[e.text])),1)])],42,xa)))),128))])))),128))],512)],42,Ca))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:_a,disabledDate:Ma,parsedValue:Va}=oa,Oa=n({date:_a,disabledDate:Ma,parsedValue:Va}),Ia=["aria-label"],$a=["aria-selected","tabindex","onKeydown"],Aa={class:"cell"},Ra={key:1};var Na=k(H({__name:"basic-year-table",props:Oa,emits:["pick"],setup(e,{expose:l,emit:t}){const n=e,s=i("year-table"),{t:o,lang:r}=u(),d=G(),c=G(),v=Z((()=>10*Math.floor(n.date.year()/10))),p=e=>{const l={},t=a().locale(r.value);return l.disabled=!!n.disabledDate&&((e,l)=>{const t=a(String(e)).locale(l).startOf("year"),n=t.endOf("year").dayOfYear();return Re(n).map((e=>t.add(e,"day").toDate()))})(e,r.value).every(n.disabledDate),l.current=Me(n.parsedValue).findIndex((a=>a.year()===e))>=0,l.today=t.year()===e,l},m=e=>e===v.value&&n.date.year()<v.value&&n.date.year()>v.value+9||Me(n.date).findIndex((a=>a.year()===e))>=0,b=e=>{const a=e.target.closest("td");if(a&&a.textContent){if(V(a,"disabled"))return;const e=a.textContent||a.innerText;t("pick",Number(e))}};return Q((()=>n.date),(async()=>{var e,a;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await J(),null==(a=c.value)||a.focus())})),l({focus:()=>{var e;null==(e=c.value)||e.focus()}}),(e,a)=>(ae(),ie("table",{role:"grid","aria-label":X(o)("el.datepicker.yearTablePrompt"),class:ne(X(s).b()),onClick:b},[de("tbody",{ref_key:"tbodyRef",ref:d},[(ae(),ie(be,null,fe(3,((e,a)=>de("tr",{key:a},[(ae(),ie(be,null,fe(4,((e,l)=>(ae(),ie(be,{key:a+"_"+l},[4*a+l<10?(ae(),ie("td",{key:0,ref_for:!0,ref:e=>m(X(v)+4*a+l)&&(c.value=e),class:ne(["available",p(X(v)+4*a+l)]),"aria-selected":`${m(X(v)+4*a+l)}`,tabindex:m(X(v)+4*a+l)?0:-1,onKeydown:[we(oe(b,["prevent","stop"]),["space"]),we(oe(b,["prevent","stop"]),["enter"])]},[de("span",Aa,ve(X(v)+4*a+l),1)],42,$a)):(ae(),ie("td",Ra))],64)))),64))]))),64))],512)],10,Ia))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Fa=["onClick"],Ya=["aria-label"],Ba=["aria-label"],Ea=["aria-label"],Ta=["aria-label"];var Ka=k(H({__name:"panel-date-pick",props:da,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:l}){const n=e,s=i("picker-panel"),o=i("date-picker"),r=U(),d=De(),{t:c,lang:v}=u(),p=q("EP_PICKER_BASE"),m=q(O),{shortcuts:b,disabledDate:f,cellClassName:g,defaultTime:k}=p.props,D=Ce(p.props,"defaultValue"),C=G(),x=G(a().locale(v.value)),S=G(!1);let P=!1;const _=Z((()=>a(k).locale(v.value))),M=Z((()=>x.value.month())),V=Z((()=>x.value.year())),B=G([]),E=G(null),T=G(null),K=e=>!(B.value.length>0)||(B.value,n.format,!0),j=e=>!k||Re.value||S.value||P?Pe.value?e.millisecond(0):e.startOf("day"):_.value.year(e.year()).month(e.month()).date(e.date()),W=(e,...a)=>{if(e)if(t(e)){const t=e.map(j);l("pick",t,...a)}else l("pick",j(e),...a);else l("pick",e,...a);E.value=null,T.value=null,S.value=!1,P=!1},L=(e,a)=>{if("date"===oe.value){let l=n.parsedValue?n.parsedValue.year(e.year()).month(e.month()).date(e.date()):e;K()||(l=B.value[0][0].year(e.year()).month(e.month()).date(e.date())),x.value=l,W(l,Pe.value||a)}else"week"===oe.value?W(e.date):"dates"===oe.value&&W(e,!0)},z=e=>{const a=e?"add":"subtract";x.value=x.value[a](1,"month"),Ge("month")},H=e=>{const a=x.value,l=e?"add":"subtract";x.value="year"===ee.value?a[l](10,"year"):a[l](1,"year"),Ge("year")},ee=G("date"),se=Z((()=>{const e=c("el.datepicker.year");if("year"===ee.value){const a=10*Math.floor(V.value/10);return e?`${a} ${e} - ${a+9} ${e}`:`${a} - ${a+9}`}return`${V.value} ${e}`})),oe=Z((()=>{const{type:e}=n;return["week","month","year","dates"].includes(e)?e:"date"})),re=Z((()=>"date"===oe.value?ee.value:oe.value)),pe=Z((()=>!!b.length)),me=async e=>{x.value=x.value.startOf("month").month(e),"month"===oe.value?W(x.value,!1):(ee.value="date",["month","year","date","week"].includes(oe.value)&&(W(x.value,!0),await J(),He())),Ge("month")},ke=async e=>{"year"===oe.value?(x.value=x.value.startOf("year").year(e),W(x.value,!1)):(x.value=x.value.year(e),ee.value="month",["month","year","date","week"].includes(oe.value)&&(W(x.value,!0),await J(),He())),Ge("year")},Se=async e=>{ee.value=e,await J(),He()},Pe=Z((()=>"datetime"===n.type||"datetimerange"===n.type)),_e=Z((()=>Pe.value||"dates"===oe.value)),Me=Z((()=>!!f&&(!n.parsedValue||(t(n.parsedValue)?f(n.parsedValue[0].toDate()):f(n.parsedValue.toDate()))))),Ve=()=>{if("dates"===oe.value)W(n.parsedValue);else{let e=n.parsedValue;if(!e){const l=a(k).locale(v.value),t=ze();e=l.year(t.year()).month(t.month()).date(t.date())}x.value=e,W(e)}},Oe=Z((()=>!!f&&f(a().locale(v.value).toDate()))),Ie=()=>{const e=a().locale(v.value).toDate();S.value=!0,f&&f(e)||!K()||(x.value=a().locale(v.value),W(x.value))},$e=Z((()=>n.timeFormat||Fe(n.format))),Ae=Z((()=>n.dateFormat||Ne(n.format))),Re=Z((()=>T.value?T.value:n.parsedValue||D.value?(n.parsedValue||x.value).format($e.value):void 0)),Ye=Z((()=>E.value?E.value:n.parsedValue||D.value?(n.parsedValue||x.value).format(Ae.value):void 0)),Be=G(!1),Ee=()=>{Be.value=!0},Te=()=>{Be.value=!1},Ke=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),je=(e,a,l)=>{const{hour:t,minute:s,second:o}=Ke(e),r=n.parsedValue?n.parsedValue.hour(t).minute(s).second(o):e;x.value=r,W(x.value,!0),l||(Be.value=a)},We=e=>{const l=a(e,$e.value).locale(v.value);if(l.isValid()&&K()){const{year:e,month:a,date:t}=Ke(x.value);x.value=l.year(e).month(a).date(t),T.value=null,Be.value=!1,W(x.value,!0)}},Le=e=>{const l=a(e,Ae.value).locale(v.value);if(l.isValid()){if(f&&f(l.toDate()))return;const{hour:e,minute:a,second:t}=Ke(x.value);x.value=l.hour(e).minute(a).second(t),E.value=null,W(x.value,!0)}},ze=()=>{const e=a(D.value).locale(v.value);if(!D.value){const e=_.value;return a().hour(e.hour()).minute(e.minute()).second(e.second()).locale(v.value)}return e},He=async()=>{var e;["week","month","year","date"].includes(oe.value)&&(null==(e=C.value)||e.focus(),"week"===oe.value&&qe(w.down))},Ue=e=>{const{code:a}=e;[w.up,w.down,w.left,w.right,w.home,w.end,w.pageUp,w.pageDown].includes(a)&&(qe(a),e.stopPropagation(),e.preventDefault()),[w.enter,w.space,w.numpadEnter].includes(a)&&null===E.value&&null===T.value&&(e.preventDefault(),W(x.value,!1))},qe=e=>{var t;const{up:n,down:s,left:o,right:r,home:u,end:i,pageUp:d,pageDown:c}=w,p={year:{[n]:-4,[s]:4,[o]:-1,[r]:1,offset:(e,a)=>e.setFullYear(e.getFullYear()+a)},month:{[n]:-4,[s]:4,[o]:-1,[r]:1,offset:(e,a)=>e.setMonth(e.getMonth()+a)},week:{[n]:-1,[s]:1,[o]:-1,[r]:1,offset:(e,a)=>e.setDate(e.getDate()+7*a)},date:{[n]:-7,[s]:7,[o]:-1,[r]:1,[u]:e=>-e.getDay(),[i]:e=>6-e.getDay(),[d]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[c]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,a)=>e.setDate(e.getDate()+a)}},m=x.value.toDate();for(;Math.abs(x.value.diff(m,"year",!0))<1;){const n=p[re.value];if(!n)return;if(n.offset(m,Y(n[e])?n[e](m):null!=(t=n[e])?t:0),f&&f(m))break;const s=a(m).locale(v.value);x.value=s,l("pick",s,!0);break}},Ge=e=>{l("panel-change",x.value.toDate(),e,ee.value)};return Q((()=>oe.value),(e=>{["month","year"].includes(e)?ee.value=e:ee.value="date"}),{immediate:!0}),Q((()=>ee.value),(()=>{null==m||m.updatePopper()})),Q((()=>D.value),(e=>{e&&(x.value=ze())}),{immediate:!0}),Q((()=>n.parsedValue),(e=>{if(e){if("dates"===oe.value)return;if(Array.isArray(e))return;x.value=e}else x.value=ze()}),{immediate:!0}),l("set-picker-option",["isValidValue",e=>a.isDayjs(e)&&e.isValid()&&(!f||!f(e.toDate()))]),l("set-picker-option",["formatToString",e=>"dates"===oe.value?e.map((e=>e.format(n.format))):e.format(n.format)]),l("set-picker-option",["parseUserInput",e=>a(e,n.format).locale(v.value)]),l("set-picker-option",["handleFocusPicker",He]),(e,t)=>(ae(),ie("div",{class:ne([X(s).b(),X(o).b(),{"has-sidebar":e.$slots.sidebar||X(pe),"has-time":X(Pe)}])},[de("div",{class:ne(X(s).e("body-wrapper"))},[ce(e.$slots,"sidebar",{class:ne(X(s).e("sidebar"))}),X(pe)?(ae(),ie("div",{key:0,class:ne(X(s).e("sidebar"))},[(ae(!0),ie(be,null,fe(X(b),((e,t)=>(ae(),ie("button",{key:t,type:"button",class:ne(X(s).e("shortcut")),onClick:t=>(e=>{const t=Y(e.value)?e.value():e.value;if(t)return P=!0,void W(a(t).locale(v.value));e.onClick&&e.onClick({attrs:r,slots:d,emit:l})})(e)},ve(e.text),11,Fa)))),128))],2)):ue("v-if",!0),de("div",{class:ne(X(s).e("body"))},[X(Pe)?(ae(),ie("div",{key:0,class:ne(X(o).e("time-header"))},[de("span",{class:ne(X(o).e("editor-wrap"))},[ge(X(h),{placeholder:X(c)("el.datepicker.selectDate"),"model-value":X(Ye),size:"small","validate-event":!1,onInput:t[0]||(t[0]=e=>E.value=e),onChange:Le},null,8,["placeholder","model-value"])],2),ye((ae(),ie("span",{class:ne(X(o).e("editor-wrap"))},[ge(X(h),{placeholder:X(c)("el.datepicker.selectTime"),"model-value":X(Re),size:"small","validate-event":!1,onFocus:Ee,onInput:t[1]||(t[1]=e=>T.value=e),onChange:We},null,8,["placeholder","model-value"]),ge(X(la),{visible:Be.value,format:X($e),"parsed-value":x.value,onPick:je},null,8,["visible","format","parsed-value"])],2)),[[X(I),Te]])],2)):ue("v-if",!0),ye(de("div",{class:ne([X(o).e("header"),("year"===ee.value||"month"===ee.value)&&X(o).e("header--bordered")])},[de("span",{class:ne(X(o).e("prev-btn"))},[de("button",{type:"button","aria-label":X(c)("el.datepicker.prevYear"),class:ne(["d-arrow-left",X(s).e("icon-btn")]),onClick:t[2]||(t[2]=e=>H(!1))},[ge(X(y),null,{default:te((()=>[ge(X($))])),_:1})],10,Ya),ye(de("button",{type:"button","aria-label":X(c)("el.datepicker.prevMonth"),class:ne([X(s).e("icon-btn"),"arrow-left"]),onClick:t[3]||(t[3]=e=>z(!1))},[ge(X(y),null,{default:te((()=>[ge(X(A))])),_:1})],10,Ba),[[xe,"date"===ee.value]])],2),de("span",{role:"button",class:ne(X(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:t[4]||(t[4]=we((e=>Se("year")),["enter"])),onClick:t[5]||(t[5]=e=>Se("year"))},ve(X(se)),35),ye(de("span",{role:"button","aria-live":"polite",tabindex:"0",class:ne([X(o).e("header-label"),{active:"month"===ee.value}]),onKeydown:t[6]||(t[6]=we((e=>Se("month")),["enter"])),onClick:t[7]||(t[7]=e=>Se("month"))},ve(X(c)(`el.datepicker.month${X(M)+1}`)),35),[[xe,"date"===ee.value]]),de("span",{class:ne(X(o).e("next-btn"))},[ye(de("button",{type:"button","aria-label":X(c)("el.datepicker.nextMonth"),class:ne([X(s).e("icon-btn"),"arrow-right"]),onClick:t[8]||(t[8]=e=>z(!0))},[ge(X(y),null,{default:te((()=>[ge(X(R))])),_:1})],10,Ea),[[xe,"date"===ee.value]]),de("button",{type:"button","aria-label":X(c)("el.datepicker.nextYear"),class:ne([X(s).e("icon-btn"),"d-arrow-right"]),onClick:t[9]||(t[9]=e=>H(!0))},[ge(X(y),null,{default:te((()=>[ge(X(N))])),_:1})],10,Ta)],2)],2),[[xe,"time"!==ee.value]]),de("div",{class:ne(X(s).e("content")),onKeydown:Ue},["date"===ee.value?(ae(),le(wa,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":X(oe),date:x.value,"parsed-value":e.parsedValue,"disabled-date":X(f),"cell-class-name":X(g),onPick:L},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ue("v-if",!0),"year"===ee.value?(ae(),le(Na,{key:1,ref_key:"currentViewRef",ref:C,date:x.value,"disabled-date":X(f),"parsed-value":e.parsedValue,onPick:ke},null,8,["date","disabled-date","parsed-value"])):ue("v-if",!0),"month"===ee.value?(ae(),le(Pa,{key:2,ref_key:"currentViewRef",ref:C,date:x.value,"parsed-value":e.parsedValue,"disabled-date":X(f),onPick:me},null,8,["date","parsed-value","disabled-date"])):ue("v-if",!0)],34)],2)],2),ye(de("div",{class:ne(X(s).e("footer"))},[ye(ge(X(F),{text:"",size:"small",class:ne(X(s).e("link-btn")),disabled:X(Oe),onClick:Ie},{default:te((()=>[he(ve(X(c)("el.datepicker.now")),1)])),_:1},8,["class","disabled"]),[[xe,"dates"!==X(oe)]]),ge(X(F),{plain:"",size:"small",class:ne(X(s).e("link-btn")),disabled:X(Me),onClick:Ve},{default:te((()=>[he(ve(X(c)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2),[[xe,X(_e)&&"date"===ee.value]])],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const ja=n({...ra,...ua}),Wa=(e,{defaultValue:l,leftDate:n,rightDate:s,unit:o,onParsedValueChanged:r})=>{const{emit:d}=Se(),{pickerNs:c}=q(ta),v=i("date-range-picker"),{t:p,lang:m}=u(),b=(e=>{const{emit:l}=Se(),t=U(),n=De();return s=>{const o=Y(s.value)?s.value():s.value;o?l("pick",[a(o[0]).locale(e.value),a(o[1]).locale(e.value)]):s.onClick&&s.onClick({attrs:t,slots:n,emit:l})}})(m),f=G(),h=G(),y=G({endDate:null,selecting:!1}),g=()=>{const[a,t]=pa(X(l),{lang:X(m),unit:o,unlinkPanels:e.unlinkPanels});f.value=void 0,h.value=void 0,n.value=a,s.value=t};return Q(l,(e=>{e&&g()}),{immediate:!0}),Q((()=>e.parsedValue),(e=>{if(t(e)&&2===e.length){const[a,l]=e;f.value=a,n.value=a,h.value=l,r(X(f),X(h))}else g()}),{immediate:!0}),{minDate:f,maxDate:h,rangeState:y,lang:m,ppNs:c,drpNs:v,handleChangeRange:e=>{y.value=e},handleRangeConfirm:(e=!1)=>{const a=X(f),l=X(h);va([a,l])&&d("pick",[a,l],e)},handleShortcutClick:b,onSelect:e=>{y.value.selecting=e,e||(y.value.endDate=null)},t:p}},La=["onClick"],za=["aria-label"],Ha=["aria-label"],Ua=["disabled","aria-label"],qa=["disabled","aria-label"],Ga=["disabled","aria-label"],Za=["disabled","aria-label"],Qa=["aria-label"],Ja=["aria-label"],Xa="month";var el=k(H({__name:"panel-date-range",props:ja,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:l}){const n=e,s=q("EP_PICKER_BASE"),{disabledDate:o,cellClassName:r,format:i,defaultTime:d,clearable:c}=s.props,v=Ce(s.props,"shortcuts"),p=Ce(s.props,"defaultValue"),{lang:m}=u(),b=G(a().locale(m.value)),f=G(a().locale(m.value).add(1,Xa)),{minDate:g,maxDate:k,rangeState:w,ppNs:D,drpNs:C,handleChangeRange:x,handleRangeConfirm:S,handleShortcutClick:P,onSelect:_,t:M}=Wa(n,{defaultValue:p,leftDate:b,rightDate:f,unit:Xa,onParsedValueChanged:function(e,a){if(n.unlinkPanels&&a){const l=(null==e?void 0:e.year())||0,t=(null==e?void 0:e.month())||0,n=a.year(),s=a.month();f.value=l===n&&t===s?a.add(1,Xa):a}else f.value=b.value.add(1,Xa),a&&(f.value=f.value.hour(a.hour()).minute(a.minute()).second(a.second()))}}),V=G({min:null,max:null}),O=G({min:null,max:null}),Y=Z((()=>`${b.value.year()} ${M("el.datepicker.year")} ${M(`el.datepicker.month${b.value.month()+1}`)}`)),B=Z((()=>`${f.value.year()} ${M("el.datepicker.year")} ${M(`el.datepicker.month${f.value.month()+1}`)}`)),E=Z((()=>b.value.year())),T=Z((()=>b.value.month())),K=Z((()=>f.value.year())),j=Z((()=>f.value.month())),W=Z((()=>!!v.value.length)),L=Z((()=>null!==V.value.min?V.value.min:g.value?g.value.format(J.value):"")),z=Z((()=>null!==V.value.max?V.value.max:k.value||g.value?(k.value||g.value).format(J.value):"")),H=Z((()=>null!==O.value.min?O.value.min:g.value?g.value.format(Q.value):"")),U=Z((()=>null!==O.value.max?O.value.max:k.value||g.value?(k.value||g.value).format(Q.value):"")),Q=Z((()=>n.timeFormat||Fe(i))),J=Z((()=>n.dateFormat||Ne(i))),ee=()=>{b.value=b.value.subtract(1,"year"),n.unlinkPanels||(f.value=b.value.add(1,"month")),De("year")},se=()=>{b.value=b.value.subtract(1,"month"),n.unlinkPanels||(f.value=b.value.add(1,"month")),De("month")},oe=()=>{n.unlinkPanels?f.value=f.value.add(1,"year"):(b.value=b.value.add(1,"year"),f.value=b.value.add(1,"month")),De("year")},re=()=>{n.unlinkPanels?f.value=f.value.add(1,"month"):(b.value=b.value.add(1,"month"),f.value=b.value.add(1,"month")),De("month")},pe=()=>{b.value=b.value.add(1,"year"),De("year")},me=()=>{b.value=b.value.add(1,"month"),De("month")},ke=()=>{f.value=f.value.subtract(1,"year"),De("year")},we=()=>{f.value=f.value.subtract(1,"month"),De("month")},De=e=>{l("panel-change",[b.value.toDate(),f.value.toDate()],e)},xe=Z((()=>{const e=(T.value+1)%12,a=T.value+1>=12?1:0;return n.unlinkPanels&&new Date(E.value+a,e)<new Date(K.value,j.value)})),Se=Z((()=>n.unlinkPanels&&12*K.value+j.value-(12*E.value+T.value+1)>=12)),Pe=Z((()=>!(g.value&&k.value&&!w.value.selecting&&va([g.value,k.value])))),_e=Z((()=>"datetime"===n.type||"datetimerange"===n.type)),Me=(e,l)=>{if(e){if(d){return a(d[l]||d).locale(m.value).year(e.year()).month(e.month()).date(e.date())}return e}},Ve=(e,a=!0)=>{const t=e.minDate,n=e.maxDate,s=Me(t,0),o=Me(n,1);k.value===o&&g.value===s||(l("calendar-change",[t.toDate(),n&&n.toDate()]),k.value=o,g.value=s,a&&!_e.value&&S())},Oe=G(!1),Ie=G(!1),$e=()=>{Oe.value=!1},Ae=()=>{Ie.value=!1},Re=(e,l)=>{V.value[l]=e;const t=a(e,J.value).locale(m.value);if(t.isValid()){if(o&&o(t.toDate()))return;"min"===l?(b.value=t,g.value=(g.value||b.value).year(t.year()).month(t.month()).date(t.date()),n.unlinkPanels||k.value&&!k.value.isBefore(g.value)||(f.value=t.add(1,"month"),k.value=g.value.add(1,"month"))):(f.value=t,k.value=(k.value||f.value).year(t.year()).month(t.month()).date(t.date()),n.unlinkPanels||g.value&&!g.value.isAfter(k.value)||(b.value=t.subtract(1,"month"),g.value=k.value.subtract(1,"month")))}},Ye=(e,a)=>{V.value[a]=null},Be=(e,l)=>{O.value[l]=e;const t=a(e,Q.value).locale(m.value);t.isValid()&&("min"===l?(Oe.value=!0,g.value=(g.value||b.value).hour(t.hour()).minute(t.minute()).second(t.second()),k.value&&!k.value.isBefore(g.value)||(k.value=g.value)):(Ie.value=!0,k.value=(k.value||f.value).hour(t.hour()).minute(t.minute()).second(t.second()),f.value=k.value,k.value&&k.value.isBefore(g.value)&&(g.value=k.value)))},Ee=(e,a)=>{O.value[a]=null,"min"===a?(b.value=g.value,Oe.value=!1):(f.value=k.value,Ie.value=!1)},Te=(e,a,l)=>{O.value.min||(e&&(b.value=e,g.value=(g.value||b.value).hour(e.hour()).minute(e.minute()).second(e.second())),l||(Oe.value=a),k.value&&!k.value.isBefore(g.value)||(k.value=g.value,f.value=e))},Ke=(e,a,l)=>{O.value.max||(e&&(f.value=e,k.value=(k.value||f.value).hour(e.hour()).minute(e.minute()).second(e.second())),l||(Ie.value=a),k.value&&k.value.isBefore(g.value)&&(g.value=k.value))},je=()=>{b.value=pa(X(p),{lang:X(m),unit:"month",unlinkPanels:n.unlinkPanels})[0],f.value=b.value.add(1,"month"),l("pick",null)};return l("set-picker-option",["isValidValue",e=>va(e)&&(!o||!o(e[0].toDate())&&!o(e[1].toDate()))]),l("set-picker-option",["parseUserInput",e=>t(e)?e.map((e=>a(e,i).locale(m.value))):a(e,i).locale(m.value)]),l("set-picker-option",["formatToString",e=>t(e)?e.map((e=>e.format(i))):e.format(i)]),l("set-picker-option",["handleClear",je]),(e,a)=>(ae(),ie("div",{class:ne([X(D).b(),X(C).b(),{"has-sidebar":e.$slots.sidebar||X(W),"has-time":X(_e)}])},[de("div",{class:ne(X(D).e("body-wrapper"))},[ce(e.$slots,"sidebar",{class:ne(X(D).e("sidebar"))}),X(W)?(ae(),ie("div",{key:0,class:ne(X(D).e("sidebar"))},[(ae(!0),ie(be,null,fe(X(v),((e,a)=>(ae(),ie("button",{key:a,type:"button",class:ne(X(D).e("shortcut")),onClick:a=>X(P)(e)},ve(e.text),11,La)))),128))],2)):ue("v-if",!0),de("div",{class:ne(X(D).e("body"))},[X(_e)?(ae(),ie("div",{key:0,class:ne(X(C).e("time-header"))},[de("span",{class:ne(X(C).e("editors-wrap"))},[de("span",{class:ne(X(C).e("time-picker-wrap"))},[ge(X(h),{size:"small",disabled:X(w).selecting,placeholder:X(M)("el.datepicker.startDate"),class:ne(X(C).e("editor")),"model-value":X(L),"validate-event":!1,onInput:a[0]||(a[0]=e=>Re(e,"min")),onChange:a[1]||(a[1]=e=>Ye(0,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),ye((ae(),ie("span",{class:ne(X(C).e("time-picker-wrap"))},[ge(X(h),{size:"small",class:ne(X(C).e("editor")),disabled:X(w).selecting,placeholder:X(M)("el.datepicker.startTime"),"model-value":X(H),"validate-event":!1,onFocus:a[2]||(a[2]=e=>Oe.value=!0),onInput:a[3]||(a[3]=e=>Be(e,"min")),onChange:a[4]||(a[4]=e=>Ee(0,"min"))},null,8,["class","disabled","placeholder","model-value"]),ge(X(la),{visible:Oe.value,format:X(Q),"datetime-role":"start","parsed-value":b.value,onPick:Te},null,8,["visible","format","parsed-value"])],2)),[[X(I),$e]])],2),de("span",null,[ge(X(y),null,{default:te((()=>[ge(X(R))])),_:1})]),de("span",{class:ne([X(C).e("editors-wrap"),"is-right"])},[de("span",{class:ne(X(C).e("time-picker-wrap"))},[ge(X(h),{size:"small",class:ne(X(C).e("editor")),disabled:X(w).selecting,placeholder:X(M)("el.datepicker.endDate"),"model-value":X(z),readonly:!X(g),"validate-event":!1,onInput:a[5]||(a[5]=e=>Re(e,"max")),onChange:a[6]||(a[6]=e=>Ye(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),ye((ae(),ie("span",{class:ne(X(C).e("time-picker-wrap"))},[ge(X(h),{size:"small",class:ne(X(C).e("editor")),disabled:X(w).selecting,placeholder:X(M)("el.datepicker.endTime"),"model-value":X(U),readonly:!X(g),"validate-event":!1,onFocus:a[7]||(a[7]=e=>X(g)&&(Ie.value=!0)),onInput:a[8]||(a[8]=e=>Be(e,"max")),onChange:a[9]||(a[9]=e=>Ee(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ge(X(la),{"datetime-role":"end",visible:Ie.value,format:X(Q),"parsed-value":f.value,onPick:Ke},null,8,["visible","format","parsed-value"])],2)),[[X(I),Ae]])],2)],2)):ue("v-if",!0),de("div",{class:ne([[X(D).e("content"),X(C).e("content")],"is-left"])},[de("div",{class:ne(X(C).e("header"))},[de("button",{type:"button",class:ne([X(D).e("icon-btn"),"d-arrow-left"]),"aria-label":X(M)("el.datepicker.prevYear"),onClick:ee},[ge(X(y),null,{default:te((()=>[ge(X($))])),_:1})],10,za),de("button",{type:"button",class:ne([X(D).e("icon-btn"),"arrow-left"]),"aria-label":X(M)("el.datepicker.prevMonth"),onClick:se},[ge(X(y),null,{default:te((()=>[ge(X(A))])),_:1})],10,Ha),e.unlinkPanels?(ae(),ie("button",{key:0,type:"button",disabled:!X(Se),class:ne([[X(D).e("icon-btn"),{"is-disabled":!X(Se)}],"d-arrow-right"]),"aria-label":X(M)("el.datepicker.nextYear"),onClick:pe},[ge(X(y),null,{default:te((()=>[ge(X(N))])),_:1})],10,Ua)):ue("v-if",!0),e.unlinkPanels?(ae(),ie("button",{key:1,type:"button",disabled:!X(xe),class:ne([[X(D).e("icon-btn"),{"is-disabled":!X(xe)}],"arrow-right"]),"aria-label":X(M)("el.datepicker.nextMonth"),onClick:me},[ge(X(y),null,{default:te((()=>[ge(X(R))])),_:1})],10,qa)):ue("v-if",!0),de("div",null,ve(X(Y)),1)],2),ge(wa,{"selection-mode":"range",date:b.value,"min-date":X(g),"max-date":X(k),"range-state":X(w),"disabled-date":X(o),"cell-class-name":X(r),onChangerange:X(x),onPick:Ve,onSelect:X(_)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),de("div",{class:ne([[X(D).e("content"),X(C).e("content")],"is-right"])},[de("div",{class:ne(X(C).e("header"))},[e.unlinkPanels?(ae(),ie("button",{key:0,type:"button",disabled:!X(Se),class:ne([[X(D).e("icon-btn"),{"is-disabled":!X(Se)}],"d-arrow-left"]),"aria-label":X(M)("el.datepicker.prevYear"),onClick:ke},[ge(X(y),null,{default:te((()=>[ge(X($))])),_:1})],10,Ga)):ue("v-if",!0),e.unlinkPanels?(ae(),ie("button",{key:1,type:"button",disabled:!X(xe),class:ne([[X(D).e("icon-btn"),{"is-disabled":!X(xe)}],"arrow-left"]),"aria-label":X(M)("el.datepicker.prevMonth"),onClick:we},[ge(X(y),null,{default:te((()=>[ge(X(A))])),_:1})],10,Za)):ue("v-if",!0),de("button",{type:"button","aria-label":X(M)("el.datepicker.nextYear"),class:ne([X(D).e("icon-btn"),"d-arrow-right"]),onClick:oe},[ge(X(y),null,{default:te((()=>[ge(X(N))])),_:1})],10,Qa),de("button",{type:"button",class:ne([X(D).e("icon-btn"),"arrow-right"]),"aria-label":X(M)("el.datepicker.nextMonth"),onClick:re},[ge(X(y),null,{default:te((()=>[ge(X(R))])),_:1})],10,Ja),de("div",null,ve(X(B)),1)],2),ge(wa,{"selection-mode":"range",date:f.value,"min-date":X(g),"max-date":X(k),"range-state":X(w),"disabled-date":X(o),"cell-class-name":X(r),onChangerange:X(x),onPick:Ve,onSelect:X(_)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),X(_e)?(ae(),ie("div",{key:0,class:ne(X(D).e("footer"))},[X(c)?(ae(),le(X(F),{key:0,text:"",size:"small",class:ne(X(D).e("link-btn")),onClick:je},{default:te((()=>[he(ve(X(M)("el.datepicker.clear")),1)])),_:1},8,["class"])):ue("v-if",!0),ge(X(F),{plain:"",size:"small",class:ne(X(D).e("link-btn")),disabled:X(Pe),onClick:a[10]||(a[10]=e=>X(S)(!1))},{default:te((()=>[he(ve(X(M)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2)):ue("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const al=n({...ua}),ll=["onClick"],tl=["disabled"],nl=["disabled"],sl="year",ol=H({name:"DatePickerMonthRange"});var rl=k(H({...ol,props:al,emits:["pick","set-picker-option","calendar-change"],setup(e,{emit:l}){const t=e,{lang:n}=u(),s=q("EP_PICKER_BASE"),{shortcuts:o,disabledDate:r,format:i}=s.props,d=Ce(s.props,"defaultValue"),c=G(a().locale(n.value)),v=G(a().locale(n.value).add(1,sl)),{minDate:p,maxDate:m,rangeState:b,ppNs:f,drpNs:h,handleChangeRange:g,handleRangeConfirm:k,handleShortcutClick:w,onSelect:D}=Wa(t,{defaultValue:d,leftDate:c,rightDate:v,unit:sl,onParsedValueChanged:function(e,a){if(t.unlinkPanels&&a){const l=(null==e?void 0:e.year())||0,t=a.year();v.value=l===t?a.add(1,sl):a}else v.value=c.value.add(1,sl)}}),C=Z((()=>!!o.length)),{leftPrevYear:x,rightNextYear:S,leftNextYear:P,rightPrevYear:_,leftLabel:M,rightLabel:V,leftYear:O,rightYear:I}=(({unlinkPanels:e,leftDate:a,rightDate:l})=>{const{t:t}=u();return{leftPrevYear:()=>{a.value=a.value.subtract(1,"year"),e.value||(l.value=l.value.subtract(1,"year"))},rightNextYear:()=>{e.value||(a.value=a.value.add(1,"year")),l.value=l.value.add(1,"year")},leftNextYear:()=>{a.value=a.value.add(1,"year")},rightPrevYear:()=>{l.value=l.value.subtract(1,"year")},leftLabel:Z((()=>`${a.value.year()} ${t("el.datepicker.year")}`)),rightLabel:Z((()=>`${l.value.year()} ${t("el.datepicker.year")}`)),leftYear:Z((()=>a.value.year())),rightYear:Z((()=>l.value.year()===a.value.year()?a.value.year()+1:l.value.year()))}})({unlinkPanels:Ce(t,"unlinkPanels"),leftDate:c,rightDate:v}),A=Z((()=>t.unlinkPanels&&I.value>O.value+1)),R=(e,a=!0)=>{const t=e.minDate,n=e.maxDate;m.value===n&&p.value===t||(l("calendar-change",[t.toDate(),n&&n.toDate()]),m.value=n,p.value=t,a&&k())};return l("set-picker-option",["formatToString",e=>e.map((e=>e.format(i)))]),(e,a)=>(ae(),ie("div",{class:ne([X(f).b(),X(h).b(),{"has-sidebar":Boolean(e.$slots.sidebar)||X(C)}])},[de("div",{class:ne(X(f).e("body-wrapper"))},[ce(e.$slots,"sidebar",{class:ne(X(f).e("sidebar"))}),X(C)?(ae(),ie("div",{key:0,class:ne(X(f).e("sidebar"))},[(ae(!0),ie(be,null,fe(X(o),((e,a)=>(ae(),ie("button",{key:a,type:"button",class:ne(X(f).e("shortcut")),onClick:a=>X(w)(e)},ve(e.text),11,ll)))),128))],2)):ue("v-if",!0),de("div",{class:ne(X(f).e("body"))},[de("div",{class:ne([[X(f).e("content"),X(h).e("content")],"is-left"])},[de("div",{class:ne(X(h).e("header"))},[de("button",{type:"button",class:ne([X(f).e("icon-btn"),"d-arrow-left"]),onClick:a[0]||(a[0]=(...e)=>X(x)&&X(x)(...e))},[ge(X(y),null,{default:te((()=>[ge(X($))])),_:1})],2),e.unlinkPanels?(ae(),ie("button",{key:0,type:"button",disabled:!X(A),class:ne([[X(f).e("icon-btn"),{[X(f).is("disabled")]:!X(A)}],"d-arrow-right"]),onClick:a[1]||(a[1]=(...e)=>X(P)&&X(P)(...e))},[ge(X(y),null,{default:te((()=>[ge(X(N))])),_:1})],10,tl)):ue("v-if",!0),de("div",null,ve(X(M)),1)],2),ge(Pa,{"selection-mode":"range",date:c.value,"min-date":X(p),"max-date":X(m),"range-state":X(b),"disabled-date":X(r),onChangerange:X(g),onPick:R,onSelect:X(D)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),de("div",{class:ne([[X(f).e("content"),X(h).e("content")],"is-right"])},[de("div",{class:ne(X(h).e("header"))},[e.unlinkPanels?(ae(),ie("button",{key:0,type:"button",disabled:!X(A),class:ne([[X(f).e("icon-btn"),{"is-disabled":!X(A)}],"d-arrow-left"]),onClick:a[2]||(a[2]=(...e)=>X(_)&&X(_)(...e))},[ge(X(y),null,{default:te((()=>[ge(X($))])),_:1})],10,nl)):ue("v-if",!0),de("button",{type:"button",class:ne([X(f).e("icon-btn"),"d-arrow-right"]),onClick:a[3]||(a[3]=(...e)=>X(S)&&X(S)(...e))},[ge(X(y),null,{default:te((()=>[ge(X(N))])),_:1})],2),de("div",null,ve(X(V)),1)],2),ge(Pa,{"selection-mode":"range",date:v.value,"min-date":X(p),"max-date":X(m),"range-state":X(b),"disabled-date":X(r),onChangerange:X(g),onPick:R,onSelect:X(D)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);a.extend(B),a.extend(E),a.extend(T),a.extend(K),a.extend(j),a.extend(W),a.extend(L),a.extend(z);const ul=H({name:"ElDatePicker",install:null,props:na,emits:["update:modelValue"],setup(e,{expose:a,emit:l,slots:t}){const n=i("picker-panel");ee("ElPopperOptions",Pe(Ce(e,"popperOptions"))),ee(ta,{slots:t,pickerNs:n});const s=G();a({focus:(e=!0)=>{var a;null==(a=s.value)||a.focus(e)},handleOpen:()=>{var e;null==(e=s.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=s.value)||e.handleClose()}});const o=e=>{l("update:modelValue",e)};return()=>{var a;const l=null!=(a=e.format)?a:$e[e.type]||Ie,n=function(e){switch(e){case"daterange":case"datetimerange":return el;case"monthrange":return rl;default:return Ka}}(e.type);return ge(qe,pe(e,{format:l,type:e.type,ref:s,"onUpdate:modelValue":o}),{default:e=>ge(n,e,null),"range-separator":t["range-separator"]})}}});ul.install=e=>{e.component(ul.name,ul)};const il=ul;export{il as E};
