import{by as e,bz as a,b as t,a1 as l,bA as n,at as o,bc as r,d as s,aA as u,aC as i,bB as d,bC as c,bD as v,au as p,am as m,o as f,E as h,y,_ as b,a7 as g,al as k,bh as w,P as D,ba as x,b9 as S,g as M,bE as C,be as P,bF as _,bb as V,bG as $,e as O,f as Y,bH as A,x as I}from"./index-90446df7.js";import{a7 as N,a8 as R,aL as T,f as B,E,Z as F,z as L,a as z,e as W,b as j,n as H,u as K,D as U,l as G,S as Z,R as q,L as X,U as Q,a0 as J,T as ee,X as ae,m as te,p as le,F as ne,W as oe,G as re,d as se,P as ue,aj as ie,V as de,_ as ce,O as ve,a1 as pe,an as me,Q as fe,H as he,$ as ye,v as be,c as ge,J as ke}from"./vxetable-1fe7c1fd.js";import{v as we}from"./index-b6375018.js";const De=e=>e||0===e?Array.isArray(e)?e:[e]:[];var xe={exports:{}};xe.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,l=/\d\d?/,n=/\d*[^-_:/,()\s\d]+/,o={},r=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(a){this[e]=+a}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var a=e.match(/([+-]|\d\d)/g),t=60*a[1]+(+a[2]||0);return 0===t?0:"+"===a[0]?-t:t}(e)}],i=function(e){var a=o[e];return a&&(a.indexOf?a:a.s.concat(a.f))},d=function(e,a){var t,l=o.meridiem;if(l){for(var n=1;n<=24;n+=1)if(e.indexOf(l(n,0,a))>-1){t=n>12;break}}else t=e===(a?"pm":"PM");return t},c={A:[n,function(e){this.afternoon=d(e,!1)}],a:[n,function(e){this.afternoon=d(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[t,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[l,s("seconds")],ss:[l,s("seconds")],m:[l,s("minutes")],mm:[l,s("minutes")],H:[l,s("hours")],h:[l,s("hours")],HH:[l,s("hours")],hh:[l,s("hours")],D:[l,s("day")],DD:[t,s("day")],Do:[n,function(e){var a=o.ordinal,t=e.match(/\d+/);if(this.day=t[0],a)for(var l=1;l<=31;l+=1)a(l).replace(/\[|\]/g,"")===e&&(this.day=l)}],M:[l,s("month")],MM:[t,s("month")],MMM:[n,function(e){var a=i("months"),t=(i("monthsShort")||a.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],MMMM:[n,function(e){var a=i("months").indexOf(e)+1;if(a<1)throw new Error;this.month=a%12||a}],Y:[/[+-]?\d+/,s("year")],YY:[t,function(e){this.year=r(e)}],YYYY:[/\d{4}/,s("year")],Z:u,ZZ:u};function v(t){var l,n;l=t,n=o&&o.formats;for(var r=(t=l.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(a,t,l){var o=l&&l.toUpperCase();return t||n[l]||e[l]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,a,t){return a||t.slice(1)}))}))).match(a),s=r.length,u=0;u<s;u+=1){var i=r[u],d=c[i],v=d&&d[0],p=d&&d[1];r[u]=p?{regex:v,parser:p}:i.replace(/^\[|\]$/g,"")}return function(e){for(var a={},t=0,l=0;t<s;t+=1){var n=r[t];if("string"==typeof n)l+=n.length;else{var o=n.regex,u=n.parser,i=e.slice(l),d=o.exec(i)[0];u.call(a,d),e=e.replace(d,"")}}return function(e){var a=e.afternoon;if(void 0!==a){var t=e.hours;a?t<12&&(e.hours+=12):12===t&&(e.hours=0),delete e.afternoon}}(a),a}}return function(e,a,t){t.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(r=e.parseTwoDigitYear);var l=a.prototype,n=l.parse;l.parse=function(e){var a=e.date,l=e.utc,r=e.args;this.$u=l;var s=r[1];if("string"==typeof s){var u=!0===r[2],i=!0===r[3],d=u||i,c=r[2];i&&(c=r[2]),o=this.$locale(),!u&&c&&(o=t.Ls[c]),this.$d=function(e,a,t){try{if(["x","X"].indexOf(a)>-1)return new Date(("X"===a?1e3:1)*e);var l=v(a)(e),n=l.year,o=l.month,r=l.day,s=l.hours,u=l.minutes,i=l.seconds,d=l.milliseconds,c=l.zone,p=new Date,m=r||(n||o?1:p.getDate()),f=n||p.getFullYear(),h=0;n&&!o||(h=o>0?o-1:p.getMonth());var y=s||0,b=u||0,g=i||0,k=d||0;return c?new Date(Date.UTC(f,h,m,y,b,g,k+60*c.offset*1e3)):t?new Date(Date.UTC(f,h,m,y,b,g,k)):new Date(f,h,m,y,b,g,k)}catch(w){return new Date("")}}(a,s,l),this.init(),c&&!0!==c&&(this.$L=this.locale(c).$L),d&&a!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var p=s.length,m=1;m<=p;m+=1){r[1]=s[m-1];var f=t.apply(this,r);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}m===p&&(this.$d=new Date(""))}else n.call(this,e)}}}();const Se=R(xe.exports),Me=["hours","minutes","seconds"],Ce="HH:mm:ss",Pe="YYYY-MM-DD",_e={date:Pe,dates:Pe,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Pe} ${Ce}`,monthrange:"YYYY-MM",daterange:Pe,datetimerange:`${Pe} ${Ce}`},Ve=(e,a)=>[e>0?e-1:void 0,e,e<a?e+1:void 0],$e=e=>Array.from(Array.from({length:e}).keys()),Oe=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Ye=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Ae=function(e,a){const t=T(e),l=T(a);return t&&l?e.getTime()===a.getTime():!t&&!l&&e===a},Ie=function(e,a){const t=B(e),l=B(a);return t&&l?e.length===a.length&&e.every(((e,t)=>Ae(e,a[t]))):!t&&!l&&Ae(e,a)},Ne=function(t,l,n){const o=e(l)||"x"===l?a(t).locale(n):a(t,l).locale(n);return o.isValid()?o:void 0},Re=function(t,l,n){return e(l)?t:"x"===l?+t:a(t).locale(n).format(l)},Te=(e,a)=>{var t;const l=[],n=null==a?void 0:a();for(let o=0;o<e;o++)l.push(null!=(t=null==n?void 0:n.includes(o))&&t);return l},Be=t({disabledHours:{type:l(Function)},disabledMinutes:{type:l(Function)},disabledSeconds:{type:l(Function)}}),Ee=t({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Fe=t({id:{type:l([Array,String])},name:{type:l([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:l([String,Object]),default:n},editable:{type:Boolean,default:!0},prefixIcon:{type:l([String,Object]),default:""},size:o,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:l(Object),default:()=>({})},modelValue:{type:l([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:l([Date,Array])},defaultTime:{type:l([Date,Array])},isRange:{type:Boolean,default:!1},...Be,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:l([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Le=["id","name","placeholder","value","disabled","readonly"],ze=["id","name","placeholder","value","disabled","readonly"],We=E({name:"Picker"}),je=E({...We,props:Fe,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:a,emit:t}){const l=e,n=F(),{lang:o}=r(),b=s("date"),k=s("input"),w=s("range"),{form:D,formItem:x}=u(),S=L("ElPopperOptions",{}),M=z(),C=z(),P=z(!1),_=z(!1),V=z(null);let $=!1,O=!1;const Y=W((()=>[b.b("editor"),b.bm("editor",l.type),k.e("wrapper"),b.is("disabled",fe.value),b.is("active",P.value),w.b("editor"),$e?w.bm("editor",$e.value):"",n.class])),A=W((()=>[k.e("icon"),w.e("close-icon"),De.value?"":w.e("close-icon--hidden")]));j(P,(e=>{e?H((()=>{e&&(V.value=l.modelValue)})):(Ae.value=null,H((()=>{I(l.modelValue)})))}));const I=(e,a)=>{!a&&Ie(e,V.value)||(t("change",e),l.validateEvent&&(null==x||x.validate("change").catch((e=>i()))))},N=e=>{if(!Ie(l.modelValue,e)){let a;B(e)?a=e.map((e=>Re(e,l.valueFormat,o.value))):e&&(a=Re(e,l.valueFormat,o.value)),t("update:modelValue",e?a:e,o.value)}},R=W((()=>{if(C.value){const e=Ve.value?C.value:C.value.$el;return Array.from(e.querySelectorAll("input"))}return[]})),T=(e,a,t)=>{const l=R.value;l.length&&(t&&"min"!==t?"max"===t&&(l[1].setSelectionRange(e,a),l[1].focus()):(l[0].setSelectionRange(e,a),l[0].focus()))},E=(e="",a=!1)=>{let t;a||(O=!0),P.value=a,t=B(e)?e.map((e=>e.toDate())):e?e.toDate():e,Ae.value=null,N(t)},se=()=>{_.value=!0},ue=()=>{t("visible-change",!0)},ie=e=>{(null==e?void 0:e.key)===g.esc&&ce(!0,!0)},de=()=>{_.value=!1,P.value=!1,O=!1,t("visible-change",!1)},ce=(e=!0,a=!1)=>{O=a;const[t,l]=K(R);let n=t;!e&&Ve.value&&(n=l),n&&n.focus()},ve=e=>{l.readonly||fe.value||P.value||O||(P.value=!0,t("focus",e))};let pe;const me=e=>{const a=async()=>{setTimeout((()=>{var n;pe===a&&((null==(n=M.value)?void 0:n.isFocusInsideContent())&&!$||0!==R.value.filter((e=>e.contains(document.activeElement))).length||(Te(),P.value=!1,t("blur",e),l.validateEvent&&(null==x||x.validate("blur").catch((e=>i())))),$=!1)}),0)};pe=a,a()},fe=W((()=>l.disabled||(null==D?void 0:D.disabled))),he=W((()=>{let e;if(Se.value?Ze.value.getDefaultValue&&(e=Ze.value.getDefaultValue()):e=B(l.modelValue)?l.modelValue.map((e=>Ne(e,l.valueFormat,o.value))):Ne(l.modelValue,l.valueFormat,o.value),Ze.value.getRangeAvailableTime){const a=Ze.value.getRangeAvailableTime(e);d(a,e)||(e=a,N(B(e)?e.map((e=>e.toDate())):e.toDate()))}return B(e)&&e.some((e=>!e))&&(e=[]),e})),ye=W((()=>{if(!Ze.value.panelReady)return"";const e=Ee(he.value);return B(Ae.value)?[Ae.value[0]||e&&e[0]||"",Ae.value[1]||e&&e[1]||""]:null!==Ae.value?Ae.value:!ge.value&&Se.value||!P.value&&Se.value?"":e?ke.value?e.join(", "):e:""})),be=W((()=>l.type.includes("time"))),ge=W((()=>l.type.startsWith("time"))),ke=W((()=>"dates"===l.type)),we=W((()=>l.prefixIcon||(be.value?c:v))),De=z(!1),xe=e=>{l.readonly||fe.value||De.value&&(e.stopPropagation(),ce(!0,!0),H((()=>{O=!1})),N(null),I(null,!0),De.value=!1,P.value=!1,Ze.value.handleClear&&Ze.value.handleClear())},Se=W((()=>{const{modelValue:e}=l;return!e||B(e)&&!e.filter(Boolean).length})),Me=async e=>{var a;l.readonly||fe.value||("INPUT"!==(null==(a=e.target)?void 0:a.tagName)||R.value.includes(document.activeElement))&&(P.value=!0)},Ce=()=>{l.readonly||fe.value||!Se.value&&l.clearable&&(De.value=!0)},Pe=()=>{De.value=!1},_e=e=>{var a;l.readonly||fe.value||("INPUT"!==(null==(a=e.touches[0].target)?void 0:a.tagName)||R.value.includes(document.activeElement))&&(P.value=!0)},Ve=W((()=>l.type.includes("range"))),$e=p(),Oe=W((()=>{var e,a;return null==(a=null==(e=K(M))?void 0:e.popperRef)?void 0:a.contentRef})),Ye=W((()=>{var e;return K(Ve)?K(C):null==(e=K(C))?void 0:e.$el}));m(Ye,(e=>{const a=K(Oe),t=K(Ye);a&&(e.target===a||e.composedPath().includes(a))||e.target===t||e.composedPath().includes(t)||(P.value=!1)}));const Ae=z(null),Te=()=>{if(Ae.value){const e=Be(ye.value);e&&Fe(e)&&(N(B(e)?e.map((e=>e.toDate())):e.toDate()),Ae.value=null)}""===Ae.value&&(N(null),I(null),Ae.value=null)},Be=e=>e?Ze.value.parseUserInput(e):null,Ee=e=>e?Ze.value.formatToString(e):null,Fe=e=>Ze.value.isValidValue(e),We=async e=>{if(l.readonly||fe.value)return;const{code:a}=e;if(t("keydown",e),a!==g.esc)if(a===g.down&&(Ze.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),!1===P.value&&(P.value=!0,await H()),Ze.value.handleFocusPicker))Ze.value.handleFocusPicker();else{if(a!==g.tab)return a===g.enter||a===g.numpadEnter?((null===Ae.value||""===Ae.value||Fe(Be(ye.value)))&&(Te(),P.value=!1),void e.stopPropagation()):void(Ae.value?e.stopPropagation():Ze.value.handleKeydownInput&&Ze.value.handleKeydownInput(e));$=!0}else!0===P.value&&(P.value=!1,e.preventDefault(),e.stopPropagation())},je=e=>{Ae.value=e,P.value||(P.value=!0)},He=e=>{const a=e.target;Ae.value?Ae.value=[a.value,Ae.value[1]]:Ae.value=[a.value,null]},Ke=e=>{const a=e.target;Ae.value?Ae.value=[Ae.value[0],a.value]:Ae.value=[null,a.value]},Ue=()=>{var e;const a=Ae.value,t=Be(a&&a[0]),l=K(he);if(t&&t.isValid()){Ae.value=[Ee(t),(null==(e=ye.value)?void 0:e[1])||null];const a=[t,l&&(l[1]||null)];Fe(a)&&(N(a),Ae.value=null)}},Ge=()=>{var e;const a=K(Ae),t=Be(a&&a[1]),l=K(he);if(t&&t.isValid()){Ae.value=[(null==(e=K(ye))?void 0:e[0])||null,Ee(t)];const a=[l&&l[0],t];Fe(a)&&(N(a),Ae.value=null)}},Ze=z({}),qe=e=>{Ze.value[e[0]]=e[1],Ze.value.panelReady=!0},Xe=e=>{t("calendar-change",e)},Qe=(e,a,l)=>{t("panel-change",e,a,l)};return U("EP_PICKER_BASE",{props:l}),a({focus:ce,handleFocusInput:ve,handleBlurInput:me,handleOpen:()=>{P.value=!0},handleClose:()=>{P.value=!1},onPick:E}),(e,a)=>(G(),Z(K(y),re({ref_key:"refPopper",ref:M,visible:P.value,effect:"light",pure:"",trigger:"click"},e.$attrs,{role:"dialog",teleported:"",transition:`${K(b).namespace.value}-zoom-in-top`,"popper-class":[`${K(b).namespace.value}-picker__popper`,e.popperClass],"popper-options":K(S),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:se,onShow:ue,onHide:de}),{default:q((()=>[K(Ve)?(G(),te("div",{key:1,ref_key:"inputRef",ref:C,class:X(K(Y)),style:Q(e.$attrs.style),onClick:ve,onMouseenter:Ce,onMouseleave:Pe,onTouchstart:_e,onKeydown:We},[K(we)?(G(),Z(K(h),{key:0,class:X([K(k).e("icon"),K(w).e("icon")]),onMousedown:J(Me,["prevent"]),onTouchstart:_e},{default:q((()=>[(G(),Z(ee(K(we))))])),_:1},8,["class","onMousedown"])):ae("v-if",!0),le("input",{id:e.id&&e.id[0],autocomplete:"off",name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:K(ye)&&K(ye)[0],disabled:K(fe),readonly:!e.editable||e.readonly,class:X(K(w).b("input")),onMousedown:Me,onInput:He,onChange:Ue,onFocus:ve,onBlur:me},null,42,Le),ne(e.$slots,"range-separator",{},(()=>[le("span",{class:X(K(w).b("separator"))},oe(e.rangeSeparator),3)])),le("input",{id:e.id&&e.id[1],autocomplete:"off",name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:K(ye)&&K(ye)[1],disabled:K(fe),readonly:!e.editable||e.readonly,class:X(K(w).b("input")),onMousedown:Me,onFocus:ve,onBlur:me,onInput:Ke,onChange:Ge},null,42,ze),e.clearIcon?(G(),Z(K(h),{key:1,class:X(K(A)),onClick:xe},{default:q((()=>[(G(),Z(ee(e.clearIcon)))])),_:1},8,["class"])):ae("v-if",!0)],38)):(G(),Z(K(f),{key:0,id:e.id,ref_key:"inputRef",ref:C,"container-role":"combobox","model-value":K(ye),name:e.name,size:K($e),disabled:K(fe),placeholder:e.placeholder,class:X([K(b).b("editor"),K(b).bm("editor",e.type),e.$attrs.class]),style:Q(e.$attrs.style),readonly:!e.editable||e.readonly||K(ke)||"week"===e.type,label:e.label,tabindex:e.tabindex,"validate-event":!1,onInput:je,onFocus:ve,onBlur:me,onKeydown:We,onChange:Te,onMousedown:Me,onMouseenter:Ce,onMouseleave:Pe,onTouchstart:_e,onClick:a[0]||(a[0]=J((()=>{}),["stop"]))},{prefix:q((()=>[K(we)?(G(),Z(K(h),{key:0,class:X(K(k).e("icon")),onMousedown:J(Me,["prevent"]),onTouchstart:_e},{default:q((()=>[(G(),Z(ee(K(we))))])),_:1},8,["class","onMousedown"])):ae("v-if",!0)])),suffix:q((()=>[De.value&&e.clearIcon?(G(),Z(K(h),{key:0,class:X(`${K(k).e("icon")} clear-icon`),onClick:J(xe,["stop"])},{default:q((()=>[(G(),Z(ee(e.clearIcon)))])),_:1},8,["class","onClick"])):ae("v-if",!0)])),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))])),content:q((()=>[ne(e.$slots,"default",{visible:P.value,actualVisible:_.value,parsedValue:K(he),format:e.format,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,onPick:E,onSelectRange:T,onSetPickerOption:qe,onCalendarChange:Xe,onPanelChange:Qe,onKeydown:ie,onMousedown:a[1]||(a[1]=J((()=>{}),["stop"]))})])),_:3},16,["visible","transition","popper-class","popper-options"]))}});var He=b(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ke=t({...Ee,datetimeRole:String,parsedValue:{type:l(Object)}}),Ue=e=>e.map(((e,a)=>e||a)).filter((e=>!0!==e)),Ge=(e,a,t)=>({getHoursList:(a,t)=>Te(24,e&&(()=>null==e?void 0:e(a,t))),getMinutesList:(e,t,l)=>Te(60,a&&(()=>null==a?void 0:a(e,t,l))),getSecondsList:(e,a,l,n)=>Te(60,t&&(()=>null==t?void 0:t(e,a,l,n)))}),Ze=t({role:{type:String,required:!0},spinnerDate:{type:l(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:l(String),default:""},...Be}),qe=["onClick"],Xe=["onMouseenter"];var Qe=b(E({__name:"basic-time-spinner",props:Ze,emits:["change","select-range","set-option"],setup(e,{emit:a}){const t=e,l=s("time"),{getHoursList:n,getMinutesList:o,getSecondsList:r}=Ge(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let u=!1;const i=z(),d={hours:z(),minutes:z(),seconds:z()},c=W((()=>t.showSeconds?Me:Me.slice(0,2))),v=W((()=>{const{spinnerDate:e}=t;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}})),p=W((()=>{const{hours:e,minutes:a}=K(v);return{hours:n(t.role),minutes:o(e,t.role),seconds:r(e,a,t.role)}})),m=W((()=>{const{hours:e,minutes:a,seconds:t}=K(v);return{hours:Ve(e,23),minutes:Ve(a,59),seconds:Ve(t,59)}})),f=k((e=>{u=!1,g(e)}),200),y=e=>{if(!!!t.amPmMode)return"";let a=e<12?" am":" pm";return"A"===t.amPmMode&&(a=a.toUpperCase()),a},b=e=>{let t;switch(e){case"hours":t=[0,2];break;case"minutes":t=[3,5];break;case"seconds":t=[6,8]}const[l,n]=t;a("select-range",l,n),i.value=e},g=e=>{P(e,K(v)[e])},M=()=>{g("hours"),g("minutes"),g("seconds")},C=e=>e.querySelector(`.${l.namespace.value}-scrollbar__wrap`),P=(e,a)=>{if(t.arrowControl)return;const l=K(d[e]);l&&l.$el&&(C(l.$el).scrollTop=Math.max(0,a*_(e)))},_=e=>{const a=K(d[e]),t=null==a?void 0:a.$el.querySelector("li");return t&&Number.parseFloat(w(t,"height"))||0},V=()=>{O(1)},$=()=>{O(-1)},O=e=>{i.value||b("hours");const a=i.value,t=K(v)[a],l="hours"===i.value?24:60,n=Y(a,t,e,l);A(a,n),P(a,n),H((()=>b(a)))},Y=(e,a,t,l)=>{let n=(a+t+l)%l;const o=K(p)[e];for(;o[n]&&n!==a;)n=(n+t+l)%l;return n},A=(e,l)=>{if(K(p)[e][l])return;const{hours:n,minutes:o,seconds:r}=K(v);let s;switch(e){case"hours":s=t.spinnerDate.hour(l).minute(o).second(r);break;case"minutes":s=t.spinnerDate.hour(n).minute(l).second(r);break;case"seconds":s=t.spinnerDate.hour(n).minute(o).second(l)}a("change",s)},I=e=>K(d[e]).$el.offsetHeight,N=()=>{const e=e=>{const a=K(d[e]);a&&a.$el&&(C(a.$el).onscroll=()=>{(e=>{u=!0,f(e);const a=Math.min(Math.round((C(K(d[e]).$el).scrollTop-(.5*I(e)-10)/_(e)+3)/_(e)),"hours"===e?23:59);A(e,a)})(e)})};e("hours"),e("minutes"),e("seconds")};se((()=>{H((()=>{!t.arrowControl&&N(),M(),"start"===t.role&&b("hours")}))}));return a("set-option",[`${t.role}_scrollDown`,O]),a("set-option",[`${t.role}_emitSelectRange`,b]),j((()=>t.spinnerDate),(()=>{u||M()})),(e,a)=>(G(),te("div",{class:X([K(l).b("spinner"),{"has-seconds":e.showSeconds}])},[e.arrowControl?ae("v-if",!0):(G(!0),te(ue,{key:0},ie(K(c),(a=>(G(),Z(K(D),{key:a,ref_for:!0,ref:e=>((e,a)=>{d[a].value=e})(e,a),class:X(K(l).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":K(l).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:e=>b(a),onMousemove:e=>g(a)},{default:q((()=>[(G(!0),te(ue,null,ie(K(p)[a],((t,n)=>(G(),te("li",{key:n,class:X([K(l).be("spinner","item"),K(l).is("active",n===K(v)[a]),K(l).is("disabled",t)]),onClick:e=>((e,{value:a,disabled:t})=>{t||(A(e,a),b(e),P(e,a))})(a,{value:n,disabled:t})},["hours"===a?(G(),te(ue,{key:0},[de(oe(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+oe(y(n)),1)],64)):(G(),te(ue,{key:1},[de(oe(("0"+n).slice(-2)),1)],64))],10,qe)))),128))])),_:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),e.arrowControl?(G(!0),te(ue,{key:1},ie(K(c),(a=>(G(),te("div",{key:a,class:X([K(l).be("spinner","wrapper"),K(l).is("arrow")]),onMouseenter:e=>b(a)},[ce((G(),Z(K(h),{class:X(["arrow-up",K(l).be("spinner","arrow")])},{default:q((()=>[ve(K(x))])),_:1},8,["class"])),[[K(we),$]]),ce((G(),Z(K(h),{class:X(["arrow-down",K(l).be("spinner","arrow")])},{default:q((()=>[ve(K(S))])),_:1},8,["class"])),[[K(we),V]]),le("ul",{class:X(K(l).be("spinner","list"))},[(G(!0),te(ue,null,ie(K(m)[a],((t,n)=>(G(),te("li",{key:n,class:X([K(l).be("spinner","item"),K(l).is("active",t===K(v)[a]),K(l).is("disabled",K(p)[a][t])])},["number"==typeof t?(G(),te(ue,{key:0},["hours"===a?(G(),te(ue,{key:0},[de(oe(("0"+(e.amPmMode?t%12||12:t)).slice(-2))+oe(y(t)),1)],64)):(G(),te(ue,{key:1},[de(oe(("0"+t).slice(-2)),1)],64))],64)):ae("v-if",!0)],2)))),128))],2)],42,Xe)))),128)):ae("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Je=E({__name:"panel-time-pick",props:Ke,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const l=e,n=L("EP_PICKER_BASE"),{arrowControl:o,disabledHours:u,disabledMinutes:i,disabledSeconds:d,defaultValue:c}=n.props,{getAvailableHours:v,getAvailableMinutes:p,getAvailableSeconds:m}=((e,a,t)=>{const{getHoursList:l,getMinutesList:n,getSecondsList:o}=Ge(e,a,t);return{getAvailableHours:(e,a)=>Ue(l(e,a)),getAvailableMinutes:(e,a,t)=>Ue(n(e,a,t)),getAvailableSeconds:(e,a,t,l)=>Ue(o(e,a,t,l))}})(u,i,d),f=s("time"),{t:h,lang:y}=r(),b=z([0,2]),k=(e=>{const a=z(e.parsedValue);return j((()=>e.visible),(t=>{t||(a.value=e.parsedValue)})),a})(l),w=W((()=>M(l.actualVisible)?`${f.namespace.value}-zoom-in-top`:"")),D=W((()=>l.format.includes("ss"))),x=W((()=>l.format.includes("A")?"A":l.format.includes("a")?"a":"")),S=()=>{t("pick",k.value,!1)},C=e=>{if(!l.visible)return;const a=O(e).millisecond(0);t("pick",a,!0)},P=(e,a)=>{t("select-range",e,a),b.value=[e,a]},{timePickerOptions:_,onSetOption:V,getAvailableTime:$}=(({getAvailableHours:e,getAvailableMinutes:a,getAvailableSeconds:t})=>{const l={};return{timePickerOptions:l,getAvailableTime:(l,n,o,r)=>{const s={hour:e,minute:a,second:t};let u=l;return["hour","minute","second"].forEach((e=>{if(s[e]){let a;const t=s[e];switch(e){case"minute":a=t(u.hour(),n,r);break;case"second":a=t(u.hour(),u.minute(),n,r);break;default:a=t(n,r)}if((null==a?void 0:a.length)&&!a.includes(u[e]())){const t=o?0:a.length-1;u=u[e](a[t])}}})),u},onSetOption:([e,a])=>{l[e]=a}}})({getAvailableHours:v,getAvailableMinutes:p,getAvailableSeconds:m}),O=e=>$(e,l.datetimeRole||"",!0);return t("set-picker-option",["isValidValue",e=>{const t=a(e).locale(y.value),l=O(t);return t.isSame(l)}]),t("set-picker-option",["formatToString",e=>e?e.format(l.format):null]),t("set-picker-option",["parseUserInput",e=>e?a(e,l.format).locale(y.value):null]),t("set-picker-option",["handleKeydownInput",e=>{const a=e.code,{left:t,right:l,up:n,down:o}=g;if([t,l].includes(a)){return(e=>{const a=[0,3].concat(D.value?[6]:[]),t=["hours","minutes"].concat(D.value?["seconds"]:[]),l=(a.indexOf(b.value[0])+e+a.length)%a.length;_.start_emitSelectRange(t[l])})(a===t?-1:1),void e.preventDefault()}if([n,o].includes(a)){const t=a===n?-1:1;return _.start_scrollDown(t),void e.preventDefault()}}]),t("set-picker-option",["getRangeAvailableTime",O]),t("set-picker-option",["getDefaultValue",()=>a(c).locale(y.value)]),(e,a)=>(G(),Z(pe,{name:K(w)},{default:q((()=>[e.actualVisible||e.visible?(G(),te("div",{key:0,class:X(K(f).b("panel"))},[le("div",{class:X([K(f).be("panel","content"),{"has-seconds":K(D)}])},[ve(Qe,{ref:"spinner",role:e.datetimeRole||"start","arrow-control":K(o),"show-seconds":K(D),"am-pm-mode":K(x),"spinner-date":e.parsedValue,"disabled-hours":K(u),"disabled-minutes":K(i),"disabled-seconds":K(d),onChange:C,onSetOption:K(V),onSelectRange:P},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),le("div",{class:X(K(f).be("panel","footer"))},[le("button",{type:"button",class:X([K(f).be("panel","btn"),"cancel"]),onClick:S},oe(K(h)("el.datepicker.cancel")),3),le("button",{type:"button",class:X([K(f).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=e=>((e=!1,a=!1)=>{a||t("pick",l.parsedValue,e)})())},oe(K(h)("el.datepicker.confirm")),3)],2)],2)):ae("v-if",!0)])),_:1},8,["name"]))}});var ea=b(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),aa={exports:{}};aa.exports=function(e,a,t){var l=a.prototype,n=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,a,t,l,o){var r=e.name?e:e.$locale(),s=n(r[a]),u=n(r[t]),i=s||u.map((function(e){return e.slice(0,l)}));if(!o)return i;var d=r.weekStart;return i.map((function(e,a){return i[(a+(d||0))%7]}))},r=function(){return t.Ls[t.locale()]},s=function(e,a){return e.formats[a]||e.formats[a.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,a,t){return a||t.slice(1)}))},u=function(){var e=this;return{months:function(a){return a?a.format("MMMM"):o(e,"months")},monthsShort:function(a){return a?a.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(a){return a?a.format("dddd"):o(e,"weekdays")},weekdaysMin:function(a){return a?a.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(a){return a?a.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(a){return s(e.$locale(),a)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return u.bind(this)()},t.localeData=function(){var e=r();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return t.weekdays()},weekdaysShort:function(){return t.weekdaysShort()},weekdaysMin:function(){return t.weekdaysMin()},months:function(){return t.months()},monthsShort:function(){return t.monthsShort()},longDateFormat:function(a){return s(e,a)},meridiem:e.meridiem,ordinal:e.ordinal}},t.months=function(){return o(r(),"months")},t.monthsShort=function(){return o(r(),"monthsShort","months",3)},t.weekdays=function(e){return o(r(),"weekdays",null,null,e)},t.weekdaysShort=function(e){return o(r(),"weekdaysShort","weekdays",3,e)},t.weekdaysMin=function(e){return o(r(),"weekdaysMin","weekdays",2,e)}};const ta=R(aa.exports);var la={exports:{}};la.exports=function(e,a){var t=a.prototype,l=t.format;t.format=function(e){var a=this,t=this.$locale();if(!this.isValid())return l.bind(this)(e);var n=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return t.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return t.ordinal(a.week(),"W");case"w":case"ww":return n.s(a.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(a.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===a.$H?24:a.$H),"k"===e?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return e}}));return l.bind(this)(o)}};const na=R(la.exports);var oa,ra,sa={exports:{}};const ua=R(sa.exports=(oa="week",ra="year",function(e,a,t){var l=a.prototype;l.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var a=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var l=t(this).startOf(ra).add(1,ra).date(a),n=t(this).endOf(oa);if(l.isBefore(n))return 1}var o=t(this).startOf(ra).date(a).startOf(oa).subtract(1,"millisecond"),r=this.diff(o,oa,!0);return r<0?t(this).startOf("week").week():Math.ceil(r)},l.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}));var ia={exports:{}};ia.exports=function(e,a){a.prototype.weekYear=function(){var e=this.month(),a=this.week(),t=this.year();return 1===a&&11===e?t+1:0===e&&a>=52?t-1:t}};const da=R(ia.exports);var ca={exports:{}};ca.exports=function(e,a,t){a.prototype.dayOfYear=function(e){var a=Math.round((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==e?a:this.add(e-a,"day")}};const va=R(ca.exports);var pa={exports:{}};pa.exports=function(e,a){a.prototype.isSameOrAfter=function(e,a){return this.isSame(e,a)||this.isAfter(e,a)}};const ma=R(pa.exports);var fa={exports:{}};const ha=R(fa.exports=function(e,a){a.prototype.isSameOrBefore=function(e,a){return this.isSame(e,a)||this.isBefore(e,a)}}),ya=Symbol(),ba=t({...Fe,type:{type:l(String),default:"date"}}),ga=["date","dates","year","month","week","range"],ka=t({disabledDate:{type:l(Function)},date:{type:l(Object),required:!0},minDate:{type:l(Object)},maxDate:{type:l(Object)},parsedValue:{type:l([Object,Array])},rangeState:{type:l(Object),default:()=>({endDate:null,selecting:!1})}}),wa=t({type:{type:l(String),required:!0,values:["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"]}}),Da=t({unlinkPanels:Boolean,parsedValue:{type:l(Array)}}),xa=e=>({type:String,values:ga,default:e}),Sa=t({...wa,parsedValue:{type:l([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Ma=t({...ka,cellClassName:{type:l(Function)},showWeekNumber:Boolean,selectionMode:xa("date")}),Ca=e=>{if(!B(e))return!1;const[t,l]=e;return a.isDayjs(t)&&a.isDayjs(l)&&t.isSameOrBefore(l)},Pa=(e,{lang:t,unit:l,unlinkPanels:n})=>{let o;if(B(e)){let[o,r]=e.map((e=>a(e).locale(t)));return n||(r=o.add(1,l)),[o,r]}return o=e?a(e):a(),o=o.locale(t),[o,o.add(1,l)]};var _a=E({name:"ElDatePickerCell",props:t({cell:{type:l(Object)}}),setup(e){const a=s("date-table-cell"),{slots:t}=L(ya);return()=>{const{cell:l}=e;if(t.default){const e=t.default(l).filter((e=>-2!==e.patchFlag&&"Symbol(Comment)"!==e.type.toString()));if(e.length)return e}return ve("div",{class:a.b()},[ve("span",{class:a.e("text")},[null==l?void 0:l.text])])}}});const Va=["aria-label","onMousedown"],$a={key:0,scope:"col"},Oa=["aria-label"],Ya=["aria-current","aria-selected","tabindex"],Aa=E({__name:"basic-date-table",props:Ma,emits:["changerange","pick","select"],setup(e,{expose:t,emit:l}){const n=e,o=s("date-table"),{t:u,lang:i}=r(),d=z(),c=z(),v=z(),p=z(),m=z([[],[],[],[],[],[]]);let f=!1;const h=n.date.$locale().weekStart||7,y=n.date.locale("en").localeData().weekdaysShort().map((e=>e.toLowerCase())),b=W((()=>h>3?7-h:-h)),g=W((()=>{const e=n.date.startOf("month");return e.subtract(e.day()||7,"day")})),k=W((()=>y.concat(y).slice(h,h+7))),w=W((()=>C(P.value).some((e=>e.isCurrent)))),D=W((()=>{const e=n.date.startOf("month");return{startOfMonthDay:e.day()||7,dateCountOfMonth:e.daysInMonth(),dateCountOfLastMonth:e.subtract(1,"month").daysInMonth()}})),x=W((()=>"dates"===n.selectionMode?De(n.parsedValue):[])),S=(e,{columnIndex:a,rowIndex:t},l)=>{const{disabledDate:o,cellClassName:r}=n,s=K(x),u=((e,{count:a,rowIndex:t,columnIndex:l})=>{const{startOfMonthDay:n,dateCountOfMonth:o,dateCountOfLastMonth:r}=K(D),s=K(b);if(!(t>=0&&t<=1))return a<=o?e.text=a:(e.text=a-o,e.type="next-month"),!0;{const o=n+s<0?7+n+s:n+s;if(l+7*t>=o)return e.text=a,!0;e.text=r-(o-l%7)+1+7*t,e.type="prev-month"}return!1})(e,{count:l,rowIndex:t,columnIndex:a}),i=e.dayjs.toDate();return e.selected=s.find((a=>a.valueOf()===e.dayjs.valueOf())),e.isSelected=!!e.selected,e.isCurrent=V(e),e.disabled=null==o?void 0:o(i),e.customClass=null==r?void 0:r(i),u},M=e=>{if("week"===n.selectionMode){const[a,t]=n.showWeekNumber?[1,7]:[0,6],l=E(e[a+1]);e[a].inRange=l,e[a].start=l,e[t].inRange=l,e[t].end=l}},P=W((()=>{const{minDate:e,maxDate:t,rangeState:l,showWeekNumber:o}=n,r=b.value,s=m.value,u="day";let d=1;if(o)for(let a=0;a<6;a++)s[a][0]||(s[a][0]={type:"week",text:g.value.add(7*a+1,u).week()});return((e,a,{columnIndexOffset:t,startDate:l,nextEndDate:n,now:o,unit:r,relativeDateGetter:s,setCellMetadata:u,setRowMetadata:i})=>{for(let d=0;d<e.row;d++){const c=a[d];for(let a=0;a<e.column;a++){let i=c[a+t];i||(i={row:d,column:a,type:"normal",inRange:!1,start:!1,end:!1});const v=s(d*e.column+a);i.dayjs=v,i.date=v.toDate(),i.timestamp=v.valueOf(),i.type="normal",i.inRange=!!(l&&v.isSameOrAfter(l,r)&&n&&v.isSameOrBefore(n,r))||!!(l&&v.isSameOrBefore(l,r)&&n&&v.isSameOrAfter(n,r)),(null==l?void 0:l.isSameOrAfter(n))?(i.start=!!n&&v.isSame(n,r),i.end=l&&v.isSame(l,r)):(i.start=!!l&&v.isSame(l,r),i.end=!!n&&v.isSame(n,r)),v.isSame(o,r)&&(i.type="today"),null==u||u(i,{rowIndex:d,columnIndex:a}),c[a+t]=i}null==i||i(c)}})({row:6,column:7},s,{startDate:e,columnIndexOffset:o?1:0,nextEndDate:l.endDate||t||l.selecting&&e||null,now:a().locale(K(i)).startOf(u),unit:u,relativeDateGetter:e=>g.value.add(e-r,u),setCellMetadata:(...e)=>{S(...e,d)&&(d+=1)},setRowMetadata:M}),s}));j((()=>n.date),(async()=>{var e,a;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await H(),null==(a=c.value)||a.focus())}));const _=(e="")=>["normal","today"].includes(e),V=e=>"date"===n.selectionMode&&_(e.type)&&$(e,n.parsedValue),$=(e,t)=>!!t&&a(t).locale(i.value).isSame(n.date.date(Number(e.text)),"day"),O=e=>{const a=[];return _(e.type)&&!e.disabled?(a.push("available"),"today"===e.type&&a.push("today")):a.push(e.type),V(e)&&a.push("current"),e.inRange&&(_(e.type)||"week"===n.selectionMode)&&(a.push("in-range"),e.start&&a.push("start-date"),e.end&&a.push("end-date")),e.disabled&&a.push("disabled"),e.selected&&a.push("selected"),e.customClass&&a.push(e.customClass),a.join(" ")},Y=(e,a)=>{const t=7*e+(a-(n.showWeekNumber?1:0))-b.value;return g.value.add(t,"day")},A=e=>{var a;if(!n.rangeState.selecting)return;let t=e.target;if("SPAN"===t.tagName&&(t=null==(a=t.parentNode)?void 0:a.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"!==t.tagName)return;const o=t.parentNode.rowIndex-1,r=t.cellIndex;P.value[o][r].disabled||o===v.value&&r===p.value||(v.value=o,p.value=r,l("changerange",{selecting:!0,endDate:Y(o,r)}))},I=e=>!w.value&&1===(null==e?void 0:e.text)&&"normal"===e.type||e.isCurrent,N=e=>{f||w.value||"date"!==n.selectionMode||B(e,!0)},R=e=>{e.target.closest("td")&&(f=!0)},T=e=>{e.target.closest("td")&&(f=!1)},B=(e,a=!1)=>{const t=e.target.closest("td");if(!t)return;const o=t.parentNode.rowIndex-1,r=t.cellIndex,s=P.value[o][r];if(s.disabled||"week"===s.type)return;const u=Y(o,r);if("range"===n.selectionMode)n.rangeState.selecting&&n.minDate?(u>=n.minDate?l("pick",{minDate:n.minDate,maxDate:u}):l("pick",{minDate:u,maxDate:n.minDate}),l("select",!1)):(l("pick",{minDate:u,maxDate:null}),l("select",!0));else if("date"===n.selectionMode)l("pick",u,a);else if("week"===n.selectionMode){const e=u.week(),a=`${u.year()}w${e}`;l("pick",{year:u.year(),week:e,value:a,date:u.startOf("week")})}else if("dates"===n.selectionMode){const e=s.selected?De(n.parsedValue).filter((e=>(null==e?void 0:e.valueOf())!==u.valueOf())):De(n.parsedValue).concat([u]);l("pick",e)}},E=e=>{if("week"!==n.selectionMode)return!1;let a=n.date.startOf("day");if("prev-month"===e.type&&(a=a.subtract(1,"month")),"next-month"===e.type&&(a=a.add(1,"month")),a=a.date(Number.parseInt(e.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const e=(n.parsedValue.day()-h+7)%7-1;return n.parsedValue.subtract(e,"day").isSame(a,"day")}return!1};return t({focus:async()=>{var e;null==(e=c.value)||e.focus()}}),(e,a)=>(G(),te("table",{role:"grid","aria-label":K(u)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:X([K(o).b(),{"is-week-mode":"week"===e.selectionMode}]),onClick:B,onMousemove:A,onMousedown:J(R,["prevent"]),onMouseup:T},[le("tbody",{ref_key:"tbodyRef",ref:d},[le("tr",null,[e.showWeekNumber?(G(),te("th",$a,oe(K(u)("el.datepicker.week")),1)):ae("v-if",!0),(G(!0),te(ue,null,ie(K(k),((e,a)=>(G(),te("th",{key:a,scope:"col","aria-label":K(u)("el.datepicker.weeksFull."+e)},oe(K(u)("el.datepicker.weeks."+e)),9,Oa)))),128))]),(G(!0),te(ue,null,ie(K(P),((e,a)=>(G(),te("tr",{key:a,class:X([K(o).e("row"),{current:E(e[1])}])},[(G(!0),te(ue,null,ie(e,((e,t)=>(G(),te("td",{key:`${a}.${t}`,ref_for:!0,ref:a=>I(e)&&(c.value=a),class:X(O(e)),"aria-current":e.isCurrent?"date":void 0,"aria-selected":e.isCurrent,tabindex:I(e)?0:-1,onFocus:N},[ve(K(_a),{cell:e},null,8,["cell"])],42,Ya)))),128))],2)))),128))],512)],42,Va))}});var Ia=b(Aa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Na=t({...ka,selectionMode:xa("month")}),Ra=["aria-label"],Ta=["aria-selected","aria-label","tabindex","onKeydown"],Ba={class:"cell"},Ea=E({__name:"basic-month-table",props:Na,emits:["changerange","pick","select"],setup(e,{expose:t,emit:l}){const n=e,o=s("month-table"),{t:u,lang:i}=r(),d=z(),c=z(),v=z(n.date.locale("en").localeData().monthsShort().map((e=>e.toLowerCase()))),p=z([[],[],[]]),m=z(),f=z(),h=W((()=>{var e,t;const l=p.value,o=a().locale(i.value).startOf("month");for(let a=0;a<3;a++){const r=l[a];for(let l=0;l<4;l++){const s=r[l]||(r[l]={row:a,column:l,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});s.type="normal";const u=4*a+l,i=n.date.startOf("year").month(u),d=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;s.inRange=!!(n.minDate&&i.isSameOrAfter(n.minDate,"month")&&d&&i.isSameOrBefore(d,"month"))||!!(n.minDate&&i.isSameOrBefore(n.minDate,"month")&&d&&i.isSameOrAfter(d,"month")),(null==(e=n.minDate)?void 0:e.isSameOrAfter(d))?(s.start=!(!d||!i.isSame(d,"month")),s.end=n.minDate&&i.isSame(n.minDate,"month")):(s.start=!(!n.minDate||!i.isSame(n.minDate,"month")),s.end=!(!d||!i.isSame(d,"month")));o.isSame(i)&&(s.type="today"),s.text=u,s.disabled=(null==(t=n.disabledDate)?void 0:t.call(n,i.toDate()))||!1}}return l})),y=e=>{const t={},l=n.date.year(),o=new Date,r=e.text;return t.disabled=!!n.disabledDate&&((e,t,l)=>{const n=a().locale(l).startOf("month").month(t).year(e),o=n.daysInMonth();return $e(o).map((e=>n.add(e,"day").toDate()))})(l,r,i.value).every(n.disabledDate),t.current=De(n.parsedValue).findIndex((e=>a.isDayjs(e)&&e.year()===l&&e.month()===r))>=0,t.today=o.getFullYear()===l&&o.getMonth()===r,e.inRange&&(t["in-range"]=!0,e.start&&(t["start-date"]=!0),e.end&&(t["end-date"]=!0)),t},b=e=>{const a=n.date.year(),t=e.text;return De(n.date).findIndex((e=>e.year()===a&&e.month()===t))>=0},g=e=>{var a;if(!n.rangeState.selecting)return;let t=e.target;if("A"===t.tagName&&(t=null==(a=t.parentNode)?void 0:a.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"!==t.tagName)return;const o=t.parentNode.rowIndex,r=t.cellIndex;h.value[o][r].disabled||o===m.value&&r===f.value||(m.value=o,f.value=r,l("changerange",{selecting:!0,endDate:n.date.startOf("year").month(4*o+r)}))},k=e=>{var a;const t=null==(a=e.target)?void 0:a.closest("td");if("TD"!==(null==t?void 0:t.tagName))return;if(P(t,"disabled"))return;const o=t.cellIndex,r=4*t.parentNode.rowIndex+o,s=n.date.startOf("year").month(r);"range"===n.selectionMode?n.rangeState.selecting?(n.minDate&&s>=n.minDate?l("pick",{minDate:n.minDate,maxDate:s}):l("pick",{minDate:s,maxDate:n.minDate}),l("select",!1)):(l("pick",{minDate:s,maxDate:null}),l("select",!0)):l("pick",r)};return j((()=>n.date),(async()=>{var e,a;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await H(),null==(a=c.value)||a.focus())})),t({focus:()=>{var e;null==(e=c.value)||e.focus()}}),(e,a)=>(G(),te("table",{role:"grid","aria-label":K(u)("el.datepicker.monthTablePrompt"),class:X(K(o).b()),onClick:k,onMousemove:g},[le("tbody",{ref_key:"tbodyRef",ref:d},[(G(!0),te(ue,null,ie(K(h),((e,a)=>(G(),te("tr",{key:a},[(G(!0),te(ue,null,ie(e,((e,a)=>(G(),te("td",{key:a,ref_for:!0,ref:a=>b(e)&&(c.value=a),class:X(y(e)),"aria-selected":`${b(e)}`,"aria-label":K(u)("el.datepicker.month"+(+e.text+1)),tabindex:b(e)?0:-1,onKeydown:[me(J(k,["prevent","stop"]),["space"]),me(J(k,["prevent","stop"]),["enter"])]},[le("div",null,[le("span",Ba,oe(K(u)("el.datepicker.months."+v.value[e.text])),1)])],42,Ta)))),128))])))),128))],512)],42,Ra))}});var Fa=b(Ea,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:La,disabledDate:za,parsedValue:Wa}=ka,ja=t({date:La,disabledDate:za,parsedValue:Wa}),Ha=["aria-label"],Ka=["aria-selected","tabindex","onKeydown"],Ua={class:"cell"},Ga={key:1},Za=E({__name:"basic-year-table",props:ja,emits:["pick"],setup(e,{expose:t,emit:l}){const n=e,o=s("year-table"),{t:u,lang:i}=r(),d=z(),c=z(),v=W((()=>10*Math.floor(n.date.year()/10))),p=e=>{const t={},l=a().locale(i.value);return t.disabled=!!n.disabledDate&&((e,t)=>{const l=a(String(e)).locale(t).startOf("year"),n=l.endOf("year").dayOfYear();return $e(n).map((e=>l.add(e,"day").toDate()))})(e,i.value).every(n.disabledDate),t.current=De(n.parsedValue).findIndex((a=>a.year()===e))>=0,t.today=l.year()===e,t},m=e=>e===v.value&&n.date.year()<v.value&&n.date.year()>v.value+9||De(n.date).findIndex((a=>a.year()===e))>=0,f=e=>{const a=e.target.closest("td");if(a&&a.textContent){if(P(a,"disabled"))return;const e=a.textContent||a.innerText;l("pick",Number(e))}};return j((()=>n.date),(async()=>{var e,a;(null==(e=d.value)?void 0:e.contains(document.activeElement))&&(await H(),null==(a=c.value)||a.focus())})),t({focus:()=>{var e;null==(e=c.value)||e.focus()}}),(e,a)=>(G(),te("table",{role:"grid","aria-label":K(u)("el.datepicker.yearTablePrompt"),class:X(K(o).b()),onClick:f},[le("tbody",{ref_key:"tbodyRef",ref:d},[(G(),te(ue,null,ie(3,((e,a)=>le("tr",{key:a},[(G(),te(ue,null,ie(4,((e,t)=>(G(),te(ue,{key:a+"_"+t},[4*a+t<10?(G(),te("td",{key:0,ref_for:!0,ref:e=>m(K(v)+4*a+t)&&(c.value=e),class:X(["available",p(K(v)+4*a+t)]),"aria-selected":`${m(K(v)+4*a+t)}`,tabindex:m(K(v)+4*a+t)?0:-1,onKeydown:[me(J(f,["prevent","stop"]),["space"]),me(J(f,["prevent","stop"]),["enter"])]},[le("span",Ua,oe(K(v)+4*a+t),1)],42,Ka)):(G(),te("td",Ga))],64)))),64))]))),64))],512)],10,Ha))}});var qa=b(Za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Xa=["onClick"],Qa=["aria-label"],Ja=["aria-label"],et=["aria-label"],at=["aria-label"],tt=E({__name:"panel-date-pick",props:Sa,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const l=e,n=s("picker-panel"),o=s("date-picker"),u=F(),i=fe(),{t:d,lang:c}=r(),v=L("EP_PICKER_BASE"),p=L(_),{shortcuts:m,disabledDate:y,cellClassName:b,defaultTime:k,arrowControl:w}=v.props,D=he(v.props,"defaultValue"),x=z(),S=z(a().locale(c.value)),M=z(!1),C=W((()=>a(k).locale(c.value))),P=W((()=>S.value.month())),N=W((()=>S.value.year())),R=z([]),T=z(null),E=z(null),U=e=>!(R.value.length>0)||(R.value,l.format,!0),Q=e=>!k||Ie.value||M.value?Ce.value?e.millisecond(0):e.startOf("day"):C.value.year(e.year()).month(e.month()).date(e.date()),J=(e,...a)=>{if(e)if(B(e)){const l=e.map(Q);t("pick",l,...a)}else t("pick",Q(e),...a);else t("pick",e,...a);T.value=null,E.value=null,M.value=!1},ee=(e,a)=>{if("date"===ke.value){let t=l.parsedValue?l.parsedValue.year(e.year()).month(e.month()).date(e.date()):e;U()||(t=R.value[0][0].year(e.year()).month(e.month()).date(e.date())),S.value=t,J(t,Ce.value||a)}else"week"===ke.value?J(e.date):"dates"===ke.value&&J(e,!0)},re=e=>{const a=e?"add":"subtract";S.value=S.value[a](1,"month"),Ue("month")},se=e=>{const a=S.value,t=e?"add":"subtract";S.value="year"===pe.value?a[t](10,"year"):a[t](1,"year"),Ue("year")},pe=z("date"),ge=W((()=>{const e=d("el.datepicker.year");if("year"===pe.value){const a=10*Math.floor(N.value/10);return e?`${a} ${e} - ${a+9} ${e}`:`${a} - ${a+9}`}return`${N.value} ${e}`})),ke=W((()=>{const{type:e}=l;return["week","month","year","dates"].includes(e)?e:"date"})),we=W((()=>"date"===ke.value?pe.value:ke.value)),De=W((()=>!!m.length)),xe=async e=>{S.value=S.value.startOf("month").month(e),"month"===ke.value?J(S.value,!1):(pe.value="date",["month","year","date","week"].includes(ke.value)&&(J(S.value,!0),await H(),je())),Ue("month")},Se=async e=>{"year"===ke.value?(S.value=S.value.startOf("year").year(e),J(S.value,!1)):(S.value=S.value.year(e),pe.value="month",["month","year","date","week"].includes(ke.value)&&(J(S.value,!0),await H(),je())),Ue("year")},Me=async e=>{pe.value=e,await H(),je()},Ce=W((()=>"datetime"===l.type||"datetimerange"===l.type)),Pe=W((()=>Ce.value||"dates"===ke.value)),_e=()=>{if("dates"===ke.value)J(l.parsedValue);else{let e=l.parsedValue;if(!e){const t=a(k).locale(c.value),l=We();e=t.year(l.year()).month(l.month()).date(l.date())}S.value=e,J(e)}},Ve=()=>{const e=a().locale(c.value).toDate();M.value=!0,y&&y(e)||!U()||(S.value=a().locale(c.value),J(S.value))},$e=W((()=>Ye(l.format))),Ae=W((()=>Oe(l.format))),Ie=W((()=>E.value?E.value:l.parsedValue||D.value?(l.parsedValue||S.value).format($e.value):void 0)),Ne=W((()=>T.value?T.value:l.parsedValue||D.value?(l.parsedValue||S.value).format(Ae.value):void 0)),Re=z(!1),Te=()=>{Re.value=!0},Be=()=>{Re.value=!1},Ee=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),Fe=(e,a,t)=>{const{hour:n,minute:o,second:r}=Ee(e),s=l.parsedValue?l.parsedValue.hour(n).minute(o).second(r):e;S.value=s,J(S.value,!0),t||(Re.value=a)},Le=e=>{const t=a(e,$e.value).locale(c.value);if(t.isValid()&&U()){const{year:e,month:a,date:l}=Ee(S.value);S.value=t.year(e).month(a).date(l),E.value=null,Re.value=!1,J(S.value,!0)}},ze=e=>{const t=a(e,Ae.value).locale(c.value);if(t.isValid()){if(y&&y(t.toDate()))return;const{hour:e,minute:a,second:l}=Ee(S.value);S.value=t.hour(e).minute(a).second(l),T.value=null,J(S.value,!0)}},We=()=>{const e=a(D.value).locale(c.value);if(!D.value){const e=C.value;return a().hour(e.hour()).minute(e.minute()).second(e.second()).locale(c.value)}return e},je=async()=>{var e;["week","month","year","date"].includes(ke.value)&&(null==(e=x.value)||e.focus(),"week"===ke.value&&Ke(g.down))},He=e=>{const{code:a}=e;[g.up,g.down,g.left,g.right,g.home,g.end,g.pageUp,g.pageDown].includes(a)&&(Ke(a),e.stopPropagation(),e.preventDefault()),[g.enter,g.space,g.numpadEnter].includes(a)&&null===T.value&&null===E.value&&(e.preventDefault(),J(S.value,!1))},Ke=e=>{var l;const{up:n,down:o,left:r,right:s,home:u,end:i,pageUp:d,pageDown:v}=g,p={year:{[n]:-4,[o]:4,[r]:-1,[s]:1,offset:(e,a)=>e.setFullYear(e.getFullYear()+a)},month:{[n]:-4,[o]:4,[r]:-1,[s]:1,offset:(e,a)=>e.setMonth(e.getMonth()+a)},week:{[n]:-1,[o]:1,[r]:-1,[s]:1,offset:(e,a)=>e.setDate(e.getDate()+7*a)},date:{[n]:-7,[o]:7,[r]:-1,[s]:1,[u]:e=>-e.getDay(),[i]:e=>6-e.getDay(),[d]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[v]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,a)=>e.setDate(e.getDate()+a)}},m=S.value.toDate();for(;Math.abs(S.value.diff(m,"year",!0))<1;){const n=p[we.value];if(!n)return;if(n.offset(m,be(n[e])?n[e](m):null!=(l=n[e])?l:0),y&&y(m))break;const o=a(m).locale(c.value);S.value=o,t("pick",o,!0);break}},Ue=e=>{t("panel-change",S.value.toDate(),e,pe.value)};return j((()=>ke.value),(e=>{["month","year"].includes(e)?pe.value=e:pe.value="date"}),{immediate:!0}),j((()=>pe.value),(()=>{null==p||p.updatePopper()})),j((()=>D.value),(e=>{e&&(S.value=We())}),{immediate:!0}),j((()=>l.parsedValue),(e=>{if(e){if("dates"===ke.value)return;if(Array.isArray(e))return;S.value=e}else S.value=We()}),{immediate:!0}),t("set-picker-option",["isValidValue",e=>a.isDayjs(e)&&e.isValid()&&(!y||!y(e.toDate()))]),t("set-picker-option",["formatToString",e=>"dates"===ke.value?e.map((e=>e.format(l.format))):e.format(l.format)]),t("set-picker-option",["parseUserInput",e=>a(e,l.format).locale(c.value)]),t("set-picker-option",["handleFocusPicker",je]),(e,l)=>(G(),te("div",{class:X([K(n).b(),K(o).b(),{"has-sidebar":e.$slots.sidebar||K(De),"has-time":K(Ce)}])},[le("div",{class:X(K(n).e("body-wrapper"))},[ne(e.$slots,"sidebar",{class:X(K(n).e("sidebar"))}),K(De)?(G(),te("div",{key:0,class:X(K(n).e("sidebar"))},[(G(!0),te(ue,null,ie(K(m),((e,l)=>(G(),te("button",{key:l,type:"button",class:X(K(n).e("shortcut")),onClick:l=>(e=>{const l=be(e.value)?e.value():e.value;l?J(a(l).locale(c.value)):e.onClick&&e.onClick({attrs:u,slots:i,emit:t})})(e)},oe(e.text),11,Xa)))),128))],2)):ae("v-if",!0),le("div",{class:X(K(n).e("body"))},[K(Ce)?(G(),te("div",{key:0,class:X(K(o).e("time-header"))},[le("span",{class:X(K(o).e("editor-wrap"))},[ve(K(f),{placeholder:K(d)("el.datepicker.selectDate"),"model-value":K(Ne),size:"small","validate-event":!1,onInput:l[0]||(l[0]=e=>T.value=e),onChange:ze},null,8,["placeholder","model-value"])],2),ce((G(),te("span",{class:X(K(o).e("editor-wrap"))},[ve(K(f),{placeholder:K(d)("el.datepicker.selectTime"),"model-value":K(Ie),size:"small","validate-event":!1,onFocus:Te,onInput:l[1]||(l[1]=e=>E.value=e),onChange:Le},null,8,["placeholder","model-value"]),ve(K(ea),{visible:Re.value,format:K($e),"time-arrow-control":K(w),"parsed-value":S.value,onPick:Fe},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[K(V),Be]])],2)):ae("v-if",!0),ce(le("div",{class:X([K(o).e("header"),("year"===pe.value||"month"===pe.value)&&K(o).e("header--bordered")])},[le("span",{class:X(K(o).e("prev-btn"))},[le("button",{type:"button","aria-label":K(d)("el.datepicker.prevYear"),class:X(["d-arrow-left",K(n).e("icon-btn")]),onClick:l[2]||(l[2]=e=>se(!1))},[ve(K(h),null,{default:q((()=>[ve(K($))])),_:1})],10,Qa),ce(le("button",{type:"button","aria-label":K(d)("el.datepicker.prevMonth"),class:X([K(n).e("icon-btn"),"arrow-left"]),onClick:l[3]||(l[3]=e=>re(!1))},[ve(K(h),null,{default:q((()=>[ve(K(O))])),_:1})],10,Ja),[[ye,"date"===pe.value]])],2),le("span",{role:"button",class:X(K(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:l[4]||(l[4]=me((e=>Me("year")),["enter"])),onClick:l[5]||(l[5]=e=>Me("year"))},oe(K(ge)),35),ce(le("span",{role:"button","aria-live":"polite",tabindex:"0",class:X([K(o).e("header-label"),{active:"month"===pe.value}]),onKeydown:l[6]||(l[6]=me((e=>Me("month")),["enter"])),onClick:l[7]||(l[7]=e=>Me("month"))},oe(K(d)(`el.datepicker.month${K(P)+1}`)),35),[[ye,"date"===pe.value]]),le("span",{class:X(K(o).e("next-btn"))},[ce(le("button",{type:"button","aria-label":K(d)("el.datepicker.nextMonth"),class:X([K(n).e("icon-btn"),"arrow-right"]),onClick:l[8]||(l[8]=e=>re(!0))},[ve(K(h),null,{default:q((()=>[ve(K(Y))])),_:1})],10,et),[[ye,"date"===pe.value]]),le("button",{type:"button","aria-label":K(d)("el.datepicker.nextYear"),class:X([K(n).e("icon-btn"),"d-arrow-right"]),onClick:l[9]||(l[9]=e=>se(!0))},[ve(K(h),null,{default:q((()=>[ve(K(A))])),_:1})],10,at)],2)],2),[[ye,"time"!==pe.value]]),le("div",{class:X(K(n).e("content")),onKeydown:He},["date"===pe.value?(G(),Z(Ia,{key:0,ref_key:"currentViewRef",ref:x,"selection-mode":K(ke),date:S.value,"parsed-value":e.parsedValue,"disabled-date":K(y),"cell-class-name":K(b),onPick:ee},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ae("v-if",!0),"year"===pe.value?(G(),Z(qa,{key:1,ref_key:"currentViewRef",ref:x,date:S.value,"disabled-date":K(y),"parsed-value":e.parsedValue,onPick:Se},null,8,["date","disabled-date","parsed-value"])):ae("v-if",!0),"month"===pe.value?(G(),Z(Fa,{key:2,ref_key:"currentViewRef",ref:x,date:S.value,"parsed-value":e.parsedValue,"disabled-date":K(y),onPick:xe},null,8,["date","parsed-value","disabled-date"])):ae("v-if",!0)],34)],2)],2),ce(le("div",{class:X(K(n).e("footer"))},[ce(ve(K(I),{text:"",size:"small",class:X(K(n).e("link-btn")),onClick:Ve},{default:q((()=>[de(oe(K(d)("el.datepicker.now")),1)])),_:1},8,["class"]),[[ye,"dates"!==K(ke)]]),ve(K(I),{plain:"",size:"small",class:X(K(n).e("link-btn")),onClick:_e},{default:q((()=>[de(oe(K(d)("el.datepicker.confirm")),1)])),_:1},8,["class"])],2),[[ye,K(Pe)&&"date"===pe.value]])],2))}});var lt=b(tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const nt=t({...wa,...Da}),ot=(e,{defaultValue:t,leftDate:l,rightDate:n,unit:o,onParsedValueChanged:u})=>{const{emit:i}=ge(),{pickerNs:d}=L(ya),c=s("date-range-picker"),{t:v,lang:p}=r(),m=(e=>{const{emit:t}=ge(),l=F(),n=fe();return o=>{const r=be(o.value)?o.value():o.value;r?t("pick",[a(r[0]).locale(e.value),a(r[1]).locale(e.value)]):o.onClick&&o.onClick({attrs:l,slots:n,emit:t})}})(p),f=z(),h=z(),y=z({endDate:null,selecting:!1}),b=()=>{const[a,r]=Pa(K(t),{lang:K(p),unit:o,unlinkPanels:e.unlinkPanels});f.value=void 0,h.value=void 0,l.value=a,n.value=r};return j(t,(e=>{e&&b()}),{immediate:!0}),j((()=>e.parsedValue),(e=>{if(B(e)&&2===e.length){const[a,t]=e;f.value=a,l.value=a,h.value=t,u(K(f),K(h))}else b()}),{immediate:!0}),{minDate:f,maxDate:h,rangeState:y,lang:p,ppNs:d,drpNs:c,handleChangeRange:e=>{y.value=e},handleRangeConfirm:(e=!1)=>{const a=K(f),t=K(h);Ca([a,t])&&i("pick",[a,t],e)},handleShortcutClick:m,onSelect:e=>{y.value.selecting=e,e||(y.value.endDate=null)},t:v}},rt=["onClick"],st=["disabled"],ut=["disabled"],it=["disabled"],dt=["disabled"],ct="month",vt=E({__name:"panel-date-range",props:nt,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const l=e,n=L("EP_PICKER_BASE"),{disabledDate:o,cellClassName:s,format:u,defaultTime:i,arrowControl:d,clearable:c}=n.props,v=he(n.props,"shortcuts"),p=he(n.props,"defaultValue"),{lang:m}=r(),y=z(a().locale(m.value)),b=z(a().locale(m.value).add(1,ct)),{minDate:g,maxDate:k,rangeState:w,ppNs:D,drpNs:x,handleChangeRange:S,handleRangeConfirm:M,handleShortcutClick:C,onSelect:P,t:_}=ot(l,{defaultValue:p,leftDate:y,rightDate:b,unit:ct,onParsedValueChanged:function(e,a){if(l.unlinkPanels&&a){const t=(null==e?void 0:e.year())||0,l=(null==e?void 0:e.month())||0,n=a.year(),o=a.month();b.value=t===n&&l===o?a.add(1,ct):a}else b.value=y.value.add(1,ct),a&&(b.value=b.value.hour(a.hour()).minute(a.minute()).second(a.second()))}}),N=z({min:null,max:null}),R=z({min:null,max:null}),T=W((()=>`${y.value.year()} ${_("el.datepicker.year")} ${_(`el.datepicker.month${y.value.month()+1}`)}`)),E=W((()=>`${b.value.year()} ${_("el.datepicker.year")} ${_(`el.datepicker.month${b.value.month()+1}`)}`)),F=W((()=>y.value.year())),j=W((()=>y.value.month())),H=W((()=>b.value.year())),U=W((()=>b.value.month())),Q=W((()=>!!v.value.length)),J=W((()=>null!==N.value.min?N.value.min:g.value?g.value.format(me.value):"")),ee=W((()=>null!==N.value.max?N.value.max:k.value||g.value?(k.value||g.value).format(me.value):"")),re=W((()=>null!==R.value.min?R.value.min:g.value?g.value.format(pe.value):"")),se=W((()=>null!==R.value.max?R.value.max:k.value||g.value?(k.value||g.value).format(pe.value):"")),pe=W((()=>Ye(u))),me=W((()=>Oe(u))),fe=()=>{y.value=y.value.subtract(1,"year"),l.unlinkPanels||(b.value=y.value.add(1,"month")),Se("year")},ye=()=>{y.value=y.value.subtract(1,"month"),l.unlinkPanels||(b.value=y.value.add(1,"month")),Se("month")},be=()=>{l.unlinkPanels?b.value=b.value.add(1,"year"):(y.value=y.value.add(1,"year"),b.value=y.value.add(1,"month")),Se("year")},ge=()=>{l.unlinkPanels?b.value=b.value.add(1,"month"):(y.value=y.value.add(1,"month"),b.value=y.value.add(1,"month")),Se("month")},ke=()=>{y.value=y.value.add(1,"year"),Se("year")},we=()=>{y.value=y.value.add(1,"month"),Se("month")},De=()=>{b.value=b.value.subtract(1,"year"),Se("year")},xe=()=>{b.value=b.value.subtract(1,"month"),Se("month")},Se=e=>{t("panel-change",[y.value.toDate(),b.value.toDate()],e)},Me=W((()=>{const e=(j.value+1)%12,a=j.value+1>=12?1:0;return l.unlinkPanels&&new Date(F.value+a,e)<new Date(H.value,U.value)})),Ce=W((()=>l.unlinkPanels&&12*H.value+U.value-(12*F.value+j.value+1)>=12)),Pe=W((()=>!(g.value&&k.value&&!w.value.selecting&&Ca([g.value,k.value])))),_e=W((()=>"datetime"===l.type||"datetimerange"===l.type)),Ve=(e,t)=>{if(e){if(i){return a(i[t]||i).locale(m.value).year(e.year()).month(e.month()).date(e.date())}return e}},$e=(e,a=!0)=>{const l=e.minDate,n=e.maxDate,o=Ve(l,0),r=Ve(n,1);k.value===r&&g.value===o||(t("calendar-change",[l.toDate(),n&&n.toDate()]),k.value=r,g.value=o,a&&!_e.value&&M())},Ae=z(!1),Ie=z(!1),Ne=()=>{Ae.value=!1},Re=()=>{Ie.value=!1},Te=(e,t)=>{N.value[t]=e;const n=a(e,me.value).locale(m.value);if(n.isValid()){if(o&&o(n.toDate()))return;"min"===t?(y.value=n,g.value=(g.value||y.value).year(n.year()).month(n.month()).date(n.date()),l.unlinkPanels||(b.value=n.add(1,"month"),k.value=g.value.add(1,"month"))):(b.value=n,k.value=(k.value||b.value).year(n.year()).month(n.month()).date(n.date()),l.unlinkPanels||(y.value=n.subtract(1,"month"),g.value=k.value.subtract(1,"month")))}},Be=(e,a)=>{N.value[a]=null},Ee=(e,t)=>{R.value[t]=e;const l=a(e,pe.value).locale(m.value);l.isValid()&&("min"===t?(Ae.value=!0,g.value=(g.value||y.value).hour(l.hour()).minute(l.minute()).second(l.second()),k.value&&!k.value.isBefore(g.value)||(k.value=g.value)):(Ie.value=!0,k.value=(k.value||b.value).hour(l.hour()).minute(l.minute()).second(l.second()),b.value=k.value,k.value&&k.value.isBefore(g.value)&&(g.value=k.value)))},Fe=(e,a)=>{R.value[a]=null,"min"===a?(y.value=g.value,Ae.value=!1):(b.value=k.value,Ie.value=!1)},Le=(e,a,t)=>{R.value.min||(e&&(y.value=e,g.value=(g.value||y.value).hour(e.hour()).minute(e.minute()).second(e.second())),t||(Ae.value=a),k.value&&!k.value.isBefore(g.value)||(k.value=g.value,b.value=e))},ze=(e,a,t)=>{R.value.max||(e&&(b.value=e,k.value=(k.value||b.value).hour(e.hour()).minute(e.minute()).second(e.second())),t||(Ie.value=a),k.value&&k.value.isBefore(g.value)&&(g.value=k.value))},We=()=>{y.value=Pa(K(p),{lang:K(m),unit:"month",unlinkPanels:l.unlinkPanels})[0],b.value=y.value.add(1,"month"),t("pick",null)};return t("set-picker-option",["isValidValue",Ca]),t("set-picker-option",["parseUserInput",e=>B(e)?e.map((e=>a(e,u).locale(m.value))):a(e,u).locale(m.value)]),t("set-picker-option",["formatToString",e=>B(e)?e.map((e=>e.format(u))):e.format(u)]),t("set-picker-option",["handleClear",We]),(e,a)=>(G(),te("div",{class:X([K(D).b(),K(x).b(),{"has-sidebar":e.$slots.sidebar||K(Q),"has-time":K(_e)}])},[le("div",{class:X(K(D).e("body-wrapper"))},[ne(e.$slots,"sidebar",{class:X(K(D).e("sidebar"))}),K(Q)?(G(),te("div",{key:0,class:X(K(D).e("sidebar"))},[(G(!0),te(ue,null,ie(K(v),((e,a)=>(G(),te("button",{key:a,type:"button",class:X(K(D).e("shortcut")),onClick:a=>K(C)(e)},oe(e.text),11,rt)))),128))],2)):ae("v-if",!0),le("div",{class:X(K(D).e("body"))},[K(_e)?(G(),te("div",{key:0,class:X(K(x).e("time-header"))},[le("span",{class:X(K(x).e("editors-wrap"))},[le("span",{class:X(K(x).e("time-picker-wrap"))},[ve(K(f),{size:"small",disabled:K(w).selecting,placeholder:K(_)("el.datepicker.startDate"),class:X(K(x).e("editor")),"model-value":K(J),"validate-event":!1,onInput:a[0]||(a[0]=e=>Te(e,"min")),onChange:a[1]||(a[1]=e=>Be(0,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),ce((G(),te("span",{class:X(K(x).e("time-picker-wrap"))},[ve(K(f),{size:"small",class:X(K(x).e("editor")),disabled:K(w).selecting,placeholder:K(_)("el.datepicker.startTime"),"model-value":K(re),"validate-event":!1,onFocus:a[2]||(a[2]=e=>Ae.value=!0),onInput:a[3]||(a[3]=e=>Ee(e,"min")),onChange:a[4]||(a[4]=e=>Fe(0,"min"))},null,8,["class","disabled","placeholder","model-value"]),ve(K(ea),{visible:Ae.value,format:K(pe),"datetime-role":"start","time-arrow-control":K(d),"parsed-value":y.value,onPick:Le},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[K(V),Ne]])],2),le("span",null,[ve(K(h),null,{default:q((()=>[ve(K(Y))])),_:1})]),le("span",{class:X([K(x).e("editors-wrap"),"is-right"])},[le("span",{class:X(K(x).e("time-picker-wrap"))},[ve(K(f),{size:"small",class:X(K(x).e("editor")),disabled:K(w).selecting,placeholder:K(_)("el.datepicker.endDate"),"model-value":K(ee),readonly:!K(g),"validate-event":!1,onInput:a[5]||(a[5]=e=>Te(e,"max")),onChange:a[6]||(a[6]=e=>Be(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),ce((G(),te("span",{class:X(K(x).e("time-picker-wrap"))},[ve(K(f),{size:"small",class:X(K(x).e("editor")),disabled:K(w).selecting,placeholder:K(_)("el.datepicker.endTime"),"model-value":K(se),readonly:!K(g),"validate-event":!1,onFocus:a[7]||(a[7]=e=>K(g)&&(Ie.value=!0)),onInput:a[8]||(a[8]=e=>Ee(e,"max")),onChange:a[9]||(a[9]=e=>Fe(0,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ve(K(ea),{"datetime-role":"end",visible:Ie.value,format:K(pe),"time-arrow-control":K(d),"parsed-value":b.value,onPick:ze},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[K(V),Re]])],2)],2)):ae("v-if",!0),le("div",{class:X([[K(D).e("content"),K(x).e("content")],"is-left"])},[le("div",{class:X(K(x).e("header"))},[le("button",{type:"button",class:X([K(D).e("icon-btn"),"d-arrow-left"]),onClick:fe},[ve(K(h),null,{default:q((()=>[ve(K($))])),_:1})],2),le("button",{type:"button",class:X([K(D).e("icon-btn"),"arrow-left"]),onClick:ye},[ve(K(h),null,{default:q((()=>[ve(K(O))])),_:1})],2),e.unlinkPanels?(G(),te("button",{key:0,type:"button",disabled:!K(Ce),class:X([[K(D).e("icon-btn"),{"is-disabled":!K(Ce)}],"d-arrow-right"]),onClick:ke},[ve(K(h),null,{default:q((()=>[ve(K(A))])),_:1})],10,st)):ae("v-if",!0),e.unlinkPanels?(G(),te("button",{key:1,type:"button",disabled:!K(Me),class:X([[K(D).e("icon-btn"),{"is-disabled":!K(Me)}],"arrow-right"]),onClick:we},[ve(K(h),null,{default:q((()=>[ve(K(Y))])),_:1})],10,ut)):ae("v-if",!0),le("div",null,oe(K(T)),1)],2),ve(Ia,{"selection-mode":"range",date:y.value,"min-date":K(g),"max-date":K(k),"range-state":K(w),"disabled-date":K(o),"cell-class-name":K(s),onChangerange:K(S),onPick:$e,onSelect:K(P)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),le("div",{class:X([[K(D).e("content"),K(x).e("content")],"is-right"])},[le("div",{class:X(K(x).e("header"))},[e.unlinkPanels?(G(),te("button",{key:0,type:"button",disabled:!K(Ce),class:X([[K(D).e("icon-btn"),{"is-disabled":!K(Ce)}],"d-arrow-left"]),onClick:De},[ve(K(h),null,{default:q((()=>[ve(K($))])),_:1})],10,it)):ae("v-if",!0),e.unlinkPanels?(G(),te("button",{key:1,type:"button",disabled:!K(Me),class:X([[K(D).e("icon-btn"),{"is-disabled":!K(Me)}],"arrow-left"]),onClick:xe},[ve(K(h),null,{default:q((()=>[ve(K(O))])),_:1})],10,dt)):ae("v-if",!0),le("button",{type:"button",class:X([K(D).e("icon-btn"),"d-arrow-right"]),onClick:be},[ve(K(h),null,{default:q((()=>[ve(K(A))])),_:1})],2),le("button",{type:"button",class:X([K(D).e("icon-btn"),"arrow-right"]),onClick:ge},[ve(K(h),null,{default:q((()=>[ve(K(Y))])),_:1})],2),le("div",null,oe(K(E)),1)],2),ve(Ia,{"selection-mode":"range",date:b.value,"min-date":K(g),"max-date":K(k),"range-state":K(w),"disabled-date":K(o),"cell-class-name":K(s),onChangerange:K(S),onPick:$e,onSelect:K(P)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),K(_e)?(G(),te("div",{key:0,class:X(K(D).e("footer"))},[K(c)?(G(),Z(K(I),{key:0,text:"",size:"small",class:X(K(D).e("link-btn")),onClick:We},{default:q((()=>[de(oe(K(_)("el.datepicker.clear")),1)])),_:1},8,["class"])):ae("v-if",!0),ve(K(I),{plain:"",size:"small",class:X(K(D).e("link-btn")),disabled:K(Pe),onClick:a[10]||(a[10]=e=>K(M)(!1))},{default:q((()=>[de(oe(K(_)("el.datepicker.confirm")),1)])),_:1},8,["class","disabled"])],2)):ae("v-if",!0)],2))}});var pt=b(vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const mt=t({...Da}),ft=["onClick"],ht=["disabled"],yt=["disabled"],bt="year",gt=E({name:"DatePickerMonthRange"}),kt=E({...gt,props:mt,emits:["pick","set-picker-option"],setup(e,{emit:t}){const l=e,{lang:n}=r(),o=L("EP_PICKER_BASE"),{shortcuts:s,disabledDate:u,format:i}=o.props,d=he(o.props,"defaultValue"),c=z(a().locale(n.value)),v=z(a().locale(n.value).add(1,bt)),{minDate:p,maxDate:m,rangeState:f,ppNs:y,drpNs:b,handleChangeRange:g,handleRangeConfirm:k,handleShortcutClick:w,onSelect:D}=ot(l,{defaultValue:d,leftDate:c,rightDate:v,unit:bt,onParsedValueChanged:function(e,a){if(l.unlinkPanels&&a){const t=(null==e?void 0:e.year())||0,l=a.year();v.value=t===l?a.add(1,bt):a}else v.value=c.value.add(1,bt)}}),x=W((()=>!!s.length)),{leftPrevYear:S,rightNextYear:M,leftNextYear:C,rightPrevYear:P,leftLabel:_,rightLabel:V,leftYear:O,rightYear:Y}=(({unlinkPanels:e,leftDate:a,rightDate:t})=>{const{t:l}=r();return{leftPrevYear:()=>{a.value=a.value.subtract(1,"year"),e.value||(t.value=t.value.subtract(1,"year"))},rightNextYear:()=>{e.value||(a.value=a.value.add(1,"year")),t.value=t.value.add(1,"year")},leftNextYear:()=>{a.value=a.value.add(1,"year")},rightPrevYear:()=>{t.value=t.value.subtract(1,"year")},leftLabel:W((()=>`${a.value.year()} ${l("el.datepicker.year")}`)),rightLabel:W((()=>`${t.value.year()} ${l("el.datepicker.year")}`)),leftYear:W((()=>a.value.year())),rightYear:W((()=>t.value.year()===a.value.year()?a.value.year()+1:t.value.year()))}})({unlinkPanels:he(l,"unlinkPanels"),leftDate:c,rightDate:v}),I=W((()=>l.unlinkPanels&&Y.value>O.value+1)),N=(e,a=!0)=>{const t=e.minDate,l=e.maxDate;m.value===l&&p.value===t||(m.value=l,p.value=t,a&&k())};return t("set-picker-option",["formatToString",e=>e.map((e=>e.format(i)))]),(e,a)=>(G(),te("div",{class:X([K(y).b(),K(b).b(),{"has-sidebar":Boolean(e.$slots.sidebar)||K(x)}])},[le("div",{class:X(K(y).e("body-wrapper"))},[ne(e.$slots,"sidebar",{class:X(K(y).e("sidebar"))}),K(x)?(G(),te("div",{key:0,class:X(K(y).e("sidebar"))},[(G(!0),te(ue,null,ie(K(s),((e,a)=>(G(),te("button",{key:a,type:"button",class:X(K(y).e("shortcut")),onClick:a=>K(w)(e)},oe(e.text),11,ft)))),128))],2)):ae("v-if",!0),le("div",{class:X(K(y).e("body"))},[le("div",{class:X([[K(y).e("content"),K(b).e("content")],"is-left"])},[le("div",{class:X(K(b).e("header"))},[le("button",{type:"button",class:X([K(y).e("icon-btn"),"d-arrow-left"]),onClick:a[0]||(a[0]=(...e)=>K(S)&&K(S)(...e))},[ve(K(h),null,{default:q((()=>[ve(K($))])),_:1})],2),e.unlinkPanels?(G(),te("button",{key:0,type:"button",disabled:!K(I),class:X([[K(y).e("icon-btn"),{[K(y).is("disabled")]:!K(I)}],"d-arrow-right"]),onClick:a[1]||(a[1]=(...e)=>K(C)&&K(C)(...e))},[ve(K(h),null,{default:q((()=>[ve(K(A))])),_:1})],10,ht)):ae("v-if",!0),le("div",null,oe(K(_)),1)],2),ve(Fa,{"selection-mode":"range",date:c.value,"min-date":K(p),"max-date":K(m),"range-state":K(f),"disabled-date":K(u),onChangerange:K(g),onPick:N,onSelect:K(D)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),le("div",{class:X([[K(y).e("content"),K(b).e("content")],"is-right"])},[le("div",{class:X(K(b).e("header"))},[e.unlinkPanels?(G(),te("button",{key:0,type:"button",disabled:!K(I),class:X([[K(y).e("icon-btn"),{"is-disabled":!K(I)}],"d-arrow-left"]),onClick:a[2]||(a[2]=(...e)=>K(P)&&K(P)(...e))},[ve(K(h),null,{default:q((()=>[ve(K($))])),_:1})],10,yt)):ae("v-if",!0),le("button",{type:"button",class:X([K(y).e("icon-btn"),"d-arrow-right"]),onClick:a[3]||(a[3]=(...e)=>K(M)&&K(M)(...e))},[ve(K(h),null,{default:q((()=>[ve(K(A))])),_:1})],2),le("div",null,oe(K(V)),1)],2),ve(Fa,{"selection-mode":"range",date:v.value,"min-date":K(p),"max-date":K(m),"range-state":K(f),"disabled-date":K(u),onChangerange:K(g),onPick:N,onSelect:K(D)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var wt=b(kt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);a.extend(ta),a.extend(na),a.extend(Se),a.extend(ua),a.extend(da),a.extend(va),a.extend(ma),a.extend(ha);const Dt=E({name:"ElDatePicker",install:null,props:ba,emits:["update:modelValue"],setup(e,{expose:a,emit:t,slots:l}){const n=s("picker-panel");U("ElPopperOptions",ke(he(e,"popperOptions"))),U(ya,{slots:l,pickerNs:n});const o=z();a({focus:(e=!0)=>{var a;null==(a=o.value)||a.focus(e)},handleOpen:()=>{var e;null==(e=o.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=o.value)||e.handleClose()}});const r=e=>{t("update:modelValue",e)};return()=>{var a;const t=null!=(a=e.format)?a:_e[e.type]||Pe,n=function(e){switch(e){case"daterange":case"datetimerange":return pt;case"monthrange":return wt;default:return lt}}(e.type);return ve(He,re(e,{format:t,type:e.type,ref:o,"onUpdate:modelValue":r}),{default:e=>ve(n,e,null),"range-separator":l["range-separator"]})}}});Dt.install=e=>{e.component(Dt.name,Dt)};const xt=Dt;export{xt as E};
