import{n as e,q as l,Q as a,p as t,x as o,a0 as s,a1 as i,T as d,z as r,Z as n,l as u}from"./index-2b8f59d9.js";import{E as m,a as f}from"./el-radio-f8efcffb.js";import{b as p}from"./system-c8a00e86.js";import{u as c}from"./FitsTableProHook-c0d1a0dd.js";import{v as b,a as v,f as x,h,i as g,F as _,I as y,u as V,p as C,M as U,G as k,aa as w}from"./vxetable-90850a7d.js";import"./echarts-c32f5a2f.js";const j={class:"exportBase"},W={class:"contain"},E={class:"buttonClass"},I={href:"https://vxetable.cn/#/table/advanced/export",target:"_blank",style:{"margin-left":"15px"}},T={class:"tableClass"},P=b({name:"ExploreExcel"}),q=u(b({...P,setup(u){const{user:b}=e(),P=v(),q={keepSource:!1,showOverflow:"tooltip",id:"rolestable",rowConfig:{height:52,isCurrent:!0},storage:{enabled:!0,key:"ExampleRoleList",dataBase:b.userInfo.id},importConfig:{},exportConfig:{},pagerConfig:{enabled:!0},columns:[{field:"Checkbox",type:"checkbox",title:"多选",minWidth:50},{field:"Indexes",title:"序号",type:"seq",minWidth:80},{field:"Uname",title:"角色名称",minWidth:130},{field:"Ucode",title:"角色编码",minWidth:130},{field:"Udescribe",title:"角色描述",minWidth:130},{field:"Sort",title:"排序",minWidth:100},{field:"Ustate",title:"角色状态",slots:{default:"state"},minWidth:100}],toolbarConfig:{buttons:[],tools:{enabled:!1}},proxyConfig:{form:!0,autoLoad:!0,ajax:{query:({form:e})=>new Promise((l=>{p(e,{pageIndex:11,pageSize:23}).then((e=>{const{ReturnData:a}=e;l(a?{result:a.TableList,page:{total:a.ItemCount}}:{result:[],page:{total:0}})}))}))}}},{fitsTablePro:z}=c(q,P),S=()=>{P.value.fitsTablePro.exportData({type:B.value,filename:L.value,useStyle:D.value})};let L=v("默认文件名"),B=v("csv"),D=v(!0);const F=[{value:"csv",label:"csv"},{value:"html",label:"html"},{value:"xml",label:"xml"},{value:"txt",label:"txt"}];return(e,u)=>{const p=t,c=o,b=m,v=f,q=s,G=i,R=d,H=r,M=l,O=n;return x(),h("div",j,[g("div",W,[g("div",E,[_(M,{inline:!0,class:"demo-form-inline"},{default:y((()=>[_(c,{label:"导出文件名称："},{default:y((()=>[_(p,{modelValue:V(L),"onUpdate:modelValue":u[0]||(u[0]=e=>C(L)?L.value=e:L=e),placeholder:"请输入文件名"},null,8,["modelValue"])])),_:1}),_(c,{label:"是否根据Table宽度导出："},{default:y((()=>[_(v,{modelValue:V(D),"onUpdate:modelValue":u[1]||(u[1]=e=>C(D)?D.value=e:D=e),class:"ml-4"},{default:y((()=>[_(b,{label:!0,size:"large"},{default:y((()=>[U("是")])),_:1}),_(b,{label:!1,size:"large"},{default:y((()=>[U("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),_(c,{label:"导出文件格式："},{default:y((()=>[_(G,{modelValue:V(B),"onUpdate:modelValue":u[2]||(u[2]=e=>C(B)?B.value=e:B=e),placeholder:"请选择文件格式"},{default:y((()=>[(x(),h(k,null,w(F,((e,l)=>_(q,{key:l,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),_(c,{label:""},{default:y((()=>[g("a",I,[_(R,{type:"info"},{default:y((()=>[U("Excel导出相关资料")])),_:1})])])),_:1}),_(c,null,{default:y((()=>[_(H,{style:{"margin-bottom":"10px"},onClick:S,type:"primary"},{default:y((()=>[U("导出Excel")])),_:1})])),_:1})])),_:1})]),g("div",T,[_(V(a),{option:V(z),ref_key:"xGrid",ref:P},{state:y((({slotProps:e})=>[_(O,{modelValue:e.row.Ustate,"onUpdate:modelValue":l=>e.row.Ustate=l,style:{"--el-switch-on-color":"#000000","--el-switch-off-color":"#dcdfe6"}},null,8,["modelValue","onUpdate:modelValue"])])),_:1},8,["option"])])])])}}}),[["__scopeId","data-v-73611e8e"]]);export{q as default};
