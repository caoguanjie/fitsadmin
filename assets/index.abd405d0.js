import{y as e,c as l,f as s,G as t,u as a,q as o,Z as r,S as n,X as i,a9 as c,h as m,N as d,H as u,I as h,j as f,F as p,_ as v,A as C,R as b,M as x,an as k,ao as y}from"./vxetable.d7bee61f.js";import{d as g}from"./index.5f391711.js";import{_ as N}from"./index.30d84996.js";import{u as I}from"./FitsTableProHook.5425d7a7.js";import{F as _}from"./FitsCard.cf95c2ff.js";import"./echarts.d8b3161e.js";import"./moment.9709ab41.js";const w=e({__name:"ComplexHeaderTable",setup(e){const o=l(),{fitsTablePro:r}=I({border:"full",columns:[{type:"seq",field:"Index",width:50,title:"序号"},{title:"基本信息",field:"basic",children:[{field:"name",title:"姓名"},{title:"其他信息",field:"other",children:[{field:"phone",title:"电话"},{field:"birth",title:"生日"}]},{field:"sex",title:"性别"}]},{field:"mark",title:"备注",sortable:!0,showOverflow:!0}],data:[{name:"王五",phone:"13224452121",birth:"1999-10-08",sex:"男",mark:"下周五入住201房"},{name:"李晓明",phone:"13754456492",birth:"2015-05-18",sex:"男",mark:"无"},{name:"王大陆",phone:"13324459856",birth:"2000-01-05",sex:"女",mark:"已离职，归还设备"},{name:"李萌萌",phone:"18712458736",birth:"1879-12-13",sex:"女",mark:"此人不存在 "},{name:"张兴",phone:"18924584265",birth:"1954-03-25",sex:"男",mark:"办理手续、护照、签证 、身份汇总"}],headerAlign:"center"},o);return(e,l)=>(s(),t(a(g),{option:a(r),ref_key:"xGrid",ref:o},null,8,["option"]))}});var S=N(e({__name:"ComplexHighlightTable",setup(e){let n=l(0);const i={border:"full",columns:[{type:"seq",field:"Index",width:50,title:"序号",headerClassName:"headerClass0",className:"columnClass0"},{title:"基本信息",field:"basic",children:[{field:"name",title:"姓名",headerClassName:"headerClass1",className:"columnClass1"},{title:"其他信息",field:"other",children:[{field:"phone",title:"电话",headerClassName:"headerClass2",className:"columnClass2"},{field:"birth",title:"生日",headerClassName:"headerClass3",className:"columnClass3"}]},{field:"sex",title:"性别",headerClassName:"headerClass4",className:"columnClass4"}]},{field:"mark",title:"备注",sortable:!0,showOverflow:!0,headerClassName:"headerClass5",className:"columnClass5"}],data:[{name:"王五",phone:"13224452121",birth:"1999-10-08",sex:"男",mark:"下周五入住201房"},{name:"李晓明",phone:"13754456492",birth:"2015-05-18",sex:"男",mark:"无"},{name:"王大陆",phone:"13324459856",birth:"2000-01-05",sex:"女",mark:"已离职，归还设备"},{name:"李萌萌",phone:"18712458736",birth:"1879-12-13",sex:"女",mark:"此人不存在 "},{name:"张兴",phone:"18924584265",birth:"1954-03-25",sex:"男",mark:"办理手续、护照、签证 、身份汇总"}],headerAlign:"center",rowConfig:{isHover:!0},tooltipConfig:{}},c=l(),{fitsTablePro:m}=I(i,c);function d({row:e,rowIndex:l,$rowIndex:s,column:t,columnIndex:a,$columnIndex:o,$event:r}){if(document.addEventListener("mouseover",u,!0),o===n.value)return;const i=document.querySelector(".iscurrentCol");i&&i.classList.remove("iscurrentCol"),document.querySelectorAll(".iscurrentCol").forEach((e=>{e.classList.remove("iscurrentCol")}));const c=document.querySelector(`.headerClass${o}`);document.querySelectorAll(`.columnClass${o}`).forEach((e=>{e.classList.add("iscurrentCol")})),null==c||c.classList.add("iscurrentCol"),n.value=o}const u=e=>{var l;if(!(null==(l=null==e?void 0:e.target)?void 0:l.closest(".vxe-table--body-wrapper"))){const e=document.querySelector(".iscurrentCol");e&&e.classList.remove("iscurrentCol"),document.querySelectorAll(".iscurrentCol").forEach((e=>{e.classList.remove("iscurrentCol")})),n.value=-1,document.removeEventListener("mouseenter",u,!0)}};return o((()=>{document.removeEventListener("mouseenter",u,!0)})),r((()=>{document.removeEventListener("mouseenter",u,!0)})),(e,l)=>(s(),t(a(g),{option:a(m),ref_key:"xGrid",ref:c,onCellMouseenter:d,class:"complex-highlight-table"},null,8,["option"]))}}),[["__scopeId","data-v-2af09248"]]);const L={class:"complex-header-table"},q={class:"content"},E={class:"right"},j={class:"menu"},T=(e=>(k("data-v-6b1f4b77"),e=e(),y(),e))((()=>f("div",{class:"menu-title"},"此页内容",-1))),A=["id","onClick"],H=e({name:"ComplexTable"});var $=N(e({...H,setup(e){const t=l([]),a=n({num:0});let o=0;const r={callback:function(e){t.value=e},selectors:["h1","h2"],exceptSelector:"[un-nav]",listenScroll:!0};const k=e=>{if(null!==o)y(o);else if(null===o)for(let l=0;l<t.value.length;l++){let s=document.getElementById("menuItem"+l);t.value[l].pos.top<=e.scrollTop+t.value[0].pos.top&&s&&(a.num=l)}},y=e=>{for(let l=0;l<t.value.length;l++){let s=document.getElementById("menuItem"+l);e!==l&&s&&(s.className="defaultStyle")}setTimeout((()=>{o=null}),100)};return(e,l)=>{const n=i("el-scrollbar"),g=c("outline");return s(),m("div",L,[d(n,{class:"left",onScroll:k,always:""},{default:u((()=>[h((s(),m("div",q,[d(_,{title:"复杂表头",desc:"通过给 columns 中的对象传递 children 属性定义子列，即可实现表头分组。"},{default:u((()=>[d(w)])),_:1}),d(_,{title:"复杂表头交叉高亮",desc:"首先交叉高亮需要让表格的行和列分别高亮起来，行的高亮配置可以通过 rowConfig.isHover=true 直接开启，列的高亮没有配置项，需要自己处理，本案例用到表格的 cellMouseenter 事件，因此需要传递 tooltipConfig配置(空对象也行)。然后给每个子列添加headerClassName和className，类名是帮助我们给该列添加高亮的样式。在cellMouseenter方法中开启监听mouseover事件，具体逻辑操作可以看代码。最后需要在卸载页面的生命周期内移除监听事件。"},{default:u((()=>[d(S)])),_:1})])),[[g,r]])])),_:1}),f("div",E,[f("div",j,[T,(s(!0),m(p,null,v(t.value,((e,l)=>(s(),m("div",{class:C([{active:a.num===l},"defaultStyle"]),key:l,id:"menuItem"+l,onClick:b((s=>function(e,l){o=l,a.num=l,e.scrollIntoView({block:"start",inline:"nearest"}),y(o)}(e.el,l)),["stop"])},x(e.title),11,A)))),128))])])])}}}),[["__scopeId","data-v-6b1f4b77"]]);export{$ as default};
