import{F as e,y as a,c as t,d as l,n as s,l as o,m as n,Q as r,u as i,X as u,aI as c,g as d,N as v,e as b,o as p,K as m,U as f,Z as g,z as y,G as h,j as T,J as x,C as N,L as w,M as P,O as $}from"./vxetable.5e2aec1d.js";import{b as k,L as C,M as B,N as S,c as E,e as R,_ as F,O as A,P as L,E as _,f as j,g as K,Q as M,T as O,U as V,V as z,W as U,i as X,h as q,X as Q,w as W,j as G}from"./index.0ea97641.js";const H=Symbol("tabsRootContextKey");var I=F(e({name:"ElTabBar",props:k({tabs:{type:C(Array),default:()=>B([])}}),setup(e,{expose:v}){const b=e,p=d(),m=a(H);m||S("ElTabBar","<el-tabs><el-tab-bar /></el-tabs>");const f=E("tabs"),g=t(),y=t(),h=()=>y.value=(()=>{let e=0,a=0;const t=["top","bottom"].includes(m.props.tabPosition)?"width":"height",l="width"===t?"x":"y";return b.tabs.every((s=>{var o,n,r,i;const u=null==(n=null==(o=p.parent)?void 0:o.refs)?void 0:n[`tab-${s.uid}`];if(!u)return!1;if(!s.active)return!0;a=u[`client${c(t)}`];const d="x"===l?"left":"top";e=u.getBoundingClientRect()[d]-(null!=(i=null==(r=u.parentElement)?void 0:r.getBoundingClientRect()[d])?i:0);const v=window.getComputedStyle(u);return"width"===t&&(b.tabs.length>1&&(a-=Number.parseFloat(v.paddingLeft)+Number.parseFloat(v.paddingRight)),e+=Number.parseFloat(v.paddingLeft)),!1})),{[t]:`${a}px`,transform:`translate${c(l)}(${e}px)`}})();return l((()=>b.tabs),(async()=>{await s(),h()}),{immediate:!0}),R(g,(()=>h())),v({ref:g,update:h}),(e,a)=>(o(),n("div",{ref_key:"barRef",ref:g,class:r([i(f).e("active-bar"),i(f).is(i(m).props.tabPosition)]),style:u(y.value)},null,6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const J=k({panes:{type:C(Array),default:()=>B([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:C(Function),default:v},onTabRemove:{type:C(Function),default:v},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Y=e({name:"ElTabNav",props:J,setup(e,{expose:o}){const n=d(),r=a(H);r||S("ElTabNav","<el-tabs><tab-nav /></el-tabs>");const i=E("tabs"),u=A(),v=L(),g=t(),y=t(),h=t(),T=t(!1),x=t(0),N=t(!1),w=t(!0),P=b((()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height")),$=b((()=>({transform:`translate${"width"===P.value?"X":"Y"}(-${x.value}px)`}))),k=()=>{if(!g.value)return;const e=g.value[`offset${c(P.value)}`],a=x.value;if(!a)return;const t=a>e?a-e:0;x.value=t},C=()=>{if(!g.value||!y.value)return;const e=y.value[`offset${c(P.value)}`],a=g.value[`offset${c(P.value)}`],t=x.value;if(e-t<=a)return;const l=e-t>2*a?t+a:e-a;x.value=l},B=async()=>{const e=y.value;if(!(T.value&&h.value&&g.value&&e))return;await s();const a=h.value.querySelector(".is-active");if(!a)return;const t=g.value,l=["top","bottom"].includes(r.props.tabPosition),o=a.getBoundingClientRect(),n=t.getBoundingClientRect(),i=l?e.offsetWidth-n.width:e.offsetHeight-n.height,u=x.value;let c=u;l?(o.left<n.left&&(c=u-(n.left-o.left)),o.right>n.right&&(c=u+o.right-n.right)):(o.top<n.top&&(c=u-(n.top-o.top)),o.bottom>n.bottom&&(c=u+(o.bottom-n.bottom))),c=Math.max(c,0),x.value=Math.min(c,i)},F=()=>{if(!y.value||!g.value)return;const e=y.value[`offset${c(P.value)}`],a=g.value[`offset${c(P.value)}`],t=x.value;if(a<e){const t=x.value;T.value=T.value||{},T.value.prev=t,T.value.next=t+a<e,e-t<a&&(x.value=e-a)}else T.value=!1,t>0&&(x.value=0)},V=e=>{const a=e.code,{up:t,down:l,left:s,right:o}=O;if(![t,l,s,o].includes(a))return;const n=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),r=n.indexOf(e.target);let i;i=a===s||a===t?0===r?n.length-1:r-1:r<n.length-1?r+1:0,n[i].focus(),n[i].click(),z()},z=()=>{w.value&&(N.value=!0)},U=()=>N.value=!1;return l(u,(e=>{"hidden"===e?w.value=!1:"visible"===e&&setTimeout((()=>w.value=!0),50)})),l(v,(e=>{e?setTimeout((()=>w.value=!0),50):w.value=!1})),R(h,F),p((()=>setTimeout((()=>B()),0))),m((()=>F())),o({scrollToActiveTab:B,removeFocus:U}),l((()=>e.panes),(()=>n.update()),{flush:"post"}),()=>{const a=T.value?[f("span",{class:[i.e("nav-prev"),i.is("disabled",!T.value.prev)],onClick:k},[f(_,null,{default:()=>[f(j,null,null)]})]),f("span",{class:[i.e("nav-next"),i.is("disabled",!T.value.next)],onClick:C},[f(_,null,{default:()=>[f(K,null,null)]})])]:null,t=e.panes.map(((a,t)=>{var l,s,o,n;const u=a.uid,c=a.props.disabled,d=null!=(s=null!=(l=a.props.name)?l:a.index)?s:`${t}`,v=!c&&(a.isClosable||e.editable);a.index=`${t}`;const b=v?f(_,{class:"is-icon-close",onClick:t=>e.onTabRemove(a,t)},{default:()=>[f(M,null,null)]}):null,p=(null==(n=(o=a.slots).label)?void 0:n.call(o))||a.props.label,m=!c&&a.active?0:-1;return f("div",{ref:`tab-${u}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",a.active),i.is("disabled",c),i.is("closable",v),i.is("focus",N.value)],id:`tab-${d}`,key:`tab-${u}`,"aria-controls":`pane-${d}`,role:"tab","aria-selected":a.active,tabindex:m,onFocus:()=>z(),onBlur:()=>U(),onClick:t=>{U(),e.onTabClick(a,d,t)},onKeydown:t=>{!v||t.code!==O.delete&&t.code!==O.backspace||e.onTabRemove(a,t)}},[p,b])}));return f("div",{ref:h,class:[i.e("nav-wrap"),i.is("scrollable",!!T.value),i.is(r.props.tabPosition)]},[a,f("div",{class:i.e("nav-scroll"),ref:g},[f("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:y,style:$.value,role:"tablist",onKeydown:V},[e.type?null:f(I,{tabs:[...e.panes]},null),t])])])}}}),Z=k({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:C(Function),default:()=>!0},stretch:Boolean}),D=e=>T(e)||X(e);var ee=e({name:"ElTabs",props:Z,emits:{[V]:e=>D(e),"tab-click":(e,a)=>a instanceof Event,"tab-change":e=>D(e),edit:(e,a)=>["remove","add"].includes(a),"tab-remove":e=>D(e),"tab-add":()=>!0},setup(e,{emit:a,slots:o,expose:n}){var r,i;const u=E("tabs"),c=t(),d=g({}),v=t(null!=(i=null!=(r=e.modelValue)?r:e.activeName)?i:"0"),p=async t=>{var l,s,o;if(v.value!==t&&!q(t))try{!1!==await(null==(l=e.beforeLeave)?void 0:l.call(e,t,v.value))&&((e=>{v.value=e,a(V,e),a("tab-change",e)})(t),null==(o=null==(s=c.value)?void 0:s.removeFocus)||o.call(s))}catch(n){}},m=(e,t,l)=>{e.props.disabled||(p(t),a("tab-click",e,l))},T=(e,t)=>{e.props.disabled||q(e.props.name)||(t.stopPropagation(),a("edit",e.props.name,"remove"),a("tab-remove",e.props.name))},x=()=>{a("edit",void 0,"add"),a("tab-add")};z({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},b((()=>!!e.activeName))),l((()=>e.activeName),(e=>p(e))),l((()=>e.modelValue),(e=>p(e))),l(v,(async()=>{var e;await s(),null==(e=c.value)||e.scrollToActiveTab()}));y(H,{props:e,currentName:v,registerPane:e=>d[e.uid]=e,unregisterPane:e=>delete d[e]});return n({currentName:v}),()=>{const a=e.editable||e.addable?f("span",{class:u.e("new-tab"),tabindex:"0",onClick:x,onKeydown:e=>{e.code===O.enter&&x()}},[f(_,{class:u.is("icon-plus")},{default:()=>[f(U,null,null)]})]):null,t=f("div",{class:[u.e("header"),u.is(e.tabPosition)]},[a,f(Y,{ref:c,currentName:v.value,editable:e.editable,type:e.type,panes:Object.values(d),stretch:e.stretch,onTabClick:m,onTabRemove:T},null)]),l=f("div",{class:u.e("content")},[h(o,"default")]);return f("div",{class:[u.b(),u.m(e.tabPosition),{[u.m("card")]:"card"===e.type,[u.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[t,l]:[l,t]])}}});const ae=k({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),te=["id","aria-hidden","aria-labelledby"];var le=F(e({name:"ElTabPane",props:ae,setup(e){const s=e,u=d(),c=x(),v=a(H);v||S("ElTabPane","usage: <el-tabs><el-tab-pane /></el-tabs/>");const m=E("tab-pane"),f=t(),y=b((()=>s.closable||v.props.closable)),T=Q((()=>{var e;return v.currentName.value===(null!=(e=s.name)?e:f.value)})),k=t(T.value),C=b((()=>{var e;return null!=(e=s.name)?e:f.value})),B=Q((()=>!s.lazy||k.value||T.value));l(T,(e=>{e&&(k.value=!0)}));const R=g({uid:u.uid,slots:c,props:s,paneName:C,active:T,index:f,isClosable:y});return p((()=>{v.registerPane(R)})),N((()=>{v.unregisterPane(R.uid)})),(e,a)=>i(B)?w((o(),n("div",{key:0,id:`pane-${i(C)}`,class:r(i(m).b()),role:"tabpanel","aria-hidden":!i(T),"aria-labelledby":`tab-${i(C)}`},[h(e.$slots,"default")],10,te)),[[P,i(T)]]):$("v-if",!0)}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const se=W(ee,{TabPane:le}),oe=G(le);export{oe as E,se as a};
