import{O as e,j as l,Q as s}from"./index-d9adfae8.js";import{E as t,a,l as o,S as r,u as n,y as i,a6 as c,J as m,am as d,m as u,O as h,R as f,_ as p,p as v,P as C,aj as b,L as x,a0 as k,W as y,az as g,aA as N}from"./vxetable-cac80a8e.js";import{u as w}from"./FitsTableProHook-ed71dee9.js";import{F as I}from"./FitsCard-2f0743c8.js";import"./echarts-1215139a.js";const _=t({__name:"ComplexHeaderTable",setup(l){const s=a(),{fitsTablePro:t}=w({border:"full",columns:[{type:"seq",field:"Index",width:50,title:"序号"},{title:"基本信息",field:"basic",children:[{field:"name",title:"姓名"},{title:"其他信息",field:"other",children:[{field:"phone",title:"电话"},{field:"birth",title:"生日"}]},{field:"sex",title:"性别"}]},{field:"mark",title:"备注",sortable:!0,showOverflow:!0}],data:[{name:"王五",phone:"13224452121",birth:"1999-10-08",sex:"男",mark:"下周五入住201房"},{name:"李晓明",phone:"13754456492",birth:"2015-05-18",sex:"男",mark:"无"},{name:"王大陆",phone:"13324459856",birth:"2000-01-05",sex:"女",mark:"已离职，归还设备"},{name:"李萌萌",phone:"18712458736",birth:"1879-12-13",sex:"女",mark:"此人不存在 "},{name:"张兴",phone:"18924584265",birth:"1954-03-25",sex:"男",mark:"办理手续、护照、签证 、身份汇总"}],headerAlign:"center"},s);return(l,a)=>(o(),r(n(e),{option:n(t),ref_key:"xGrid",ref:s},null,8,["option"]))}}),S=l(t({__name:"ComplexHighlightTable",setup(l){let s=a(0);const t={border:"full",columns:[{type:"seq",field:"Index",width:50,title:"序号",headerClassName:"headerClass0",className:"columnClass0"},{title:"基本信息",field:"basic",children:[{field:"name",title:"姓名",headerClassName:"headerClass1",className:"columnClass1"},{title:"其他信息",field:"other",children:[{field:"phone",title:"电话",headerClassName:"headerClass2",className:"columnClass2"},{field:"birth",title:"生日",headerClassName:"headerClass3",className:"columnClass3"}]},{field:"sex",title:"性别",headerClassName:"headerClass4",className:"columnClass4"}]},{field:"mark",title:"备注",sortable:!0,showOverflow:!0,headerClassName:"headerClass5",className:"columnClass5"}],data:[{name:"王五",phone:"13224452121",birth:"1999-10-08",sex:"男",mark:"下周五入住201房"},{name:"李晓明",phone:"13754456492",birth:"2015-05-18",sex:"男",mark:"无"},{name:"王大陆",phone:"13324459856",birth:"2000-01-05",sex:"女",mark:"已离职，归还设备"},{name:"李萌萌",phone:"18712458736",birth:"1879-12-13",sex:"女",mark:"此人不存在 "},{name:"张兴",phone:"18924584265",birth:"1954-03-25",sex:"男",mark:"办理手续、护照、签证 、身份汇总"}],headerAlign:"center",rowConfig:{isHover:!0},tooltipConfig:{}},m=a(),{fitsTablePro:d}=w(t,m);function u({row:e,rowIndex:l,$rowIndex:t,column:a,columnIndex:o,$columnIndex:r,$event:n}){if(document.addEventListener("mouseover",h,!0),r===s.value)return;const i=document.querySelector(".iscurrentCol");i&&i.classList.remove("iscurrentCol"),document.querySelectorAll(".iscurrentCol").forEach((e=>{e.classList.remove("iscurrentCol")}));const c=document.querySelector(`.headerClass${r}`);document.querySelectorAll(`.columnClass${r}`).forEach((e=>{e.classList.add("iscurrentCol")})),null==c||c.classList.add("iscurrentCol"),s.value=r}const h=e=>{var l;if(!(null==(l=null==e?void 0:e.target)?void 0:l.closest(".vxe-table--body-wrapper"))){const e=document.querySelector(".iscurrentCol");e&&e.classList.remove("iscurrentCol"),document.querySelectorAll(".iscurrentCol").forEach((e=>{e.classList.remove("iscurrentCol")})),s.value=-1,document.removeEventListener("mouseenter",h,!0)}};return i((()=>{document.removeEventListener("mouseenter",h,!0)})),c((()=>{document.removeEventListener("mouseenter",h,!0)})),(l,s)=>(o(),r(n(e),{option:n(d),ref_key:"xGrid",ref:m,onCellMouseenter:u,class:"complex-highlight-table"},null,8,["option"]))}}),[["__scopeId","data-v-d83e1886"]]),L={class:"complex-header-table"},E={class:"content"},q={class:"right"},T={class:"menu"},j=(e=>(g("data-v-d25dc77e"),e=e(),N(),e))((()=>v("div",{class:"menu-title"},"此页内容",-1))),A=["id","onClick"],H=t({name:"ComplexTable"}),$=l(t({...H,setup(e){const l=a([]),t=m({num:0});let r=0;const i={callback:function(e){l.value=e},selectors:["h1","h2"],exceptSelector:"[un-nav]",listenScroll:!0};const c=e=>{if(null!==r)g(r);else if(null===r)for(let s=0;s<l.value.length;s++){let a=document.getElementById("menuItem"+s);l.value[s].pos.top<=e.scrollTop+l.value[0].pos.top&&a&&(t.num=s)}},g=e=>{for(let s=0;s<l.value.length;s++){let l=document.getElementById("menuItem"+s);e!==s&&l&&(l.className="defaultStyle")}setTimeout((()=>{r=null}),100)};return(e,a)=>{const m=s,N=d("outline");return o(),u("div",L,[h(m,{class:"left",onScroll:c,always:""},{default:f((()=>[p((o(),u("div",E,[h(I,{title:"复杂表头",desc:"通过给 columns 中的对象传递 children 属性定义子列，即可实现表头分组。"},{default:f((()=>[h(_)])),_:1}),h(I,{title:"复杂表头交叉高亮",desc:"首先交叉高亮需要让表格的行和列分别高亮起来，行的高亮配置可以通过 rowConfig.isHover=true 直接开启，列的高亮没有配置项，需要自己处理，本案例用到表格的 cellMouseenter 事件，因此需要传递 tooltipConfig配置(空对象也行)。然后给每个子列添加headerClassName和className，类名是帮助我们给该列添加高亮的样式。在cellMouseenter方法中开启监听mouseover事件，具体逻辑操作可以看代码。最后需要在卸载页面的生命周期内移除监听事件。"},{default:f((()=>[h(S)])),_:1})])),[[N,i]])])),_:1}),v("div",q,[v("div",T,[j,(o(!0),u(C,null,b(n(l),((e,l)=>(o(),u("div",{class:x([{active:n(t).num===l},"defaultStyle"]),key:l,id:"menuItem"+l,onClick:k((s=>function(e,l){r=l,t.num=l,e.scrollIntoView({block:"start",inline:"nearest"}),g(r)}(e.el,l)),["stop"])},y(e.title),11,A)))),128))])])])}}}),[["__scopeId","data-v-d25dc77e"]]);export{$ as default};
