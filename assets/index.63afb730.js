import{y as e,S as a,X as l,f as o,h as s,N as n,H as t,F as i,_ as c,G as d,j as r,M as u,c as p,o as m,a9 as g,u as f,I as v,an as h,ao as y,e as b,W as w,d as _,$ as L,i as k,L as x,K as C,n as V,v as S}from"./vxetable.d7bee61f.js";import"./index.826bcf43.js";import{_ as T,E as R,b as P,u as K,c as j,d as I,e as U,g as F,S as A,r as D,f as E}from"./index.3f3cf4eb.js";import{i as q}from"./index.5738a161.js";import"./echarts.d8b3161e.js";import"./moment.9709ab41.js";const B={class:"left-pannel LoginLeftPannel"},M={class:"desc"},Q=["src"];var z=T(e({__name:"LeftPannel",setup(e){const p=a([{label:"fits-vue3-element 是基于 vue3-element-admin 升级的 Vue3 版本后台管理前端解决方案；使用前端主流技术栈 Vue3 + Vite2 + TypeScript + Vue Router + Pinia + Volar + Element Plus 等",imgs:new URL("/fitsadmin/assets/img1.f5f8761b.svg",self.location).href},{label:"实现功能包括不限于动态权限路由、按钮权限控制、主题切换、系统管理基础模块，各种范例展示等等",imgs:new URL("/fitsadmin/assets/img2.8ce48ce7.svg",self.location).href},{label:"fits-vue3-element是丰德科技前端框架组于2022年最新后台管理系统框架，基于该框架开发了资产管理系统、康复管理系统等等",imgs:new URL("/fitsadmin/assets/img3.a144ea19.svg",self.location).href}]);return(e,a)=>{const m=l("el-carousel-item"),g=l("el-carousel");return o(),s("div",B,[n(g,{interval:3e3,arrow:"hover",class:"swiper"},{default:t((()=>[(o(!0),s(i,null,c(p,(e=>(o(),d(m,{class:"swiper",key:e.label},{default:t((()=>[r("div",M,u(e.label),1),r("img",{src:e.imgs,alt:""},null,8,Q)])),_:2},1024)))),128))])),_:1})])}}}),[["__scopeId","data-v-f11207b0"]]);const H=e=>(h("data-v-e6e4c39a"),e=e(),y(),e),O={class:"scanCode"},W={class:"title"},$=H((()=>r("div",{class:"big"},"APP扫码快捷登录",-1))),G={class:"subtitle"},N={class:"img"},X=H((()=>r("img",{src:"/fitsadmin/assets/democode.833c45d8.png",alt:""},null,-1))),J={class:"mark","element-loading-text":"正在加载中...","element-loading-background":"rgba(0, 0, 0, 0.6)"};var Y=T(e({__name:"ScanCode",setup(e){const{project:{title:a}}=R,l=p(!1);return m((()=>{setTimeout((()=>{l.value=!0}),3e3)})),(e,n)=>{const t=g("loading");return o(),s("div",O,[r("div",W,[$,r("div",G,"使用"+u(f(a))+"APP扫描二维码安全登陆",1)]),r("div",N,[X,v(r("div",J,null,512),[[t,l.value]])])])}}}),[["__scopeId","data-v-e6e4c39a"]]);const Z=e=>(h("data-v-35ad1952"),e=e(),y(),e),ee={class:"form-box LoginMainComponent"},ae=Z((()=>r("div",{class:"form-title"},"账号登录",-1))),le=["src"],oe={class:"item-other"},se={class:"left_remember"},ne={key:0,class:"right_box"},te=Z((()=>r("div",{class:"form-title"},"验证码登录",-1))),ie={key:0,class:"item-other"},ce={class:"right_box"};var de=T(e({__name:"MainLogin",setup(e){const i=K(),{user:c}=j(),g=p(I),v=p(U),{time:h,start:y}=(()=>{const e=p(0),{pause:a,resume:l}=P((()=>{e.value--,e.value<=0&&a()}),1e3,{immediate:!1});return{start:a=>{e.value=a,l()},time:e}})(),{system:{coutDownTime:S},login:T}=R,B=b((()=>c.isRememberme)),M=a({redirect:"",curentLoginType:T.accountLogin?"accout":"verifycode",loginForm:{username:c.loginInfo.username,password:c.loginInfo.password,code:"",phone:""},isScanCodeLogin:!0,loginRules:{username:[{required:!0,trigger:"blur",message:"账号不能为空"}],password:[{required:!0,trigger:"blur",validator:function(e,a,l){a.length<6?l(new Error("密码不能少于6位")):l()}}]},loginVerifyRules:{phone:[{trigger:"blur",validator:function(e,a,l){0===a.length?l("手机号不能为空"):a.length<11?l("手机号不能低于11位"):q(a)?l():l("手机号格式不正确")}}],code:[{required:!0,trigger:"blur",message:"验证码不能为空"}]},loading:!1,isCoutDown:!1,passwordType:"password",captchaBase64:"",capslockTooltipDisabled:!0,otherQuery:{},clientHeight:document.documentElement.clientHeight,showCopyright:!0}),{loading:Q,loginForm:z,curentLoginType:H,loginRules:O,passwordType:W,loginVerifyRules:$,captchaBase64:G}=w(M);function N(){v.value.validate((async e=>{e?(M.loading=!0,await c.login(M.loginForm),D.push({path:M.redirect||"/",query:M.otherQuery}),M.loading=!1):(M.loading=!1,J())}))}function X(e){c.toogleIsRememberMe(e)}function J(){F().then((({ReturnData:e})=>{const{Img:a}=e;M.captchaBase64=a}))}function Y(e){M.loginForm={username:"",password:"",code:"",phone:""},M.curentLoginType=e}function Z(){"password"===M.passwordType?M.passwordType="":M.passwordType="password",V((()=>{g.value.focus()}))}return m((()=>{J()})),_(i,(()=>{const e=i.query;e&&(M.redirect=e.redirect,M.otherQuery=function(e){return Object.keys(e).reduce(((a,l)=>("redirect"!==l&&(a[l]=e[l]),a)),{})}(e))}),{immediate:!0}),(e,a)=>{const i=l("el-form-item"),c=l("el-checkbox"),p=l("el-button");return o(),s("div",ee,["accout"===f(H)&&f(T).accountLogin?(o(),d(f(U),{key:0,ref_key:"loginFormRef",ref:v,"label-width":"0",model:f(z),class:"elform",rules:f(O)},{default:t((()=>[ae,n(i,{prop:"username"},{default:t((()=>[n(f(I),{modelValue:f(z).username,"onUpdate:modelValue":a[0]||(a[0]=e=>f(z).username=e),tabindex:"1","auto-complete":"on",placeholder:"请输入账号",class:"logininput",clearable:"",onKeyup:L(N,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),n(i,{prop:"password"},{default:t((()=>[n(f(I),{type:f(W),ref_key:"passwordRef",ref:g,tabindex:"2","auto-complete":"on",modelValue:f(z).password,"onUpdate:modelValue":a[1]||(a[1]=e=>f(z).password=e),placeholder:"请输入密码",class:"logininput pwd",onKeyup:L(N,["enter"])},null,8,["type","modelValue","onKeyup"]),r("span",{class:"show-pwd",onClick:Z},[n(f(A),{"icon-class":"password"===f(W)?"eyeclose":"eyeopen"},null,8,["icon-class"])])])),_:1}),n(i,{prop:"code"},{default:t((()=>[n(f(I),{modelValue:f(z).code,"onUpdate:modelValue":a[2]||(a[2]=e=>f(z).code=e),tabindex:"3","auto-complete":"on",placeholder:"请输入验证码",onKeyup:L(N,["enter"]),clearable:""},{append:t((()=>[r("img",{src:f(G),onClick:J,class:"captcha"},null,8,le)])),_:1},8,["modelValue","onKeyup"])])),_:1}),n(i,{class:"lastline"},{default:t((()=>[r("div",oe,[r("div",se,[n(c,{modelValue:f(B),"onUpdate:modelValue":a[3]||(a[3]=e=>k(B)?B.value=e:null),label:"记住密码",size:"small",onChange:X},null,8,["modelValue"])]),f(T).smsLogin?(o(),s("div",ne,[n(p,{type:"primary",text:!0,class:"code-login",onClick:a[4]||(a[4]=e=>Y("verifycode"))},{default:t((()=>[x(" 验证码登录 ")])),_:1})])):C("v-if",!0)])])),_:1}),n(i,null,{default:t((()=>[n(p,{type:"primary",loading:f(Q),class:"loginBtn",onClick:N},{default:t((()=>[x("登录")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])):C("v-if",!0),"verifycode"===f(H)&&f(T).smsLogin?(o(),d(f(U),{key:1,"label-width":"0",ref_key:"loginFormRef",ref:v,model:f(z),rules:f($),class:"elform"},{default:t((()=>[te,n(i,{prop:"phone"},{default:t((()=>[n(f(I),{modelValue:f(z).phone,"onUpdate:modelValue":a[5]||(a[5]=e=>f(z).phone=e),type:"text",maxlength:"11",minlength:"11",tabindex:"1","auto-complete":"on",placeholder:"请输入11位手机",class:"logininput",onKeyup:L(N,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),n(i,{prop:"code"},{default:t((()=>[n(f(I),{modelValue:f(z).code,"onUpdate:modelValue":a[6]||(a[6]=e=>f(z).code=e),maxLength:"6",tabindex:"2","auto-complete":"on",class:"codeinput",placeholder:"请输入验证码",onKeyup:L(N,["enter"])},null,8,["modelValue","onKeyup"]),n(p,{type:"primary",text:!0,class:"verification",disabled:0!==f(h),onClick:a[7]||(a[7]=e=>{v.value.validateField("phone",(e=>{if(!e)return!1;E.success("验证码已经发送！"),y(S)}))})},{default:t((()=>[x(u(0===f(h)?"发送验证码":`${f(h)}秒后重新发送`),1)])),_:1},8,["disabled"])])),_:1}),n(i,{class:"lastline"},{default:t((()=>[f(T).accountLogin?(o(),s("div",ie,[r("div",ce,[n(p,{type:"primary",text:!0,class:"code-login",onClick:a[8]||(a[8]=e=>Y("accout"))},{default:t((()=>[x("账号登录 ")])),_:1})])])):C("v-if",!0)])),_:1}),n(i,null,{default:t((()=>[n(p,{type:"primary",loading:f(Q),class:"loginBtn",onClick:N},{default:t((()=>[x("登录")])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])):C("v-if",!0)])}}}),[["__scopeId","data-v-35ad1952"]]);const re=e=>(h("data-v-37dfd6fc"),e=e(),y(),e),ue={class:"login-container"},pe=re((()=>r("img",{src:"/fitsadmin/assets/fitslogo.b4df1271.png",alt:"",class:"fitslogo"},null,-1))),me={class:"right-pannel"},ge={class:"login-form"},fe={class:"rightLogo"},ve={key:1,class:"scancodelogin rightLogo"},he={key:2,class:"mainLogin"},ye={class:"title-box"},be={class:"title"},we={class:"subtitle"},_e={key:0,class:"app-download"},Le=re((()=>r("div",{class:"appimg"},[r("img",{src:"/fitsadmin/assets/IOSCode.7f0f5047.png",alt:""}),r("span",{class:"text"},"扫描下载iOS客户端")],-1))),ke=re((()=>r("span",{class:"hr"},null,-1))),xe=re((()=>r("div",{class:"appimg"},[r("img",{src:"/fitsadmin/assets/AndroidCode.013fb7a6.png",alt:""}),r("span",{class:"text"},"扫描下载Android客户端")],-1))),Ce=re((()=>r("div",{class:"login-tips"},"最佳浏览环境：Chrome64及以上，1920*1080显示分辨率",-1)));var Ve=T(e({__name:"index",setup(e){const{project:{title:i,subTitle:c},login:p}=R,g=a({redirect:"",curentLoginText:p.accountLogin?"账号登录":"验证码登录",isScanCodeLogin:!0,isShowLeftPannel:document.documentElement.clientWidth>1100,isCoutDown:!1,otherQuery:{}}),{curentLoginText:v,isScanCodeLogin:h,isShowLeftPannel:y}=w(g);function b(){g.isScanCodeLogin=!g.isScanCodeLogin}return m((()=>{window.onresize=()=>{document.documentElement.clientWidth>1100?g.isShowLeftPannel=!0:g.isShowLeftPannel=!1}})),S((()=>{window.onresize=null})),(e,a)=>{const m=l("el-tooltip"),g=l("el-button"),w=l("el-popover");return o(),s("div",ue,[pe,f(y)?(o(),d(z,{key:0})):C("v-if",!0),r("div",me,[r("div",ge,[!f(h)&&f(p).appScanCode?(o(),d(m,{key:0,class:"box-item",effect:"accout-login",visible:!0,content:f(v),placement:"left"},{default:t((()=>[r("div",fe,[n(f(A),{"icon-class":"accoutlogo",onClick:a[0]||(a[0]=e=>b())})])])),_:1},8,["content"])):C("v-if",!0),f(h)&&f(p).appScanCode?(o(),s("div",ve,[n(f(A),{"icon-class":"ewnlogin",onClick:a[1]||(a[1]=e=>b())})])):C("v-if",!0),f(h)?(o(),s("div",he,[r("div",ye,[r("div",be,u(f(i)),1),r("div",we,u(f(c)),1)]),n(de),f(p).appDownload?(o(),s("div",_e,[n(w,{placement:"top","hide-after":0,"popper-class":"loginAppdownload",width:180,trigger:"click"},{reference:t((()=>[n(g,{class:"btn",text:"",bg:""},{default:t((()=>[n(f(A),{"icon-class":"ios"}),x("iPhone ")])),_:1})])),default:t((()=>[Le])),_:1}),ke,n(w,{placement:"top","hide-after":0,"popper-class":"loginAppdownload",width:180,trigger:"click"},{reference:t((()=>[n(g,{class:"btn",text:"",bg:""},{default:t((()=>[n(f(A),{"icon-class":"android"}),x("Android ")])),_:1})])),default:t((()=>[xe])),_:1})])):C("v-if",!0)])):(o(),d(Y,{key:3}))]),Ce])])}}}),[["__scopeId","data-v-37dfd6fc"]]);export{Ve as default};
