import{E as e,a as t,e as o,d as s,l as n,S as a,R as l,_ as i,p as r,L as u,u as c,U as p,T as f,X as d,W as m,F as v,m as y,P as g,$ as h,a0 as b,O as x,a1 as C,x as k,i as S,at as _}from"./vxetable-dc6e1f3b.js";import{b as E,a1 as T,a2 as I,a3 as L,a4 as H,a5 as M,E as w,_ as B,a6 as N,a7 as $,a8 as j,a9 as z,aa as F,ab as O}from"./index-ca93fc99.js";const U=["success","info","warning","error"],W=E({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:T},id:{type:String,default:""},message:{type:I([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:I(Function),default:()=>{}},onClose:{type:I(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...U,""],default:""},zIndex:Number}),q=["id"],A=["textContent"],Z={key:0},D=["innerHTML"],P=e({name:"ElNotification"});var R=B(e({...P,props:W,emits:{destroy:()=>!0},setup(e,{expose:k}){const S=e,{ns:_,zIndex:E}=L("notification"),{nextZIndex:T,currentZIndex:I}=E,{Close:B}=N,z=t(!1);let F;const O=o((()=>{const e=S.type;return e&&H[S.type]?_.m(e):""})),U=o((()=>S.type&&H[S.type]||S.icon)),W=o((()=>S.position.endsWith("right")?"right":"left")),P=o((()=>S.position.startsWith("top")?"top":"bottom")),R=o((()=>{var e;return{[P.value]:`${S.offset}px`,zIndex:null!=(e=S.zIndex)?e:I.value}}));function X(){S.duration>0&&({stop:F}=$((()=>{z.value&&J()}),S.duration))}function G(){null==F||F()}function J(){z.value=!1}return s((()=>{X(),T(),z.value=!0})),M(document,"keydown",(function({code:e}){e===j.delete||e===j.backspace?G():e===j.esc?z.value&&J():X()})),k({visible:z,close:J}),(e,t)=>(n(),a(C,{name:c(_).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:l((()=>[i(r("div",{id:e.id,class:u([c(_).b(),e.customClass,c(W)]),style:p(c(R)),role:"alert",onMouseenter:G,onMouseleave:X,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[c(U)?(n(),a(c(w),{key:0,class:u([c(_).e("icon"),c(O)])},{default:l((()=>[(n(),a(f(c(U))))])),_:1},8,["class"])):d("v-if",!0),r("div",{class:u(c(_).e("group"))},[r("h2",{class:u(c(_).e("title")),textContent:m(e.title)},null,10,A),i(r("div",{class:u(c(_).e("content")),style:p(e.title?void 0:{margin:0})},[v(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(n(),y(g,{key:1},[d(" Caution here, message could've been compromised, never use user's input as message "),r("p",{innerHTML:e.message},null,8,D)],2112)):(n(),y("p",Z,m(e.message),1))]))],6),[[h,e.message]]),e.showClose?(n(),a(c(w),{key:0,class:u(c(_).e("closeBtn")),onClick:b(J,["stop"])},{default:l((()=>[x(c(B))])),_:1},8,["class","onClick"])):d("v-if",!0)],2)],46,q),[[h,z.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const X={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let G=1;const J=function(e={},t=null){if(!z)return{close:()=>{}};("string"==typeof e||k(e))&&(e={message:e});const o=e.position||"top-right";let s=e.offset||0;X[o].forEach((({vm:e})=>{var t;s+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),s+=16;const n="notification_"+G++,a=e.onClose,l={...e,offset:s,id:n,onClose:()=>{!function(e,t,o){const s=X[t],n=s.findIndex((({vm:t})=>{var o;return(null==(o=t.component)?void 0:o.props.id)===e}));if(-1===n)return;const{vm:a}=s[n];if(!a)return;null==o||o(a);const l=a.el.offsetHeight,i=t.split("-")[0];s.splice(n,1);const r=s.length;if(r<1)return;for(let u=n;u<r;u++){const{el:e,component:t}=s[u].vm,o=Number.parseInt(e.style[i],10)-l-16;t.props.offset=o}}(n,o,a)}};let i=document.body;F(e.appendTo)?i=e.appendTo:S(e.appendTo)&&(i=document.querySelector(e.appendTo)),F(i)||(i=document.body);const r=document.createElement("div"),u=x(R,l,k(l.message)?{default:()=>l.message}:null);return u.appContext=null!=t?t:J._context,u.props.onDestroy=()=>{_(null,r)},_(u,r),X[o].push({vm:u}),i.appendChild(r.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};U.forEach((e=>{J[e]=(t={})=>(("string"==typeof t||k(t))&&(t={message:t}),J({...t,type:e}))})),J.closeAll=function(){for(const e of Object.values(X))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},J._context=null;const K=O(J,"$notify");export{K as E};
