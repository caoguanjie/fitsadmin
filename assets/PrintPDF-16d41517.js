import{X as e,Z as t,z as i,l as n}from"./index-2b8f59d9.js";import{a,E as l}from"./el-table-column-9ec53bc1.js";import{v as r,a as o,B as s,f as p,h as d,i as u,F as c,u as f,I as m,M as b,N as w,G as v,an as y,ao as h}from"./vxetable-90850a7d.js";import"./echarts-c32f5a2f.js";const _=e=>(y("data-v-edbb0faa"),e=e(),h(),e),P=_((()=>u("span",null,"是否静默打印：",-1))),k=_((()=>u("br",null,null,-1))),g=["src"],x=n(r({__name:"PrintPDF",setup(n){const r=o(!1),y=s({title:"",width:"70%"}),h=s({type:"web",silent:!1,batchPrint:!1}),_=o(`/#/print-test?silent=${h.silent}&type=web&batchPrint=${h.batchPrint}`),x=o([]);function C(){r.value=!0}function j(){window.ipcRenderer.invoke("openPrintWindow",`print-test?silent=${h.silent}`,h.silent)}function R(){window.ipcRenderer.invoke("getPrinters").then((e=>{x.value=e}))}function $(){window.ipcRenderer.invoke("openPrintWindow",`print-test?silent=${h.silent}`,h.silent)}function F(){window.ipcRenderer.invoke("openPrintWindow","print-test?preview=true",h.silent)}return(n,o)=>{const s=t,N=i,V=a,W=l;return p(),d(v,null,[u("div",null,[P,c(s,{modelValue:f(h).silent,"onUpdate:modelValue":o[0]||(o[0]=e=>f(h).silent=e),size:"large",style:{margin:"0 20px"}},null,8,["modelValue"]),c(N,{onClick:F,type:"primary"},{default:m((()=>[b("预览")])),_:1}),c(N,{onClick:j,type:"primary"},{default:m((()=>[b("桌面端打印")])),_:1}),c(N,{onClick:C,type:"primary"},{default:m((()=>[b("浏览器打印")])),_:1}),c(N,{onClick:$,type:"primary"},{default:m((()=>[b("批量打印")])),_:1}),k,c(N,{onClick:R,type:"primary"},{default:m((()=>[b("获取打印列表")])),_:1}),c(W,{data:f(x),style:{width:"100%","margin-top":"20px"},border:""},{default:m((()=>[c(V,{prop:"displayName",label:"打印机名称",width:"180"}),c(V,{prop:"isDefault",label:"是否默认打印机",width:"180"}),c(V,{prop:"description",label:"任务描述"}),c(V,{prop:"options",label:"更多打印机参数"},{default:m((e=>[b(w(JSON.stringify(e.row.options)),1)])),_:1})])),_:1},8,["data"])]),c(f(e),{visible:f(r),dialogProp:f(y),showFooter:!1,onCancel:o[1]||(o[1]=e=>r.value=!1),onSubmit:o[2]||(o[2]=e=>r.value=!1)},{default:m((()=>[u("iframe",{ref:"iframe",src:f(_),style:{width:"100%",height:"80vh",transform:"scale(1)",border:"none"}},null,8,g)])),_:1},8,["visible","dialogProp"])],64)}}}),[["__scopeId","data-v-edbb0faa"]]);export{x as default};
