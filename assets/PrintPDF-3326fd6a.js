import{X as e,Z as t,z as i,l as n}from"./index-853584e7.js";import{a,E as l}from"./el-table-column-65cf202a.js";import{v as r,a as o,B as s,f as p,h as d,F as u,u as c,I as f,M as m,N as w,i as y,an as b,ao as v}from"./vxetable-90850a7d.js";import"./echarts-c32f5a2f.js";const h=e=>(b("data-v-500c023d"),e=e(),v(),e),_=h((()=>y("span",null,"是否静默打印：",-1))),P=h((()=>y("br",null,null,-1))),k=["src"],g=n(r({__name:"PrintPDF",setup(n){const r=o(!1),b=s({title:"",width:"70%"}),v=s({type:"web",silent:!1,batchPrint:!1}),h=o(`/#/print-test?silent=${v.silent}&type=web&batchPrint=${v.batchPrint}`),g=o([]);function C(){r.value=!0}function x(){window.ipcRenderer.invoke("openPrintWindow",`print-test?silent=${v.silent}`,v.silent)}function j(){window.ipcRenderer.invoke("getPrinters").then((e=>{g.value=e}))}function R(){window.ipcRenderer.invoke("openPrintWindow",`print-test?silent=${v.silent}`,v.silent)}function $(){window.ipcRenderer.invoke("openPrintWindow","print-test?preview=true",v.silent)}return(n,o)=>{const s=t,F=i,N=a,V=l;return p(),d("div",null,[_,u(s,{modelValue:c(v).silent,"onUpdate:modelValue":o[0]||(o[0]=e=>c(v).silent=e),size:"large",style:{margin:"0 20px"}},null,8,["modelValue"]),u(F,{onClick:$,type:"primary"},{default:f((()=>[m("预览")])),_:1}),u(F,{onClick:x,type:"primary"},{default:f((()=>[m("桌面端打印")])),_:1}),u(F,{onClick:C,type:"primary"},{default:f((()=>[m("浏览器打印")])),_:1}),u(F,{onClick:R,type:"primary"},{default:f((()=>[m("批量打印")])),_:1}),P,u(F,{onClick:j,type:"primary"},{default:f((()=>[m("获取打印列表")])),_:1}),u(V,{data:c(g),style:{width:"100%","margin-top":"20px"},border:""},{default:f((()=>[u(N,{prop:"displayName",label:"打印机名称",width:"180"}),u(N,{prop:"isDefault",label:"是否默认打印机",width:"180"}),u(N,{prop:"description",label:"任务描述"}),u(N,{prop:"options",label:"更多打印机参数"},{default:f((e=>[m(w(JSON.stringify(e.row.options)),1)])),_:1})])),_:1},8,["data"]),u(c(e),{visible:c(r),dialogProp:c(b),showFooter:!1,onCancel:o[1]||(o[1]=e=>r.value=!1),onSubmit:o[2]||(o[2]=e=>r.value=!1)},{default:f((()=>[y("iframe",{ref:"iframe",src:c(h),style:{width:"100%",height:"80vh",transform:"scale(1)",border:"none"}},null,8,k)])),_:1},8,["visible","dialogProp"])])}}}),[["__scopeId","data-v-500c023d"]]);export{g as default};
