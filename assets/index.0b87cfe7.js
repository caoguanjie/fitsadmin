import{y as t,S as e,o as n,X as r,f as o,h as i,K as a,j as u,N as c,H as l,L as s,F as f,_ as p,A as d,M as h,a1 as y,aj as v,u as g,c as b,q as m,G as O,B as _,an as w,ao as x}from"./vxetable.23d9f74f.js";import{h as E,d as j}from"./preact.module.c891d147.js";import{f as S,_ as P}from"./index.53c6c89d.js";import{r as k}from"./vue.runtime.esm-bundler.eb95666c.js";var M,A,N,D={exports:{}};M=D,A=D.exports,window,N=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=215)}([function(t,e,n){(function(t,r){n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return cn})),n.d(e,"c",(function(){return Wt})),n.d(e,"d",(function(){return jt})),n.d(e,"e",(function(){return vt})),n.d(e,"f",(function(){return yt})),n.d(e,"g",(function(){return Et})),n.d(e,"h",(function(){return _n})),n.d(e,"i",(function(){return ct})),n.d(e,"j",(function(){return xt})),n.d(e,"k",(function(){return ne})),n.d(e,"l",(function(){return ae})),n.d(e,"m",(function(){return ot})),n.d(e,"n",(function(){return pe})),n.d(e,"o",(function(){return E})),n.d(e,"p",(function(){return Ae})),n.d(e,"q",(function(){return de})),n.d(e,"r",(function(){return _e})),n.d(e,"s",(function(){return On})),n.d(e,"t",(function(){return ge})),n.d(e,"u",(function(){return oe})),n.d(e,"v",(function(){return Ee})),n.d(e,"w",(function(){return je})),n.d(e,"x",(function(){return Pe})),n.d(e,"y",(function(){return on})),n.d(e,"z",(function(){return ln})),n.d(e,"A",(function(){return mn})),n.d(e,"B",(function(){return ke})),n.d(e,"C",(function(){return q})),n.d(e,"D",(function(){return De})),n.d(e,"E",(function(){return se})),n.d(e,"F",(function(){return le})),n.d(e,"G",(function(){return re})),n.d(e,"H",(function(){return Jt})),n.d(e,"I",(function(){return Ie})),n.d(e,"J",(function(){return ze})),n.d(e,"K",(function(){return pt})),n.d(e,"L",(function(){return Me})),n.d(e,"M",(function(){return Be}));var o=[];Object.freeze(o);var i={};function a(){return++zt.mobxGuid}function u(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}function l(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}Object.freeze(i);var s=function(){};function f(t){return null!==t&&"object"==typeof t}function p(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function d(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return f(t)&&!0===t[n]}}function y(t){return t instanceof Map}function v(t){return t instanceof Set}function g(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function b(t){return t&&t.toString?t.toString():new String(t).toString()}function m(t){return null===t?null:"object"==typeof t?""+t:t}var O="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,_=Symbol("mobx administration"),w=function(){function t(t){void 0===t&&(t="Atom@"+a()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Gt(this)},t.prototype.reportChanged=function(){var t;Vt(),(t=this).lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.isTracing!==tt.NONE&&Yt(e,t),e.onBecomeStale()),e.dependenciesState=J.STALE}))),Xt()},t.prototype.toString=function(){return this.name},t}(),x=h("Atom",w);function E(t,e,n){void 0===e&&(e=s),void 0===n&&(n=s);var r,o=new w(t);return e!==s&&fe("onBecomeObserved",o,e,r),n!==s&&se(o,n),o}var j={identity:function(t,e){return t===e},structural:function(t,e){return xn(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return xn(t,e,1)}},S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},P=function(){return P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},P.apply(this,arguments)};
/*! *****************************************************************************
          Copyright (c) Microsoft Corporation. All rights reserved.
          Licensed under the Apache License, Version 2.0 (the "License"); you may not use
          this file except in compliance with the License. You may obtain a copy of the
          License at http://www.apache.org/licenses/LICENSE-2.0
          
          THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
          KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
          WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
          MERCHANTABLITY OR NON-INFRINGEMENT.
          
          See the Apache Version 2.0 License for specific language governing permissions
          and limitations under the License.
          ***************************************************************************** */function k(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function M(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function A(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M(arguments[e]));return t}var N=Symbol("mobx did run lazy initializers"),D=Symbol("mobx pending decorators"),T={},C={};function R(t,e){var n=e?T:C;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return I(this),this[t]},set:function(e){I(this),this[t]=e}})}function I(t){var e,n;if(!0!==t[N]){var r=t[D];if(r){d(t,N,!0);var o=A(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=k(o),a=i.next();!a.done;a=i.next()){var u=r[a.value];u.propertyCreator(t,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}}function L(t,e){return function(){var n,r=function(r,o,i,a){if(!0===a)return e(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,D)){var u=r[D];d(r,D,P({},u))}return r[D][o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:r,decoratorArguments:n},R(o,t)};return z(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function z(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function B(t,e,n){return Pe(t)?t:Array.isArray(t)?q.array(t,{name:n}):p(t)?q.object(t,void 0,{name:n}):y(t)?q.map(t,{name:n}):v(t)?q.set(t,{name:n}):t}function H(t){return t}function F(e){c(e);var n=L(!0,(function(t,n,r,o,i){var a=r?r.initializer?r.initializer.call(t):r.value:void 0;hn(t).addObservableProp(n,a,e)})),r=(void 0!==t&&t.env,n);return r.enhancer=e,r}var V={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function X(t){return null==t?V:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(V);var G=F(B),Y=F((function(t,e,n){return null==t||mn(t)||on(t)||ln(t)||pn(t)?t:Array.isArray(t)?q.array(t,{name:n,deep:!1}):p(t)?q.object(t,void 0,{name:n,deep:!1}):y(t)?q.map(t,{name:n,deep:!1}):v(t)?q.set(t,{name:n,deep:!1}):u(!1)})),U=F(H),W=F((function(t,e,n){return xn(t,e)?e:t}));function K(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?H:B}var $={box:function(t,e){arguments.length>2&&Z("box");var n=X(e);return new kt(t,K(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&Z("array");var n=X(e);return Qe(t,K(n),n.name)},map:function(t,e){arguments.length>2&&Z("map");var n=X(e);return new cn(t,K(n),n.name)},set:function(t,e){arguments.length>2&&Z("set");var n=X(e);return new fn(t,K(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&Z("object");var r=X(n);if(!1===r.proxy)return de({},t,e,r);var o=ye(r),i=de({},void 0,void 0,r),a=Ye(i);return ve(a,t,e,o),a},ref:U,shallow:Y,deep:G,struct:W},q=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return G.apply(null,arguments);if(Pe(t))return t;var r=p(t)?q.object(t,e,n):Array.isArray(t)?q.array(t,e):y(t)?q.map(t,e):v(t)?q.set(t,e):t;if(r!==t)return r;u(!1)};function Z(t){u("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys($).forEach((function(t){return q[t]=$[t]}));var J,Q,tt,et,nt=L(!1,(function(t,e,n,r,o){var i=n.get,a=n.set,u=o[0]||{};hn(t).addComputedProp(t,e,P({get:i,set:a,context:t},u))})),rt=nt({equals:j.structural}),ot=function(t,e,n){if("string"==typeof e)return nt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return nt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new At(r)};ot.struct=rt,(Q=J||(J={}))[Q.NOT_TRACKING=-1]="NOT_TRACKING",Q[Q.UP_TO_DATE=0]="UP_TO_DATE",Q[Q.POSSIBLY_STALE=1]="POSSIBLY_STALE",Q[Q.STALE=2]="STALE",(et=tt||(tt={}))[et.NONE=0]="NONE",et[et.LOG=1]="LOG",et[et.BREAK=2]="BREAK";var it=function(t){this.cause=t};function at(t){return t instanceof it}function ut(t){switch(t.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var e=yt(!0),n=dt(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Nt(a)){if(zt.disableErrorBoundaries)a.get();else try{a.get()}catch(he){return ht(n),vt(e),!0}if(t.dependenciesState===J.STALE)return ht(n),vt(e),!0}}return gt(t),ht(n),vt(e),!1}}function ct(){return null!==zt.trackingDerivation}function lt(t){var e=t.observers.size>0;zt.computationDepth>0&&e&&u(!1),zt.allowStateChanges||!e&&"strict"!==zt.enforceActions||u(!1)}function st(t,e,n){var r=yt(!0);gt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++zt.runId;var o,i=zt.trackingDerivation;if(zt.trackingDerivation=t,!0===zt.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(he){o=new it(he)}return zt.trackingDerivation=i,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=J.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++)0===(u=n[a]).diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState);for(n.length=o,t.newObserving=null,i=e.length;i--;)0===(u=e[i]).diffValue&&Ht(u,t),u.diffValue=0;for(;o--;){var u;1===(u=n[o]).diffValue&&(u.diffValue=0,Bt(u,t))}r!==J.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),vt(r),o}function ft(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Ht(e[n],t);t.dependenciesState=J.NOT_TRACKING}function pt(t){var e=dt();try{return t()}finally{ht(e)}}function dt(){var t=zt.trackingDerivation;return zt.trackingDerivation=null,t}function ht(t){zt.trackingDerivation=t}function yt(t){var e=zt.allowStateReads;return zt.allowStateReads=t,e}function vt(t){zt.allowStateReads=t}function gt(t){if(t.dependenciesState!==J.UP_TO_DATE){t.dependenciesState=J.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=J.UP_TO_DATE}}var bt=0,mt=1,Ot=Object.getOwnPropertyDescriptor((function(){}),"name");function _t(t,e,n){var r=function(){return wt(0,e,n||this,arguments)};return r.isMobxAction=!0,r}function wt(t,e,n,r){var o=xt();try{return e.apply(n,r)}catch(i){throw o.error=i,i}finally{Et(o)}}function xt(t,e,n){var r=dt();Vt();var o={prevDerivation:r,prevAllowStateChanges:St(!0),prevAllowStateReads:yt(!0),notifySpy:!1,startTime:0,actionId:mt++,parentActionId:bt};return bt=o.actionId,o}function Et(t){bt!==t.actionId&&u("invalid action stack. did you forget to finish an action?"),bt=t.parentActionId,void 0!==t.error&&(zt.suppressReactionErrors=!0),Pt(t.prevAllowStateChanges),vt(t.prevAllowStateReads),Xt(),ht(t.prevDerivation),t.notifySpy,zt.suppressReactionErrors=!1}function jt(t,e){var n,r=St(t);try{n=e()}finally{Pt(r)}return n}function St(t){var e=zt.allowStateChanges;return zt.allowStateChanges=t,e}function Pt(t){zt.allowStateChanges=t}Ot&&Ot.configurable;var kt=function(t){function e(e,n,r,o,i){void 0===r&&(r="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=j.default);var u=t.call(this,r)||this;return u.enhancer=n,u.name=r,u.equals=i,u.hasUnreportedChange=!1,u.value=n(e,void 0,r),u}return function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value,(t=this.prepareNewValue(t))!==zt.UNCHANGED&&this.setNewValue(t)},e.prototype.prepareNewValue=function(t){if(lt(this),Ue(this)){var e=Ke(this,{object:this,type:"update",newValue:t});if(!e)return zt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?zt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),$e(this)&&Ze(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return We(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),qe(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(w),Mt=h("ObservableValue",kt),At=function(){function t(t){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=tt.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+a(),t.set&&(this.setter=_t(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?j.structural:j.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){var t;(t=this).lowestObserverState===J.UP_TO_DATE&&(t.lowestObserverState=J.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.dependenciesState=J.POSSIBLY_STALE,e.isTracing!==tt.NONE&&Yt(e,t),e.onBecomeStale())})))},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){var t;this.isComputing&&u("Cycle detected in computation "+this.name+": "+this.derivation),0!==zt.inBatch||0!==this.observers.size||this.keepAlive?(Gt(this),ut(this)&&this.trackAndCompute()&&(t=this).lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.POSSIBLY_STALE?e.dependenciesState=J.STALE:e.dependenciesState===J.UP_TO_DATE&&(t.lowestObserverState=J.UP_TO_DATE)})))):ut(this)&&(this.warnAboutUntrackedRead(),Vt(),this.value=this.computeValue(!1),Xt());var e=this.value;if(at(e))throw e.cause;return e},t.prototype.peek=function(){var t=this.computeValue(!1);if(at(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0),r=e||at(t)||at(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,zt.computationDepth++,t)e=st(this,this.derivation,this.scope);else if(!0===zt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(he){e=new it(he)}return zt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ft(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return ae((function(){var i=n.get();if(!r||e){var a=dt();t({type:"update",object:n,newValue:i,oldValue:o}),ht(a)}r=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),Nt=h("ComputedValue",At),Dt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tt={};function Ct(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Tt}var Rt,It=!0,Lt=!1,zt=((Rt=Ct()).__mobxInstanceCount>0&&!Rt.__mobxGlobals&&(It=!1),Rt.__mobxGlobals&&Rt.__mobxGlobals.version!==(new Dt).version&&(It=!1),It?Rt.__mobxGlobals?(Rt.__mobxInstanceCount+=1,Rt.__mobxGlobals.UNCHANGED||(Rt.__mobxGlobals.UNCHANGED={}),Rt.__mobxGlobals):(Rt.__mobxInstanceCount=1,Rt.__mobxGlobals=new Dt):(setTimeout((function(){Lt||u("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Dt));function Bt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ht(t,e){t.observers.delete(e),0===t.observers.size&&Ft(t)}function Ft(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,zt.pendingUnobservations.push(t))}function Vt(){zt.inBatch++}function Xt(){if(0==--zt.inBatch){$t();for(var t=zt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof At&&n.suspend())}zt.pendingUnobservations=[]}}function Gt(t){var e=zt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&zt.inBatch>0&&Ft(t),!1)}function Yt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===tt.BREAK){var n=[];Ut(ge(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof At?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Ut(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return Ut(t,e,n+1)})))}var Wt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+a()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=tt.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,zt.pendingReactions.push(this),$t())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Vt(),this._isScheduled=!1,ut(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(he){this.reportExceptionInDerivation(he)}}Xt()}},t.prototype.track=function(t){if(!this.isDisposed){Vt(),this._isRunning=!0;var e=st(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ft(this),at(e)&&this.reportExceptionInDerivation(e.cause),Xt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(zt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";zt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),zt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Vt(),ft(this),Xt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[_]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Le(t);if(!r)return u(!1);r.isTracing===tt.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?tt.BREAK:tt.LOG}(this,t)},t}(),Kt=function(t){return t()};function $t(){zt.inBatch>0||zt.isRunningReactions||Kt(qt)}function qt(){zt.isRunningReactions=!0;for(var t=zt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}zt.isRunningReactions=!1}var Zt=h("Reaction",Wt);function Jt(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Qt(){u(!1)}function te(t){return function(e,n,r){if(r){if(r.value)return{value:_t(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return _t(t,o.call(this))}}}return ee(t).apply(this,arguments)}}function ee(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){d(this,n,ne(t,e))}})}}var ne=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?_t(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?_t(t,e):1===arguments.length&&"string"==typeof t?te(t):!0!==r?te(e).apply(null,arguments):void d(t,e,_t(t.name||e,n.value,this))};function re(t,e){return"string"==typeof t||t.name,wt(0,"function"==typeof t?t:e,this,void 0)}function oe(t){return"function"==typeof t&&!0===t.isMobxAction}function ie(t,e,n){d(t,e,_t(e,n.bind(t)))}function ae(t,e){void 0===e&&(e=i);var n,r=e&&e.name||t.name||"Autorun@"+a();if(e.scheduler||e.delay){var o=ce(e),u=!1;n=new Wt(r,(function(){u||(u=!0,o((function(){u=!1,n.isDisposed||n.track(c)})))}),e.onError,e.requiresObservable)}else n=new Wt(r,(function(){this.track(c)}),e.onError,e.requiresObservable);function c(){t(n)}return n.schedule(),n.getDisposer()}ne.bound=function(t,e,n,r){return!0===r?(ie(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ie(this,e,n.value||n.initializer.call(this)),this[e]},set:Qt}:{enumerable:!1,configurable:!0,set:function(t){ie(this,e,t)},get:function(){}}};var ue=function(t){return t()};function ce(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ue}function le(t,e,n){void 0===n&&(n=i);var r,o,u,c=n.name||"Reaction@"+a(),l=ne(c,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(he){r.call(this,he)}}):e),s=!n.scheduler&&!n.delay,f=ce(n),p=!0,d=!1,h=n.compareStructural?j.structural:n.equals||j.default,y=new Wt(c,(function(){p||s?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var e=!1;y.track((function(){var n=t(y);e=p||!h(u,n),u=n})),p&&n.fireImmediately&&l(u,y),p||!0!==e||l(u,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function se(t,e,n){return fe("onBecomeUnobserved",t,e,n)}function fe(t,e,n,r){var o="function"==typeof r?On(e,n):On(e),i="function"==typeof r?r:n,a=t+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[t]?u(!1):function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}function pe(t){var e,n,r=t.enforceActions,o=t.computedRequiresReaction,i=t.computedConfigurable,a=t.disableErrorBoundaries,c=t.reactionScheduler,l=t.reactionRequiresObservable,s=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((zt.pendingReactions.length||zt.inBatch||zt.isRunningReactions)&&u("isolateGlobalState should be called before MobX is running any reactions"),Lt=!0,It&&(0==--Ct().__mobxInstanceCount&&(Ct().__mobxGlobals=void 0),zt=new Dt)),void 0!==r){var f=void 0;switch(r){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:u("Invalid value for 'enforceActions': '"+r+"', expected 'never', 'always' or 'observed'")}zt.enforceActions=f,zt.allowStateChanges=!0!==f&&"strict"!==f}void 0!==o&&(zt.computedRequiresReaction=!!o),void 0!==l&&(zt.reactionRequiresObservable=!!l),void 0!==s&&(zt.observableRequiresReaction=!!s,zt.allowStateReads=!zt.observableRequiresReaction),void 0!==i&&(zt.computedConfigurable=!!i),void 0!==a&&(!0===a&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),zt.disableErrorBoundaries=!!a),c&&(e=c,n=Kt,Kt=function(t){return e((function(){return n(t)}))})}function de(t,e,n,r){var o=ye(r=X(r));return I(t),hn(t,r.name,o.enhancer),e&&ve(t,e,n,o),t}function ye(t){return t.defaultDecorator||(!1===t.deep?U:G)}function ve(t,e,n,r){var o,i;Vt();try{var a=O(e);try{for(var u=k(a),c=u.next();!c.done;c=u.next()){var l=c.value,s=Object.getOwnPropertyDescriptor(e,l),f=(n&&l in n?n[l]:s.get?nt:r)(t,l,s,!0);f&&Object.defineProperty(t,l,f)}}catch(p){o={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{Xt()}}function ge(t,e){return be(On(t,e))}function be(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(be)),r}var me=0;function Oe(){this.message="FLOW_CANCELLED"}function _e(t){1!==arguments.length&&u("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++me,a=ne(e+" - runid: "+i+" - init",t).apply(r,o),u=void 0,c=new Promise((function(t,r){var o=0;function c(t){var n;u=void 0;try{n=ne(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(he){return r(he)}s(n)}function l(t){var n;u=void 0;try{n=ne(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(he){return r(he)}s(n)}function s(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(u=Promise.resolve(e.value)).then(c,l);e.then(s,r)}n=r,c(void 0)}));return c.cancel=ne(e+" - runid: "+i+" - cancel",(function(){try{u&&we(u);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(s,s),we(e),n(new Oe)}catch(he){n(he)}})),c}}function we(t){"function"==typeof t.cancel&&t.cancel()}function xe(t,e){if(null==t)return!1;if(void 0!==e){if(!1===mn(t))return!1;if(!t[_].values.has(e))return!1;var n=On(t,e);return Nt(n)}return Nt(t)}function Ee(t){return arguments.length>1?u(!1):xe(t)}function je(t,e){return"string"!=typeof e?u(!1):xe(t,e)}function Se(t,e){return null!=t&&(void 0!==e?!!mn(t)&&t[_].values.has(e):mn(t)||!!t[_]||x(t)||Zt(t)||Nt(t))}function Pe(t){return 1!==arguments.length&&u(!1),Se(t)}function ke(t){return mn(t)?t[_].getKeys():ln(t)||pn(t)?Array.from(t.keys()):on(t)?t.map((function(t,e){return e})):u(!1)}function Me(t){return mn(t)?ke(t).map((function(e){return t[e]})):ln(t)?ke(t).map((function(e){return t.get(e)})):pn(t)?Array.from(t.values()):on(t)?t.slice():u(!1)}function Ae(t){return mn(t)?ke(t).map((function(e){return[e,t[e]]})):ln(t)?ke(t).map((function(e){return[e,t.get(e)]})):pn(t)?Array.from(t.entries()):on(t)?t.map((function(t,e){return[e,t]})):u(!1)}function Ne(t,e,n){if(2!==arguments.length||pn(t))if(mn(t)){var r=t[_],o=r.values.get(e);o?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(ln(t))t.set(e,n);else if(pn(t))t.add(e);else{if(!on(t))return u(!1);"number"!=typeof e&&(e=parseInt(e,10)),c(e>=0,"Not a valid index: '"+e+"'"),Vt(),e>=t.length&&(t.length=e+1),t[e]=n,Xt()}else{Vt();var i=e;try{for(var a in i)Ne(t,a,i[a])}finally{Xt()}}}function De(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return _n(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return _n(t).observe(e,n)}(t,e,n)}Oe.prototype=Object.create(Error.prototype);var Te={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ce(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Re(t,e,n){if(!e.recurseEverything&&!Pe(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Mt(t))return Re(t.get(),e,n);if(Pe(t)&&ke(t),!0===e.detectCycles&&null!==t&&n.has(t))return n.get(t);if(on(t)||Array.isArray(t)){var r=Ce(n,t,[],e),o=t.map((function(t){return Re(t,e,n)}));r.length=o.length;for(var i=0,a=o.length;i<a;i++)r[i]=o[i];return r}if(pn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var u=Ce(n,t,new Set,e);return t.forEach((function(t){u.add(Re(t,e,n))})),u}var c=Ce(n,t,[],e);return t.forEach((function(t){c.push(Re(t,e,n))})),c}if(ln(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var l=Ce(n,t,new Map,e);return t.forEach((function(t,r){l.set(r,Re(t,e,n))})),l}var s=Ce(n,t,{},e);return t.forEach((function(t,r){s[r]=Re(t,e,n)})),s}var f=Ce(n,t,{},e);return g(t).forEach((function(r){f[r]=Re(t[r],e,n)})),f}function Ie(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Te),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),Re(t,e,n)}function Le(t){switch(t.length){case 0:return zt.trackingDerivation;case 1:return On(t[0]);case 2:return On(t[0],t[1])}}function ze(t,e){void 0===e&&(e=void 0),Vt();try{return t.apply(e)}finally{Xt()}}function Be(t,e,n){return 1===arguments.length||e&&"object"==typeof e?Fe(t,e):He(t,e,n||{})}function He(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[_].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+a();var o=_t(n.name+"-effect",e),i=ae((function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())}),n);return i}function Fe(t,e){var n,r=new Promise((function(r,o){var i=He(t,r,P(P({},e),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Ve(t){return t[_]}function Xe(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var Ge={has:function(t,e){if(e===_||"constructor"===e||e===N)return!0;var n=Ve(t);return Xe(e)?n.has(e):e in t},get:function(t,e){if(e===_||"constructor"===e||e===N)return t[e];var n=Ve(t),r=n.values.get(e);if(r instanceof w){var o=r.get();return void 0===o&&n.has(e),o}return Xe(e)&&n.has(e),t[e]},set:function(t,e,n){return!!Xe(e)&&(Ne(t,e,n),!0)},deleteProperty:function(t,e){return!!Xe(e)&&(Ve(t).remove(e),!0)},ownKeys:function(t){return Ve(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return u("Dynamic observable objects cannot be frozen"),!1}};function Ye(t){var e=new Proxy(t,Ge);return t[_].proxy=e,e}function Ue(t){return void 0!==t.interceptors&&t.interceptors.length>0}function We(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),l((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ke(t,e){var n=dt();try{for(var r=A(t.interceptors||[]),o=0,i=r.length;o<i&&(c(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{ht(n)}}function $e(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function qe(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),l((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ze(t,e){var n=dt(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);ht(n)}}var Je={get:function(t,e){return e===_?t[_]:"length"===e?t[_].getArrayLength():"number"==typeof e?en.get.call(t,e):"string"!=typeof e||isNaN(e)?en.hasOwnProperty(e)?en[e]:t[e]:en.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[_].setArrayLength(n),"number"==typeof e&&en.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:en.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return u("Observable arrays cannot be frozen"),!1}};function Qe(t,e,n,r){void 0===n&&(n="ObservableArray@"+a()),void 0===r&&(r=!1);var o,i,u,c=new tn(n,e,r);o=c.values,i=_,u=c,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:u});var l=new Proxy(c.values,Je);if(c.proxy=l,t&&t.length){var s=St(!0);c.spliceWithArray(0,0,t),Pt(s)}return l}var tn=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(t||"ObservableArray@"+a()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return We(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),qe(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;lt(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=o),Ue(this)){var a=Ke(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!a)return o;e=a.removedCount,n=a.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var u=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,u),this.dehanceValues(u)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,A([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,o=$e(this),i=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&Ze(this,i)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,o=$e(this),i=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&Ze(this,i)},t}(),en={intercept:function(t){return this[_].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[_].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[_];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[_];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[_].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[_];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[_].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[_];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[_],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[_];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[_],r=n.values;if(t<r.length){lt(n.atom);var o=r[t];if(Ue(n)){var i=Ke(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&(en[t]=function(){var e=this[_];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&(en[t]=function(e,n){var r=this,o=this[_];return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(n,t,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){en[t]=function(){var e=this,n=this[_];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,o,i){return o=n.dehanceValue(o),r(t,o,i,e)},n.values[t].apply(n.values,arguments)}}));var nn,rn=h("ObservableArrayAdministration",tn);function on(t){return f(t)&&rn(t[_])}var an,un={},cn=function(){function t(t,e,n){if(void 0===e&&(e=B),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=e,this.name=n,this[nn]=un,this._keysAtom=E(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!zt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new kt(this._has(t),H,this.name+"."+b(t)+"?",!1);this._hasMap.set(t,r),se(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(Ue(this)){var r=Ke(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(lt(this._keysAtom),Ue(this)&&!(r=Ke(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=$e(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return ze((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&Ze(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==zt.UNCHANGED){var r=$e(this),o=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;n.setNewValue(e),r&&Ze(this,o)}},t.prototype._addValue=function(t,e){var n=this;lt(this._keysAtom),ze((function(){var r=new kt(e,n.enhancer,n.name+"."+b(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=$e(this);r&&Ze(this,r?{type:"add",object:this,name:t,newValue:e}:null)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return Pn({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return Pn({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,t.get(o)]}}})},t.prototype[(nn=_,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var o=k(this),i=o.next();!i.done;i=o.next()){var a=M(i.value,2),u=a[0],c=a[1];t.call(e,c,u,this)}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return ln(t)&&(t=t.toJS()),ze((function(){var n=St(!0);try{p(t)?g(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=M(t,2),r=n[0],o=n[1];return e.set(r,o)})):y(t)?(t.constructor!==Map&&u("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&u("Cannot initialize map from "+t)}finally{Pt(n)}})),this},t.prototype.clear=function(){var t=this;ze((function(){pt((function(){var e,n;try{for(var r=k(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return ze((function(){var n,r,o,i,a=function(t){if(y(t)||ln(t))return t;if(Array.isArray(t))return new Map(t);if(p(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return u("Cannot convert to map from '"+t+"'")}(t),c=new Map,l=!1;try{for(var s=k(e._data.keys()),f=s.next();!f.done;f=s.next()){var d=f.value;if(!a.has(d))if(e.delete(d))l=!0;else{var h=e._data.get(d);c.set(d,h)}}}catch(j){n={error:j}}finally{try{f&&!f.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var v=k(a.entries()),g=v.next();!g.done;g=v.next()){var b=M(g.value,2),m=(d=b[0],h=b[1],e._data.has(d));if(e.set(d,h),e._data.has(d)){var O=e._data.get(d);c.set(d,O),m||(l=!0)}}}catch(S){o={error:S}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}if(!l)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var _=e._data.keys(),w=c.keys(),x=_.next(),E=w.next();!x.done;){if(x.value!==E.value){e._keysAtom.reportChanged();break}x=_.next(),E=w.next()}e._data=c})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=k(this),o=r.next();!o.done;o=r.next()){var i=M(o.value,2),a=i[0],u=i[1];n["symbol"==typeof a?a:b(a)]=u}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return b(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return qe(this,t)},t.prototype.intercept=function(t){return We(this,t)},t}(),ln=h("ObservableMap",cn),sn={},fn=function(){function t(t,e,n){if(void 0===e&&(e=B),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[an]=sn,this._data=new Set,this._atom=E(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;ze((function(){pt((function(){var e,n;try{for(var r=k(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var o=k(this),i=o.next();!i.done;i=o.next()){var a=i.value;t.call(e,a,a,this)}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(lt(this._atom),Ue(this)&&!(r=Ke(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){ze((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=$e(this),r=n?{type:"add",object:this,newValue:t}:null;n&&Ze(this,r)}return this},t.prototype.delete=function(t){var e=this;if(Ue(this)&&!(r=Ke(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=$e(this),r=n?{type:"delete",object:this,oldValue:t}:null;return ze((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&Ze(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Pn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Pn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return pn(t)&&(t=t.toJS()),ze((function(){var n=St(!0);try{Array.isArray(t)||v(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&u("Cannot initialize set from "+t)}finally{Pt(n)}})),this},t.prototype.observe=function(t,e){return qe(this,t)},t.prototype.intercept=function(t){return We(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(an=_,Symbol.iterator)]=function(){return this.values()},t}(),pn=h("ObservableSet",fn),dn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof At)r.set(e);else{if(Ue(this)){if(!(i=Ke(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=i.newValue}if((e=r.prepareNewValue(e))!==zt.UNCHANGED){var o=$e(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;r.setNewValue(e),o&&Ze(this,i)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new kt(r,H,this.name+"."+b(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Ue(this)){var o=Ke(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i=new kt(e,n,this.name+"."+b(t),!1);this.values.set(t,i),e=i.value,Object.defineProperty(r,t,function(t){return yn[t]||(yn[t]={configurable:!0,enumerable:!0,get:function(){return this[_].read(t)},set:function(e){this[_].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+b(e),this.values.set(e,new At(n)),(t===a||(r=t,o=e,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(t,e,function(t){return vn[t]||(vn[t]={configurable:zt.computedConfigurable,enumerable:!1,get:function(){return gn(this).read(t)},set:function(e){gn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(Ue(this)&&!(a=Ke(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Vt();var n=$e(this),r=this.values.get(t),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;n&&Ze(this,a)}finally{Xt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return qe(this,t)},t.prototype.intercept=function(t){return We(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=$e(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&Ze(this,r),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=k(this.values),o=r.next();!o.done;o=r.next()){var i=M(o.value,2),a=i[0];i[1]instanceof kt&&n.push(a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function hn(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=B),Object.prototype.hasOwnProperty.call(t,_))return t[_];p(t)||(e=(t.constructor.name||"ObservableObject")+"@"+a()),e||(e="ObservableObject@"+a());var r=new dn(t,new Map,b(e),n);return d(t,_,r),r}var yn=Object.create(null),vn=Object.create(null);function gn(t){var e=t[_];return e||(I(t),t[_])}var bn=h("ObservableObjectAdministration",dn);function mn(t){return!!f(t)&&(I(t),bn(t[_]))}function On(t,e){if("object"==typeof t&&null!==t){if(on(t))return void 0!==e&&u(!1),t[_].atom;if(pn(t))return t[_];if(ln(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||u(!1),r)}var r;if(I(t),e&&!t[_]&&t[e],mn(t))return e?((r=t[_].values.get(e))||u(!1),r):u(!1);if(x(t)||Nt(t)||Zt(t))return t}else if("function"==typeof t&&Zt(t[_]))return t[_];return u(!1)}function _n(t,e){return t||u("Expecting some object"),void 0!==e?_n(On(t,e)):x(t)||Nt(t)||Zt(t)||ln(t)||pn(t)?t:(I(t),t[_]?t[_]:void u(!1))}var wn=Object.prototype.toString;function xn(t,e,n){return void 0===n&&(n=-1),En(t,e,n)}function En(t,e,n,r,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if("function"!==i&&"object"!==i&&"object"!=typeof e)return!1;var a=wn.call(t);if(a!==wn.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=jn(t),e=jn(e);var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,l=e.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var s=(r=r||[]).length;s--;)if(r[s]===t)return o[s]===e;if(r.push(t),o.push(e),u){if((s=t.length)!==e.length)return!1;for(;s--;)if(!En(t[s],e[s],n-1,r,o))return!1}else{var f=Object.keys(t),p=void 0;if(s=f.length,Object.keys(e).length!==s)return!1;for(;s--;)if(!Sn(e,p=f[s])||!En(t[p],e[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function jn(t){return on(t)?t.slice():y(t)||ln(t)||v(t)||pn(t)?Array.from(t.entries()):t}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pn(t){return t[Symbol.iterator]=kn,t}function kn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Jt,extras:{getDebugName:function(t,e){return(void 0!==e?On(t,e):mn(t)||ln(t)||pn(t)?_n(t):On(t)).name}},$mobx:_})}).call(this,n(155),n(82))},function(t,e,n){n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return B})),n.d(e,"d",(function(){return H})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return z})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return L})),n.d(e,"k",(function(){return S}));var r,o,i,a,u,c,l,s={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n){var o,i,a,u={};for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];if(arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===u[a]&&(u[a]=t.defaultProps[a]);return v(t,u,o,i,null)}function v(t,e,n,r,a){var u={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(u),u}function g(){return{current:null}}function b(t){return t.children}function m(t,e){this.props=t,this.context=e}function O(t,e){if(null==e)return t.__?O(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?O(t):null}function _(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return _(t)}}function w(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!x.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||u)(x)}function x(){for(var t;x.__r=a.length;)t=a.sort((function(t,e){return t.__v.__b-e.__v.__b})),a=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=d({},o)).__v=o.__v+1,D(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?O(o):i,o.__h),T(n,o),o.__e!=i&&_(o)))}))}function E(t,e,n,r,o,i,a,u,c,l){var p,d,h,y,g,m,_,w=r&&r.__k||f,x=w.length;for(n.__k=[],p=0;p<e.length;p++)if(null!=(y=n.__k[p]=null==(y=e[p])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?v(null,y,null,null,y):Array.isArray(y)?v(b,{children:y},null,null,null):y.__b>0?v(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=w[p])||h&&y.key==h.key&&y.type===h.type)w[p]=void 0;else for(d=0;d<x;d++){if((h=w[d])&&y.key==h.key&&y.type===h.type){w[d]=void 0;break}h=null}D(t,y,h=h||s,o,i,a,u,c,l),g=y.__e,(d=y.ref)&&h.ref!=d&&(_||(_=[]),h.ref&&_.push(h.ref,null,y),_.push(d,y.__c||g,y)),null!=g?(null==m&&(m=g),"function"==typeof y.type&&y.__k===h.__k?y.__d=c=j(y,c,t):c=P(t,y,h,w,g,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=O(h))}for(n.__e=m,p=x;p--;)null!=w[p]&&("function"==typeof n.type&&null!=w[p].__e&&w[p].__e==n.__d&&(n.__d=O(r,p+1)),R(w[p],w[p]));if(_)for(p=0;p<_.length;p++)C(_[p],_[++p],_[++p])}function j(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?j(r,e,n):P(n,r,r,o,r.__e,e));return e}function S(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){S(t,e)})):e.push(t)),e}function P(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function k(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||p.test(e)?n:n+"px"}function M(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||k(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||k(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?N:A,i):t.removeEventListener(e,i?N:A,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(a){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function A(t){this.l[t.type+!1](o.event?o.event(t):t)}function N(t){this.l[t.type+!0](o.event?o.event(t):t)}function D(t,e,n,i,a,u,c,l,f){var p,y,v,g,_,w,x,j,S,P,k,A=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(f=n.__h,l=e.__e=n.__e,e.__h=null,u=[l]),(p=o.__b)&&p(e);try{t:if("function"==typeof A){if(j=e.props,S=(p=A.contextType)&&i[p.__c],P=p?S?S.props.value:p.__:i,n.__c?x=(y=e.__c=n.__c).__=y.__E:("prototype"in A&&A.prototype.render?e.__c=y=new A(j,P):(e.__c=y=new m(j,P),y.constructor=A,y.render=I),S&&S.sub(y),y.props=j,y.state||(y.state={}),y.context=P,y.__n=i,v=y.__d=!0,y.__h=[]),null==y.__s&&(y.__s=y.state),null!=A.getDerivedStateFromProps&&(y.__s==y.state&&(y.__s=d({},y.__s)),d(y.__s,A.getDerivedStateFromProps(j,y.__s))),g=y.props,_=y.state,v)null==A.getDerivedStateFromProps&&null!=y.componentWillMount&&y.componentWillMount(),null!=y.componentDidMount&&y.__h.push(y.componentDidMount);else{if(null==A.getDerivedStateFromProps&&j!==g&&null!=y.componentWillReceiveProps&&y.componentWillReceiveProps(j,P),!y.__e&&null!=y.shouldComponentUpdate&&!1===y.shouldComponentUpdate(j,y.__s,P)||e.__v===n.__v){y.props=j,y.state=y.__s,e.__v!==n.__v&&(y.__d=!1),y.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),y.__h.length&&c.push(y);break t}null!=y.componentWillUpdate&&y.componentWillUpdate(j,y.__s,P),null!=y.componentDidUpdate&&y.__h.push((function(){y.componentDidUpdate(g,_,w)}))}y.context=P,y.props=j,y.state=y.__s,(p=o.__r)&&p(e),y.__d=!1,y.__v=e,y.__P=t,p=y.render(y.props,y.state,y.context),y.state=y.__s,null!=y.getChildContext&&(i=d(d({},i),y.getChildContext())),v||null==y.getSnapshotBeforeUpdate||(w=y.getSnapshotBeforeUpdate(g,_)),k=null!=p&&p.type===b&&null==p.key?p.props.children:p,E(t,Array.isArray(k)?k:[k],e,n,i,a,u,c,l,f),y.base=e.__e,e.__h=null,y.__h.length&&c.push(y),x&&(y.__E=y.__=null),y.__e=!1}else null==u&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,o,i,a,u,c){var l,f,p,d=n.props,y=e.props,v=e.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((l=a[g])&&"setAttribute"in l==!!v&&(v?l.localName===v:3===l.nodeType)){t=l,a[g]=null;break}if(null==t){if(null===v)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),a=null,c=!1}if(null===v)d===y||c&&t.data===y||(t.data=y);else{if(a=a&&r.call(t.childNodes),f=(d=n.props||s).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||M(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||M(t,i,e[i],n[i],r)}(t,y,d,i,c),p)e.__k=[];else if(g=e.props.children,E(t,Array.isArray(g)?g:[g],e,n,o,i&&"foreignObject"!==v,a,u,a?a[0]:n.__k&&O(n,0),c),null!=a)for(g=a.length;g--;)null!=a[g]&&h(a[g]);c||("value"in y&&void 0!==(g=y.value)&&(g!==d.value||g!==t.value||"progress"===v&&!g)&&M(t,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==t.checked&&M(t,"checked",g,d.checked,!1))}return t}(n.__e,e,n,i,a,u,c,f);(p=o.diffed)&&p(e)}catch(N){e.__v=null,(f||null!=u)&&(e.__e=l,e.__h=!!f,u[u.indexOf(l)]=null),o.__e(N,e,n)}}function T(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(n){o.__e(n,e.__v)}}))}function C(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(r){o.__e(r,n)}}function R(t,e,n){var r,i;if(o.unmount&&o.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||C(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){o.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&R(r[i],e,"function"!=typeof t.type);n||null==t.__e||h(t.__e),t.__e=t.__d=void 0}function I(t,e,n){return this.constructor(t,n)}function L(t,e,n){var i,a,u;o.__&&o.__(t,e),a=(i="function"==typeof n)?null:n&&n.__k||e.__k,u=[],D(e,t=(!i&&n||e).__k=y(b,null,[t]),a||s,s,void 0!==e.ownerSVGElement,!i&&n?[n]:a?null:e.firstChild?r.call(e.childNodes):null,u,!i&&n?n:a?a.__e:e.firstChild,i),T(u,t)}function z(t,e){L(t,e,z)}function B(t,e,n){var o,i,a,u=d({},t.props);for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),v(t.type,u,o||t.key,i||t.ref,null)}function H(t,e){var n={__c:e="__cC"+l++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(w)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,o={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(i){t=i}throw t}},i=0,m.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},n),this.props)),t&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),w(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),w(this))},m.prototype.render=b,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,x.__r=0,l=0},function(t,e,n){var r=n(116),o=n(44),i=n(178);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){var r=n(39),o=n(83),i=n(70),a=n(56),u=n(111),c="Array Iterator",l=a.set,s=a.getterFor(c);t.exports=u(Array,"Array",(function(t,e){l(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(7),o=n(147),i=n(148),a=n(3),u=n(57),c=n(27),l=c("iterator"),s=c("toStringTag"),f=a.values,p=function(t,e){if(t){if(t[l]!==f)try{u(t,l,f)}catch(r){t[l]=f}if(t[s]||u(t,s,e),o[e])for(var n in a)if(t[n]!==a[n])try{u(t,n,a[n])}catch(r){t[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},function(t,e,n){var r=n(16),o=n(7),i=n(46),a=n(76),u=n(35),c=n(15),l=n(64),s=n(36),f=n(109),p=n(18),d=n(34),h=n(99),y=n(28),v=n(33),g=n(58),b=n(88),m=n(32),O=n(38),_=n(39),w=n(87),x=n(40),E=n(71),j=n(54),S=n(66),P=n(72),k=n(139),M=n(112),A=n(51),N=n(37),D=n(93),T=n(101),C=n(44),R=n(84),I=n(91),L=n(69),z=n(85),B=n(27),H=n(149),F=n(150),V=n(73),X=n(56),G=n(74).forEach,Y=I("hidden"),U="Symbol",W=B("toPrimitive"),K=X.set,$=X.getterFor(U),q=Object.prototype,Z=o.Symbol,J=Z&&Z.prototype,Q=o.TypeError,tt=o.QObject,et=i("JSON","stringify"),nt=A.f,rt=N.f,ot=k.f,it=D.f,at=c([].push),ut=R("symbols"),ct=R("op-symbols"),lt=R("string-to-symbol-registry"),st=R("symbol-to-string-registry"),ft=R("wks"),pt=!tt||!tt.prototype||!tt.prototype.findChild,dt=s&&p((function(){return 7!=j(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=nt(q,e);r&&delete q[e],rt(t,e,n),r&&t!==q&&rt(q,e,r)}:rt,ht=function(t,e){var n=ut[t]=j(J);return K(n,{type:U,tag:t,description:e}),s||(n.description=e),n},yt=function(t,e,n){t===q&&yt(ct,e,n),m(t);var r=w(e);return m(n),d(ut,r)?(n.enumerable?(d(t,Y)&&t[Y][r]&&(t[Y][r]=!1),n=j(n,{enumerable:E(0,!1)})):(d(t,Y)||rt(t,Y,E(1,{})),t[Y][r]=!0),dt(t,r,n)):rt(t,r,n)},vt=function(t,e){m(t);var n=_(e),r=S(n).concat(Ot(n));return G(r,(function(e){s&&!u(gt,n,e)||yt(t,e,n[e])})),t},gt=function(t){var e=w(t),n=u(it,this,e);return!(this===q&&d(ut,e)&&!d(ct,e))&&(!(n||!d(this,e)||!d(ut,e)||d(this,Y)&&this[Y][e])||n)},bt=function(t,e){var n=_(t),r=w(e);if(n!==q||!d(ut,r)||d(ct,r)){var o=nt(n,r);return!o||!d(ut,r)||d(n,Y)&&n[Y][r]||(o.enumerable=!0),o}},mt=function(t){var e=ot(_(t)),n=[];return G(e,(function(t){d(ut,t)||d(L,t)||at(n,t)})),n},Ot=function(t){var e=t===q,n=ot(e?ct:_(t)),r=[];return G(n,(function(t){!d(ut,t)||e&&!d(q,t)||at(r,ut[t])})),r};if(f||(Z=function(){if(g(J,this))throw Q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?x(arguments[0]):void 0,e=z(t),n=function(t){this===q&&u(n,ct,t),d(this,Y)&&d(this[Y],e)&&(this[Y][e]=!1),dt(this,e,E(1,t))};return s&&pt&&dt(q,e,{configurable:!0,set:n}),ht(e,t)},C(J=Z.prototype,"toString",(function(){return $(this).tag})),C(Z,"withoutSetter",(function(t){return ht(z(t),t)})),D.f=gt,N.f=yt,A.f=bt,P.f=k.f=mt,M.f=Ot,H.f=function(t){return ht(B(t),t)},s&&(rt(J,"description",{configurable:!0,get:function(){return $(this).description}}),l||C(q,"propertyIsEnumerable",gt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Z}),G(S(ft),(function(t){F(t)})),r({target:U,stat:!0,forced:!f},{for:function(t){var e=x(t);if(d(lt,e))return lt[e];var n=Z(e);return lt[e]=n,st[n]=e,n},keyFor:function(t){if(!b(t))throw Q(t+" is not a symbol");if(d(st,t))return st[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!s},{create:function(t,e){return void 0===e?j(t):vt(j(t),e)},defineProperty:yt,defineProperties:vt,getOwnPropertyDescriptor:bt}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:mt,getOwnPropertySymbols:Ot}),r({target:"Object",stat:!0,forced:p((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(O(t))}}),et&&r({target:"JSON",stat:!0,forced:!f||p((function(){var t=Z();return"[null]"!=et([t])||"{}"!=et({a:t})||"{}"!=et(Object(t))}))},{stringify:function(t,e,n){var r=T(arguments),o=e;if((v(e)||void 0!==t)&&!b(t))return h(e)||(e=function(t,e){if(y(o)&&(e=u(o,this,t,e)),!b(e))return e}),r[1]=e,a(et,null,r)}}),!J[W]){var _t=J.valueOf;C(J,W,(function(t){return u(_t,this)}))}V(Z,U),L[Y]=!0},function(t,e,n){var r=n(146).charAt,o=n(40),i=n(56),a=n(111),u="String Iterator",c=i.set,l=i.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:o(t),index:0})}),(function(){var t,e=l(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(82))},function(t,e,n){var r=n(16),o=n(36),i=n(7),a=n(15),u=n(34),c=n(28),l=n(58),s=n(40),f=n(37).f,p=n(134),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),e=l(h,this)?new d(t):void 0===t?d():d(t);return""===t&&(y[e]=!0),e};p(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(h.toString),m=a(h.valueOf),O=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),w=a("".slice);f(h,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(u(y,t))return"";var n=g?w(e,7,-1):_(e,O,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},function(t,e,n){n(150)("iterator")},function(t,e,n){n.d(e,"a",(function(){return a.a})),n.d(e,"c",(function(){return a.e})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return A})),n.d(e,"e",(function(){return C})),n.d(e,"f",(function(){return N})),n.d(e,"g",(function(){return ut}));var r,o,i,a=n(1),u=0,c=[],l=a.i.__b,s=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function h(t,e){a.i.__h&&a.i.__h(o,t,u||e),u=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function y(t){return u=1,v(P,t)}function v(t,e,n){var i=h(r++,2);return i.t=t,i.__c||(i.__=[n?n(e):P(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(t,e){var n=h(r++,3);!a.i.__s&&S(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function b(t,e){var n=h(r++,4);!a.i.__s&&S(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function m(t,e){var n=h(r++,7);return S(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function O(t,e){return u=8,m((function(){return t}),e)}function _(){var t;for(c.sort((function(t,e){return t.__v.__b-e.__v.__b}));t=c.pop();)if(t.__P)try{t.__H.__h.forEach(E),t.__H.__h.forEach(j),t.__H.__h=[]}catch(e){t.__H.__h=[],a.i.__e(e,t.__v)}}a.i.__b=function(t){o=null,l&&l(t)},a.i.__r=function(t){s&&s(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(E),e.__h.forEach(j),e.__h=[])},a.i.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==c.push(e)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||x)(_)),o=null},a.i.__c=function(t,e){e.some((function(t){try{t.__h.forEach(E),t.__h=t.__h.filter((function(t){return!t.__||j(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a.i.__e(n,t.__v)}})),p&&p(t,e)},a.i.unmount=function(t){d&&d(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{E(t)}catch(n){e=n}})),e&&a.i.__e(e,n.__v))};var w="function"==typeof requestAnimationFrame;function x(t){var e,n=function(){clearTimeout(r),w&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);w&&(e=requestAnimationFrame(n))}function E(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function j(t){var e=o;t.__c=t.__(),o=e}function S(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function P(t,e){return"function"==typeof e?e(t):e}function k(t,e){for(var n in e)t[n]=e[n];return t}function M(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function A(t){this.props=t}function N(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:M(this.props,t)}function r(e){return this.shouldComponentUpdate=n,Object(a.e)(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(A.prototype=new a.a).isPureReactComponent=!0,A.prototype.shouldComponentUpdate=function(t,e){return M(this.props,t)||M(this.state,e)};var D=a.i.__b;a.i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),D&&D(t)};var T="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function C(t){function e(e,n){var r=k({},e);return delete r.ref,t(r,!(n=e.ref||n)||"object"==typeof n&&!("current"in n)?null:n)}return e.$$typeof=T,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var R=function(t,e){return null==t?null:Object(a.k)(Object(a.k)(t).map(e))},I={map:R,forEach:R,count:function(t){return t?Object(a.k)(t).length:0},only:function(t){var e=Object(a.k)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:a.k},L=a.i.__e;a.i.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);L(t,e,n)};var z=a.i.unmount;function B(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=k({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return B(t,e,n)}))),t}function H(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return H(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function F(){this.__u=0,this.t=null,this.__b=null}function V(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function X(){this.u=null,this.o=null}a.i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),z&&z(t)},(F.prototype=new a.a).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=V(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(u):u())};n.__R=a;var u=function(){if(!--r.__u){if(r.state.__e){var t=r.state.__e;r.__v.__k[0]=H(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},c=!0===e.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},F.prototype.componentWillUnmount=function(){this.t=[]},F.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=B(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__e&&Object(a.e)(a.b,null,t.fallback);return o&&(o.__h=null),[Object(a.e)(a.b,null,e.__e?null:t.children),o]};var G=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Y(t){return this.getChildContext=function(){return t.context},t.children}function U(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(a.j)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(a.j)(Object(a.e)(Y,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(X.prototype=new a.a).__e=function(t){var e=this,n=V(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),G(e,t,r)):o()};n?n(i):i()}},X.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(a.k)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},X.prototype.componentDidUpdate=X.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){G(t,n,e)}))};var W="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,K=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$="undefined"!=typeof document,q=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(a.a.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var Z=a.i.event;function J(){}function Q(){return this.cancelBubble}function tt(){return this.defaultPrevented}a.i.event=function(t){return Z&&(t=Z(t)),t.persist=J,t.isPropagationStopped=Q,t.isDefaultPrevented=tt,t.nativeEvent=t};var et,nt={configurable:!0,get:function(){return this.class}},rt=a.i.vnode;a.i.vnode=function(t){var e=t.type,n=t.props,r=n;if("string"==typeof e){var o=-1===e.indexOf("-");for(var i in r={},n){var u=n[i];$&&"children"===i&&"noscript"===e||"value"===i&&"defaultValue"in n&&null==u||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!q(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&K.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),r[i]=u)}"select"==e&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(a.k)(n.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==e&&null!=r.defaultValue&&(r.value=Object(a.k)(n.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),t.props=r,n.class!=n.className&&(nt.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",nt))}t.$$typeof=W,rt&&rt(t)};var ot=a.i.__r;a.i.__r=function(t){ot&&ot(t),et=t.__c};var it={ReactCurrentDispatcher:{current:{readContext:function(t){return et.__n[t.__c].props.value}}}};function at(t){return!!t&&t.$$typeof===W}var ut=function(t,e){return t(e)},ct=a.b,lt={useState:y,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:function(t){return u=5,m((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,n){u=6,b((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:m,useCallback:O,useContext:function(t){var e=o.context[t.__c],n=h(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__},useDebugValue:function(t,e){a.i.useDebugValue&&a.i.useDebugValue(e?e(t):t)},version:"17.0.2",Children:I,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(a.j)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(a.h)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(a.j)(null,t),!0)},createPortal:function(t,e){return Object(a.e)(U,{__v:t,i:e})},createElement:a.e,createContext:a.d,createFactory:function(t){return a.e.bind(null,t)},cloneElement:function(t){return at(t)?a.c.apply(null,arguments):t},createRef:a.f,Fragment:a.b,isValidElement:at,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:a.a,PureComponent:A,memo:N,forwardRef:C,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:ut,StrictMode:ct,Suspense:F,SuspenseList:X,lazy:function(t){var e,n,r;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(!n)throw e;return Object(a.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:it};e.d=lt},function(t,e,n){var r=n(7),o=n(147),i=n(148),a=n(179),u=n(57),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var l in o)o[l]&&c(r[l]&&r[l].prototype);c(i)},function(t,e,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(97)})},function(t,e,n){var r=n(16),o=n(18),i=n(38),a=n(96),u=n(137);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){var r=n(16),o=n(46),i=n(76),a=n(199),u=n(157),c=n(32),l=n(33),s=n(54),f=n(18),p=o("Reflect","construct"),d=Object.prototype,h=[].push,y=f((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),v=!f((function(){p((function(){}))})),g=y||v;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){u(t),c(e);var n=arguments.length<3?t:u(arguments[2]);if(v&&!y)return p(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(h,r,e),new(i(a,t,r))}var o=n.prototype,f=s(l(o)?o:d),g=i(t,f,e);return l(g)?g:f}})},function(t,e){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);t.exports=r?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,n){var r=n(7),o=n(51).f,i=n(57),a=n(44),u=n(108),c=n(134),l=n(95);t.exports=function(t,e){var n,s,f,p,d,h=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[h]||u(h,{}):(r[h]||{}).prototype)for(s in e){if(p=e[s],f=t.noTargetGet?(d=o(n,s))&&d.value:n[s],!l(y?s:h+(v?".":"#")+s,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,s,p,t)}}},function(t,e,n){var r=n(16),o=n(7),i=n(99),a=n(100),u=n(33),c=n(67),l=n(43),s=n(39),f=n(61),p=n(27),d=n(75),h=n(101),y=d("slice"),v=p("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,r,o,p=s(this),d=l(p),y=c(t,d),m=c(void 0===e?d:e,d);if(i(p)&&(n=p.constructor,(a(n)&&(n===g||i(n.prototype))||u(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(p,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),o=0;y<m;y++,o++)y in p&&f(r,o,p[y]);return r.length=o,r}})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(16),o=n(102);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(16),o=n(38),i=n(66);r({target:"Object",stat:!0,forced:n(18)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(16),o=n(18),i=n(39),a=n(51).f,u=n(36),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(16),o=n(74).filter;r({target:"Array",proto:!0,forced:!n(75)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(16),o=n(36),i=n(135),a=n(39),u=n(51),c=n(61);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,l=i(r),s={},f=0;l.length>f;)void 0!==(n=o(r,e=l[f++]))&&c(s,e,n);return s}})},function(t,e,n){var r=n(36),o=n(94).EXISTS,i=n(15),a=n(37).f,u=Function.prototype,c=i(u.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=i(l.exec);r&&!o&&a(u,"name",{configurable:!0,get:function(){try{return s(l,c(this))[1]}catch(t){return""}}})},function(t,e,n){var r=n(16),o=n(182);r({target:"Array",stat:!0,forced:!n(118)((function(t){Array.from(t)}))},{from:o})},,function(t,e,n){var r=n(7),o=n(84),i=n(34),a=n(85),u=n(109),c=n(128),l=o("wks"),s=r.Symbol,f=s&&s.for,p=c?s:s&&s.withoutSetter||a;t.exports=function(t){if(!i(l,t)||!u&&"string"!=typeof l[t]){var e="Symbol."+t;u&&i(s,t)?l[t]=s[t]:l[t]=c&&f?f(e):p(e)}return l[t]}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(16),o=n(7),i=n(18),a=n(99),u=n(33),c=n(38),l=n(43),s=n(61),f=n(119),p=n(75),d=n(27),h=n(65),y=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=h>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),O=p("concat"),_=function(t){if(!u(t))return!1;var e=t[y];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!m||!O},{concat:function(t){var e,n,r,o,i,a=c(this),u=f(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(_(i=-1===e?a:arguments[e])){if(p+(o=l(i))>v)throw b(g);for(n=0;n<o;n++,p++)n in i&&s(u,p,i[n])}else{if(p>=v)throw b(g);s(u,p++,i)}return u.length=p,u}})},function(t,e,n){var r=n(16),o=n(198);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){var r=n(105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){var r=n(7),o=n(33),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(t,e,n){var r=n(28);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(15),o=n(38),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){var r=n(18);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(7),o=n(36),i=n(129),a=n(32),u=n(87),c=r.TypeError,l=Object.defineProperty;e.f=o?l:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(7),o=n(45),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,e,n){var r=n(81),o=n(45);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(7),o=n(98),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){var r=n(16),o=n(74).map;r({target:"Array",proto:!0,forced:!n(75)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){(function(t){n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n(10);function o(){var t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(Object(r.j)(0),2)[1];return Object(r.h)((function(){t((function(t){return t+1}))}),[])}function i(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}function a(t){return"function"==typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var u={};function c(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:u}}).call(this,n(82))},function(t,e,n){var r=n(90);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(7),o=n(28),i=n(34),a=n(57),u=n(108),c=n(92),l=n(56),s=n(94).CONFIGURABLE,f=l.get,p=l.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var l,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||s&&n.name!==v)&&a(n,"name",v),(l=p(n)).source||(l.source=d.join("string"==typeof v?v:""))),t!==r?(f?!y&&t[e]&&(h=!0):delete t[e],h?t[e]=n:a(t,e,n)):h?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,n){var r=n(7).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r=n(7),o=n(28),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},function(t,e,n){var r=n(16),o=n(35),i=n(33),a=n(32),u=n(200),c=n(51),l=n(96);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,s,f=arguments.length<3?e:arguments[2];return a(e)===f?e[n]:(r=c.f(e,n))?u(r)?r.value:void 0===r.get?void 0:o(r.get,f):i(s=l(e))?t(s,n,f):void 0}})},function(t,e,n){(function(t){var r=n(31),o=n(165),i=A&&!A.nodeType&&A,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;e.a=c}).call(this,n(121)(t))},function(t,e,n){(function(t){var r=n(105),o=A&&!A.nodeType&&A,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.a.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(he){}}();e.a=u}).call(this,n(121)(t))},function(t,e,n){var r=n(15),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,e,n){var r=n(36),o=n(35),i=n(93),a=n(71),u=n(39),c=n(87),l=n(34),s=n(129),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),s)try{return f(t,e)}catch(n){}if(l(t,e))return a(!o(i.f,t,e),t[e])}},function(t,e,n){var r=n(16),o=n(213).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(46);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r,o=n(32),i=n(168),a=n(110),u=n(69),c=n(133),l=n(86),s=n(91),f=s("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{r=new ActiveXObject("htmlfile")}catch(o){}var t,e;y="undefined"!=typeof document?document.domain&&r?h(r):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):h(r);for(var n=a.length;n--;)delete y.prototype[a[n]];return y()};u[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[f]=t):n=y(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(7),o=n(28),i=n(89),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,e,n){var r,o,i,a=n(170),u=n(7),c=n(15),l=n(33),s=n(57),f=n(34),p=n(107),d=n(91),h=n(69),y="Object already initialized",v=u.TypeError,g=u.WeakMap;if(a||p.state){var b=p.state||(p.state=new g),m=c(b.get),O=c(b.has),_=c(b.set);r=function(t,e){if(O(b,t))throw new v(y);return e.facade=t,_(b,t,e),e},o=function(t){return m(b,t)||{}},i=function(t){return O(b,t)}}else{var w=d("state");h[w]=!0,r=function(t,e){if(f(t,w))throw new v(y);return e.facade=t,s(t,w,e),e},o=function(t){return f(t,w)?t[w]:{}},i=function(t){return f(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(36),o=n(37),i=n(71);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(15);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){n(173)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(177))},function(t,e,n){var r=n(87),o=n(37),i=n(71);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(15),o=n(55),i=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?i(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(16),o=n(214),i=n(83);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e){t.exports=!1},function(t,e,n){var r,o,i=n(7),a=n(53),u=i.process,c=i.Deno,l=u&&u.versions||c&&c.version,s=l&&l.v8;s&&(o=(r=s.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},function(t,e,n){var r=n(131),o=n(110);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(68),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(131),o=n(110).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(37).f,o=n(34),i=n(27)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(62),o=n(15),i=n(81),a=n(38),u=n(43),c=n(119),l=o([].push),s=function(t){var e=1==t,n=2==t,o=3==t,s=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,g){for(var b,m,O=a(h),_=i(O),w=r(y,v),x=u(_),E=0,j=g||c,S=e?j(h,x):n||p?j(h,0):void 0;x>E;E++)if((d||E in _)&&(m=w(b=_[E],E,O),t))if(e)S[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:l(S,b)}else switch(t){case 4:return!1;case 7:l(S,b)}return f?-1:o||s?s:S}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},function(t,e,n){var r=n(18),o=n(27),i=n(65),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(t,e,n){var r=n(16),o=n(15),i=n(81),a=n(39),u=n(120),c=o([].join),l=i!=Object,s=u("join",",");r({target:"Array",proto:!0,forced:l||!s},{join:function(t){return c(a(this),void 0===t?",":t)}})},function(t,e,n){var r=n(76),o=n(35),i=n(15),a=n(122),u=n(154),c=n(32),l=n(45),s=n(156),f=n(123),p=n(90),d=n(40),h=n(59),y=n(113),v=n(124),g=n(102),b=n(151),m=n(18),O=b.UNSUPPORTED_Y,_=4294967295,w=Math.min,x=[].push,E=i(/./.exec),j=i(x),S=i("".slice),P=!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=d(l(this)),a=void 0===n?_:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!u(t))return o(e,i,t,a);for(var c,s,f,p=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,h+"g");(c=o(g,b,i))&&!((s=b.lastIndex)>v&&(j(p,S(i,v,c.index)),c.length>1&&c.index<i.length&&r(x,p,y(c,1)),f=c[0].length,v=s,p.length>=a));)b.lastIndex===c.index&&b.lastIndex++;return v===i.length?!f&&E(b,"")||j(p,""):j(p,S(i,v)),p.length>a?y(p,0,a):p}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=l(this),a=null==e?void 0:h(e,t);return a?o(a,e,r,n):o(i,d(r),e,n)},function(t,r){var o=c(this),a=d(t),u=n(i,o,a,r,i!==e);if(u.done)return u.value;var l=s(o,RegExp),h=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(O?"g":"y"),g=new l(O?"^(?:"+o.source+")":o,y),b=void 0===r?_:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var m=0,x=0,E=[];x<a.length;){g.lastIndex=O?0:x;var P,k=v(g,O?S(a,x):a);if(null===k||(P=w(p(g.lastIndex+(O?x:0)),a.length))===m)x=f(a,x,h);else{if(j(E,S(a,m,x)),E.length===b)return E;for(var M=1;M<=k.length-1;M++)if(j(E,k[M]),E.length===b)return E;x=m=P}}return j(E,S(a,m)),E}]}),!P,O)},function(t,e,n){var r=n(36),o=n(7),i=n(15),a=n(95),u=n(44),c=n(34),l=n(143),s=n(58),f=n(88),p=n(130),d=n(18),h=n(72).f,y=n(51).f,v=n(37).f,g=n(196),b=n(159).trim,m="Number",O=o.Number,_=O.prototype,w=o.TypeError,x=i("".slice),E=i("".charCodeAt),j=function(t){var e=p(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,n,r,o,i,a,u,c,l=p(t,"number");if(f(l))throw w("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=b(l),43===(e=E(l,0))||45===e){if(88===(n=E(l,2))||120===n)return NaN}else if(48===e){switch(E(l,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=x(l,2)).length,u=0;u<a;u++)if((c=E(i,u))<48||c>o)return NaN;return parseInt(i,r)}return+l};if(a(m,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var P,k=function(t){var e=arguments.length<1?0:O(j(t)),n=this;return s(_,n)&&d((function(){g(n)}))?l(Object(e),n,k):e},M=r?h(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;M.length>A;A++)c(O,P=M[A])&&!c(k,P)&&v(k,P,y(O,P));k.prototype=_,_.constructor=k,u(o,m,k)}},function(t,e,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(7),o=n(15),i=n(18),a=n(50),u=r.Object,c=o("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?c(t,""):u(t)}:u},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(he){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(27),o=n(54),i=n(37),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){var r=n(64),o=n(107);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(15),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},function(t,e,n){var r=n(7),o=n(33),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(130),o=n(88);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},function(t,e,n){var r=n(7),o=n(46),i=n(28),a=n(58),u=n(128),c=r.Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,c(t))}},function(t,e,n){var r=n(7).String;t.exports=function(t){try{return r(t)}catch(e){return"Object"}}},function(t,e,n){var r=n(68),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(84),o=n(85),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(15),o=n(28),i=n(107),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},function(t,e,n){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(36),o=n(34),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,l=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:l}},function(t,e,n){var r=n(18),o=n(28),i=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n==s||n!=l&&(o(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",s=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(7),o=n(34),i=n(28),a=n(38),u=n(91),c=n(137),l=u("IE_PROTO"),s=r.Object,f=s.prototype;t.exports=c?s.getPrototypeOf:function(t){var e=a(t);if(o(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof s?f:null}},function(t,e,n){var r=n(15),o=n(32),i=n(172);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(7),o=n(116),i=n(28),a=n(50),u=n(27)("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=c(t),u))?n:l?a(e):"Object"==(r=a(e))&&i(e.callee)?"Arguments":r}},function(t,e,n){var r=n(50);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(15),o=n(18),i=n(28),a=n(98),u=n(46),c=n(92),l=function(){},s=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=r(p.exec),h=!p.exec(l),y=function(t){if(!i(t))return!1;try{return f(l,s,t),!0}catch(e){return!1}};t.exports=!f||o((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d(p,c(t))}:y},function(t,e,n){var r=n(15);t.exports=r([].slice)},function(t,e,n){var r,o,i=n(35),a=n(15),u=n(40),c=n(184),l=n(151),s=n(84),f=n(54),p=n(56).get,d=n(185),h=n(186),y=s("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=a("".charAt),m=a("".indexOf),O=a("".replace),_=a("".slice),w=(o=/b*/g,i(v,r=/a/,"a"),i(v,o,"a"),0!==r.lastIndex||0!==o.lastIndex),x=l.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(w||E||x||d||h)&&(g=function(t){var e,n,r,o,a,l,s,d=this,h=p(d),j=u(t),S=h.raw;if(S)return S.lastIndex=d.lastIndex,e=i(g,S,j),d.lastIndex=S.lastIndex,e;var P=h.groups,k=x&&d.sticky,M=i(c,d),A=d.source,N=0,D=j;if(k&&(M=O(M,"y",""),-1===m(M,"g")&&(M+="g"),D=_(j,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(j,d.lastIndex-1))&&(A="(?: "+A+")",D=" "+D,N++),n=new RegExp("^(?:"+A+")",M)),E&&(n=new RegExp("^"+A+"$(?!\\s)",M)),w&&(r=d.lastIndex),o=i(v,k?n:d,D),k?o?(o.input=_(o.input,N),o[0]=_(o[0],N),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:w&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),E&&o&&o.length>1&&i(y,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&P)for(o.groups=l=f(null),a=0;a<P.length;a++)l[(s=P[a])[0]]=o[s[1]];return o}),t.exports=g},function(t,e,n){var r=n(16),o=n(7),i=n(67),a=n(68),u=n(43),c=n(38),l=n(119),s=n(61),f=n(75)("splice"),p=o.TypeError,d=Math.max,h=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,o,f,g,b,m=c(this),O=u(m),_=i(t,O),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=O-_):(n=w-2,r=h(d(a(e),0),O-_)),O+n-r>y)throw p(v);for(o=l(m,r),f=0;f<r;f++)(g=_+f)in m&&s(o,f,m[g]);if(o.length=r,n<r){for(f=_;f<O-r;f++)b=f+n,(g=f+r)in m?m[b]=m[g]:delete m[b];for(f=O;f>O-r+n;f--)delete m[f-1]}else if(n>r)for(f=O-r;f>_;f--)b=f+n-1,(g=f+r-1)in m?m[b]=m[g]:delete m[b];for(f=0;f<n;f++)m[f+_]=arguments[f+2];return m.length=O-r+n,o}})},function(t,e,n){var r=n(16),o=n(201);r({target:"String",proto:!0,forced:n(202)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(82))},function(t,e,n){(function(t){var r=n(31),o=A&&!A.nodeType&&A,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(121)(t))},function(t,e,n){var r=n(7),o=n(108),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},function(t,e,n){var r=n(7),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(65),o=n(18);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(16),o=n(35),i=n(64),a=n(94),u=n(28),c=n(171),l=n(96),s=n(97),f=n(73),p=n(57),d=n(44),h=n(27),y=n(70),v=n(136),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,O=v.BUGGY_SAFARI_ITERATORS,_=h("iterator"),w="keys",x="values",E="entries",j=function(){return this};t.exports=function(t,e,n,a,h,v,S){c(n,e,a);var P,k,M,A=function(t){if(t===h&&R)return R;if(!O&&t in T)return T[t];switch(t){case w:case x:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},N=e+" Iterator",D=!1,T=t.prototype,C=T[_]||T["@@iterator"]||h&&T[h],R=!O&&C||A(h),I="Array"==e&&T.entries||C;if(I&&(P=l(I.call(new t)))!==Object.prototype&&P.next&&(i||l(P)===m||(s?s(P,m):u(P[_])||d(P,_,j)),f(P,N,!0,!0),i&&(y[N]=j)),g&&h==x&&C&&C.name!==x&&(!i&&b?p(T,"name",x):(D=!0,R=function(){return o(C,this)})),h)if(k={values:A(x),keys:v?R:A(w),entries:A(E)},S)for(M in k)(O||D||!(M in T))&&d(T,M,k[M]);else r({target:e,proto:!0,forced:O||D},k);return i&&!S||T[_]===R||d(T,_,R,{name:h}),y[e]=R,k}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(7),o=n(67),i=n(43),a=n(61),u=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=i(t),l=o(e,r),s=o(void 0===n?r:n,r),f=u(c(s-l,0)),p=0;l<s;l++,p++)a(f,p,t[l]);return f.length=p,f}},function(t,e,n){var r=n(7),o=n(62),i=n(35),a=n(32),u=n(89),c=n(140),l=n(43),s=n(58),f=n(141),p=n(115),d=n(142),h=r.TypeError,y=function(t,e){this.stopped=t,this.result=e},v=y.prototype;t.exports=function(t,e,n){var r,g,b,m,O,_,w,x=n&&n.that,E=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),P=o(e,x),k=function(t){return r&&d(r,"normal",t),new y(!0,t)},M=function(t){return E?(a(t),S?P(t[0],t[1],k):P(t[0],t[1])):S?P(t,k):P(t)};if(j)r=t;else{if(!(g=p(t)))throw h(u(t)+" is not iterable");if(c(g)){for(b=0,m=l(t);m>b;b++)if((O=M(t[b]))&&s(v,O))return O;return new y(!1)}r=f(t,g)}for(_=r.next;!(w=i(_,r)).done;){try{O=M(w.value)}catch(A){d(r,"throw",A)}if("object"==typeof O&&O&&s(v,O))return O}return new y(!1)}},function(t,e,n){var r=n(98),o=n(59),i=n(70),a=n(27)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[r(t)]}},function(t,e,n){var r={};r[n(27)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(7),o=n(58),i=r.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},function(t,e,n){var r=n(27)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(u){}return n}},function(t,e,n){var r=n(180);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){var r=n(18);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){n(19);var r=n(15),o=n(44),i=n(102),a=n(18),u=n(27),c=n(57),l=u("species"),s=RegExp.prototype;t.exports=function(t,e,n,f){var p=u(t),d=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!d||!h||n){var y=r(/./[p]),v=e(p,""[t],(function(t,e,n,o,a){var u=r(t),c=e.exec;return c===i||c===s.exec?d&&!a?{done:!0,value:y(e,n,o)}:{done:!0,value:u(n,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(s,p,v[1])}f&&c(s[p],"sham",!0)}},function(t,e,n){var r=n(146).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(7),o=n(35),i=n(32),a=n(28),u=n(50),c=n(102),l=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=o(n,t,e);return null!==r&&i(r),r}if("RegExp"===u(t))return o(c,t,e);throw l("RegExp#exec called on incompatible receiver")}},function(t,e,n){var r=n(76),o=n(35),i=n(15),a=n(122),u=n(18),c=n(32),l=n(28),s=n(68),f=n(90),p=n(40),d=n(45),h=n(123),y=n(59),v=n(197),g=n(124),b=n(27)("replace"),m=Math.max,O=Math.min,_=i([].concat),w=i([].push),x=i("".indexOf),E=i("".slice),j="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var i=S?"$":"$0";return[function(t,n){var r=d(this),i=null==t?void 0:y(t,b);return i?o(i,t,r,n):o(e,p(r),t,n)},function(t,o){var a=c(this),u=p(t);if("string"==typeof o&&-1===x(o,i)&&-1===x(o,"$<")){var d=n(e,a,u,o);if(d.done)return d.value}var y=l(o);y||(o=p(o));var b=a.global;if(b){var j=a.unicode;a.lastIndex=0}for(var S=[];;){var P=g(a,u);if(null===P)break;if(w(S,P),!b)break;""===p(P[0])&&(a.lastIndex=h(u,f(a.lastIndex),j))}for(var k,M="",A=0,N=0;N<S.length;N++){for(var D=p((P=S[N])[0]),T=m(O(s(P.index),u.length),0),C=[],R=1;R<P.length;R++)w(C,void 0===(k=P[R])?k:String(k));var I=P.groups;if(y){var L=_([D],C,T,u);void 0!==I&&w(L,I);var z=p(r(o,void 0,L))}else z=v(D,u,T,C,I,o);T>=A&&(M+=E(u,A,T)+z,A=T+D.length)}return M+E(u,A)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!j||S)},function(t,e,n){var r=n(50),o=n(7);t.exports="process"==r(o.process)},function(t,e,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(109);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(36),o=n(18),i=n(86);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(7),o=n(35),i=n(33),a=n(88),u=n(59),c=n(169),l=n(27),s=r.TypeError,f=l("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,r=u(t,f);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||a(n))return n;throw s("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,n){var r=n(15),o=n(34),i=n(39),a=n(132).indexOf,u=n(69),c=r([].push);t.exports=function(t,e){var n,r=i(t),l=0,s=[];for(n in r)!o(u,n)&&o(r,n)&&c(s,n);for(;e.length>l;)o(r,n=e[l++])&&(~a(s,n)||c(s,n));return s}},function(t,e,n){var r=n(39),o=n(67),i=n(43),a=function(t){return function(e,n,a){var u,c=r(e),l=i(c),s=o(a,l);if(t&&n!=n){for(;l>s;)if((u=c[s++])!=u)return!0}else for(;l>s;s++)if((t||s in c)&&c[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(46);t.exports=r("document","documentElement")},function(t,e,n){var r=n(34),o=n(135),i=n(51),a=n(37);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,l=0;l<n.length;l++){var s=n[l];r(t,s)||u(t,s,c(e,s))}}},function(t,e,n){var r=n(46),o=n(15),i=n(72),a=n(112),u=n(32),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=a.f;return n?c(e,n(t)):e}},function(t,e,n){var r,o,i,a=n(18),u=n(28),c=n(54),l=n(96),s=n(44),f=n(27),p=n(64),d=f("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):h=!0),null==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:p&&(r=c(r)),u(r[d])||s(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(18);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(16),o=n(15),i=n(69),a=n(33),u=n(34),c=n(37).f,l=n(72),s=n(139),f=n(174),p=n(85),d=n(176),h=!1,y=p("meta"),v=0,g=function(t){c(t,y,{value:{objectID:"O"+v++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},h=!0;var t=l.f,e=o([].splice),n={};n[y]=1,t(n).length&&(l.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===y){e(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,y)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[y].objectID},getWeakData:function(t,e){if(!u(t,y)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[y].weakData},onFreeze:function(t){return d&&h&&f(t)&&!u(t,y)&&g(t),t}};i[y]=!0},function(t,e,n){var r=n(50),o=n(39),i=n(72).f,a=n(113),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"==r(t)?function(t){try{return i(t)}catch(e){return a(u)}}(t):i(o(t))}},function(t,e,n){var r=n(27),o=n(70),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(7),o=n(35),i=n(55),a=n(32),u=n(89),c=n(115),l=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(i(n))return a(o(n,t));throw l(u(t)+" is not iterable")}},function(t,e,n){var r=n(35),o=n(32),i=n(59);t.exports=function(t,e,n){var a,u;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(c){u=!0,a=c}if("throw"===e)throw n;if(u)throw a;return o(a),n}},function(t,e,n){var r=n(28),o=n(33),i=n(97);t.exports=function(t,e,n){var a,u;return i&&r(a=e.constructor)&&a!==n&&o(u=a.prototype)&&u!==n.prototype&&i(t,u),t}},function(t,e,n){var r=n(44);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(46),o=n(37),i=n(27),a=n(36),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(15),o=n(68),i=n(40),a=n(45),u=r("".charAt),c=r("".charCodeAt),l=r("".slice),s=function(t){return function(e,n){var r,s,f=i(a(e)),p=o(n),d=f.length;return p<0||p>=d?t?"":void 0:(r=c(f,p))<55296||r>56319||p+1===d||(s=c(f,p+1))<56320||s>57343?t?u(f,p):r:t?l(f,p,p+2):s-56320+(r-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(86)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},function(t,e,n){var r=n(27);e.f=r},function(t,e,n){var r=n(181),o=n(34),i=n(149),a=n(37).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(18),o=n(7).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),u=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(t,e,n){var r=n(16),o=n(132).includes,i=n(83);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){var r=n(16),o=n(15),i=n(193),a=n(45),u=n(40),c=n(194),l=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(u(a(this)),u(i(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(33),o=n(50),i=n(27)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(he){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(he){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(he){r=a}}();var c,l=[],s=!1,f=-1;function p(){s&&c&&(s=!1,c.length?l=c.concat(l):f=-1,l.length&&d())}function d(){if(!s){var t=u(p);s=!0;for(var e=l.length;e;){for(c=l,l=[];++f<e;)c&&c[f].run();f=-1,e=l.length}c=null,s=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(he){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||s||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(32),o=n(157),i=n(27)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(7),o=n(100),i=n(89),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},function(t,e,n){var r=n(16),o=n(159).trim;r({target:"String",proto:!0,forced:n(195)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(15),o=n(45),i=n(40),a=n(160),u=r("".replace),c="["+a+"]",l=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),f=function(t){return function(e){var n=i(o(e));return 1&t&&(n=u(n,l,"")),2&t&&(n=u(n,s,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(35),o=n(122),i=n(32),a=n(90),u=n(40),c=n(45),l=n(59),s=n(123),f=n(124);o("match",(function(t,e,n){return[function(e){var n=c(this),o=null==e?void 0:l(e,t);return o?r(o,e,n):new RegExp(e)[t](u(n))},function(t){var r=i(this),o=u(t),c=n(e,r,o);if(c.done)return c.value;if(!r.global)return f(r,o);var l=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=f(r,o));){var y=u(p[0]);d[h]=y,""===y&&(r.lastIndex=s(o,a(r.lastIndex),l)),h++}return 0===h?null:d}]}))},function(t,e,n){var r,o,i,a,u=n(7),c=n(76),l=n(62),s=n(28),f=n(34),p=n(18),d=n(133),h=n(101),y=n(86),v=n(163),g=n(126),b=u.setImmediate,m=u.clearImmediate,O=u.process,_=u.Dispatch,w=u.Function,x=u.MessageChannel,E=u.String,j=0,S={},P="onreadystatechange";try{r=u.location}catch(D){}var k=function(t){if(f(S,t)){var e=S[t];delete S[t],e()}},M=function(t){return function(){k(t)}},A=function(t){k(t.data)},N=function(t){u.postMessage(E(t),r.protocol+"//"+r.host)};b&&m||(b=function(t){var e=h(arguments,1);return S[++j]=function(){c(s(t)?t:w(t),void 0,e)},o(j),j},m=function(t){delete S[t]},g?o=function(t){O.nextTick(M(t))}:_&&_.now?o=function(t){_.now(M(t))}:x&&!v?(a=(i=new x).port2,i.port1.onmessage=A,o=l(a.postMessage,a)):u.addEventListener&&s(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!p(N)?(o=N,u.addEventListener("message",A,!1)):o=P in y("script")?function(t){d.appendChild(y("script")).onreadystatechange=function(){d.removeChild(this),k(t)}}:function(t){setTimeout(M(t),0)}),t.exports={set:b,clear:m}},function(t,e,n){var r=n(53);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){var r=n(55),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){e.a=function(){return!1}},function(t,e,n){(function(t){n.d(e,"a",(function(){return m}));var r=n(0);function o(t,e){void 0===e&&(e="Illegal state"),t||function(t){throw new Error("[mobx-utils] "+t)}(e)}var i,a=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(a(Object.getPrototypeOf(t))||[])},u=function(t){return function(t){var e=a(t);return e.filter((function(t,n){return e.indexOf(t)===n}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))},c="pending",l="fulfilled",s="rejected";function f(t){switch(this.state){case c:return t.pending&&t.pending(this.value);case s:return t.rejected&&t.rejected(this.value);case l:return t.fulfilled?t.fulfilled(this.value):this.value}}function p(t,e){if(o(arguments.length<=2,"fromPromise expects up to two arguments"),o("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var n=t;t.then(Object(r.k)("observableFromPromise-resolve",(function(t){n.value=t,n.state=l})),Object(r.k)("observableFromPromise-reject",(function(t){n.value=t,n.state=s}))),n.isPromiseBasedObservable=!0,n.case=f;var i=e&&e.state===l?e.value:void 0;return Object(r.q)(n,{value:i,state:c},{},{deep:!1}),n}(i=p||(p={})).reject=Object(r.k)("fromPromise.reject",(function(t){var e=i(Promise.reject(t));return e.state=s,e.value=t,e})),i.resolve=Object(r.k)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var e=i(Promise.resolve(t));return e.state=l,e.value=t,e}));var d=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(){function t(t,e){var n=this;Object(r.G)((function(){n.current=e,n.subscription=t.subscribe(n)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},d([r.C.ref],t.prototype,"current",void 0),d([r.k.bound],t.prototype,"next",null),d([r.k.bound],t.prototype,"complete",null),d([r.k.bound],t.prototype,"error",null)}();var h=function(){return h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},h.apply(this,arguments)},y=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function g(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function b(t){return Object(r.A)(t)||Object(r.y)(t)||Object(r.z)(t)}function m(t,e){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(t,e){switch(t.type){case"add":i(t.newValue,e,t.name);break;case"update":a(t.oldValue),i(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":a(t.oldValue);break;case"splice":t.removed.map(a),t.added.forEach((function(n,r){return i(n,e,""+(t.index+r))}));for(var r=t.index+t.addedCount;r<t.object.length;r++)if(b(t.object[r])){var o=n.get(t.object[r]);o&&(o.path=""+r)}}}(r,o),e(r,g(o),t)}function i(t,e,a){if(b(t)){var u=n.get(t);if(u){if(u.parent!==e||u.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+g(e)+"/"+a+"', but it already exists at '"+g(u.parent)+"/"+u.path+"'")}else{var c={parent:e,path:a,dispose:Object(r.D)(t,o)};n.set(t,c),Object(r.p)(t).forEach((function(t){var e=t[0];return i(t[1],c,e)}))}}}function a(t){if(b(t)){var e=n.get(t);if(!e)return;n.delete(t),e.dispose(),Object(r.L)(t).forEach(a)}}return i(t,void 0,""),function(){a(t)}}!function(){function t(t){var e=this;this.model=t,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},o(Object(r.A)(t),"createViewModel expects an observable object"),u(t).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(o(-1===v.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.w)(t,n)){var i=Object(r.h)(t,n).derivation;e.localComputedValues.set(n,Object(r.m)(i.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,n),u=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,n,h(h({},u),{configurable:!0,get:function(){return Object(r.w)(t,n)?e.localComputedValues.get(n).get():e.isPropertyDirty(n)?e.localValues.get(n):e.model[n]},set:Object(r.k)((function(t){t!==e.model[n]?e.localValues.set(n,t):e.localValues.delete(n)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(r.B)(this.localValues).forEach((function(e){var n=t.localValues.get(e),o=t.model[e];Object(r.y)(o)?o.replace(n):Object(r.z)(o)?(o.clear(),o.merge(n)):Object(r.v)(n)||(t.model[e]=n)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},y([r.m],t.prototype,"isDirty",null),y([r.m],t.prototype,"changedValues",null),y([r.k.bound],t.prototype,"submit",null),y([r.k.bound],t.prototype,"reset",null),y([r.k.bound],t.prototype,"resetProperty",null)}();var O,_=(O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){function e(e,n,o){var i=void 0===o?{}:o,a=i.name,u=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,l=void 0===c?function(t){return""+t}:c,s=t.call(this)||this;s._keyToName=l,s._groupBy=n,s._ogmInfoKey=Symbol("ogmInfo"+u),s._base=e;for(var f=0;f<e.length;f++)s._addItem(e[f]);return s._disposeBaseObserver=Object(r.D)(s._base,(function(t){if("splice"===t.type)Object(r.J)((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];s._removeItem(r)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];s._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(r.J)((function(){s._removeItem(t.oldValue),s._addItem(t.newValue)}))}})),s}_(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var n=t.prototype.get.call(this,e);return void 0===n&&(n=Object(r.C)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,n)),n},e.prototype._removeFromGroupArr=function(e,n){var r=t.prototype.get.call(this,e);1===r.length?t.prototype.delete.call(this,e):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},e.prototype._addItem=function(t){var e=this,n=this._groupBy(t),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.F)((function(){return e._groupBy(t)}),(function(n,r){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(n),a=i.length;i.push(t),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(r.b),Promise.resolve(),"undefined"!=typeof queueMicrotask||void 0!==t&&t.nextTick}).call(this,n(155))},function(t,e,n){var r;!function(o,i,a){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();m.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},m.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);u=null},m.init=function(){var t=m(i);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},m.init(),o.Mousetrap=m,t.exports&&(t.exports=m),void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:l[t.which]?l[t.which]:String.fromCharCode(t.which).toLowerCase()}function y(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,n){return n||(n=function(){if(!u)for(var t in u={},c)t>95&&t<112||c.hasOwnProperty(t)&&(u[c[t]]=t);return u}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t,e){var n,r,o,i=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),e&&"keypress"!=e&&s[r]&&(r=s[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:e=v(r,i,e)}}function b(t,e){return null!==t&&t!==i&&(t===e||b(t.parentNode,e))}function m(t){var e=this;if(t=t||i,!(e instanceof m))return new m(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,a=!1,u=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function l(t,n,o,i,a,u){var c,l,s,f,p=[],d=o.type;if(!e._callbacks[t])return[];for("keyup"==d&&y(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(l=e._callbacks[t][c],(i||!l.seq||r[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(s=n,f=l.modifiers,s.sort().join(",")===f.sort().join(",")))){var h=!i&&l.combo==a,v=i&&l.seq==i&&l.level==u;(h||v)&&e._callbacks[t].splice(c,1),p.push(l)}return p}function s(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=h(t);n&&("keyup"!=t.type||o!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):o=!1)}function p(t,e,i,a){function l(e){return function(){u=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}function f(e){s(i,e,t),"keyup"!==a&&(o=h(e)),setTimeout(c,10)}r[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?f:l(a||g(e[p+1]).action);v(e[p],d,a,t,p)}}function v(t,n,r,o,i){e._directMap[t+":"+r]=n;var a,u=(t=t.replace(/\s+/g," ")).split(" ");u.length>1?p(t,u,n,r):(a=g(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],l(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){var r,o=l(t,e,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,s(o[r].callback,n,o[r].combo,o[r].seq)}else p||s(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=u||y(t)||d||c(i),a=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){var r=n(36),o=n(37),i=n(32),a=n(39),u=n(66);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),c=u(e),l=c.length,s=0;l>s;)o.f(t,n=c[s++],r[n]);return t}},function(t,e,n){var r=n(7),o=n(35),i=n(28),a=n(33),u=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!a(r=o(n,t)))return r;if(i(n=t.valueOf)&&!a(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!a(r=o(n,t)))return r;throw u("Can't convert object to primitive value")}},function(t,e,n){var r=n(7),o=n(28),i=n(92),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},function(t,e,n){var r=n(136).IteratorPrototype,o=n(54),i=n(71),a=n(73),u=n(70),c=function(){return this};t.exports=function(t,e,n,l){var s=e+" Iterator";return t.prototype=o(r,{next:i(+!l,n)}),a(t,s,!1,!0),u[s]=c,t}},function(t,e,n){var r=n(7),o=n(28),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},function(t,e,n){var r=n(16),o=n(7),i=n(15),a=n(95),u=n(44),c=n(138),l=n(114),s=n(117),f=n(28),p=n(33),d=n(18),h=n(118),y=n(73),v=n(143);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=g?"set":"add",O=o[t],_=O&&O.prototype,w=O,x={},E=function(t){var e=i(_[t]);u(_,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!f(O)||!(b||_.forEach&&!d((function(){(new O).entries().next()})))))w=n.getConstructor(e,t,g,m),c.enable();else if(a(t,!0)){var j=new w,S=j[m](b?{}:-0,1)!=j,P=d((function(){j.has(1)})),k=h((function(t){new O(t)})),M=!b&&d((function(){for(var t=new O,e=5;e--;)t[m](e,e);return!t.has(-0)}));k||((w=e((function(t,e){s(t,_);var n=v(new O,t,w);return null!=e&&l(e,n[m],{that:n,AS_ENTRIES:g}),n}))).prototype=_,_.constructor=w),(P||M)&&(E("delete"),E("has"),g&&E("get")),(M||S)&&E(m),b&&_.clear&&delete _.clear}return x[t]=w,r({global:!0,forced:w!=O},x),y(w,t),b||n.setStrong(w,t,g),w}},function(t,e,n){var r=n(18),o=n(33),i=n(50),a=n(175),u=Object.isExtensible,c=r((function(){}));t.exports=c||a?function(t){return!!o(t)&&(!a||"ArrayBuffer"!=i(t))&&(!u||u(t))}:u},function(t,e,n){var r=n(18);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,n){var r=n(18);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(37).f,o=n(54),i=n(144),a=n(62),u=n(117),c=n(114),l=n(111),s=n(145),f=n(36),p=n(138).fastKey,d=n(56),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,n,l){var s=t((function(t,r){u(t,d),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&c(r,t[l],{that:t,AS_ENTRIES:n})})),d=s.prototype,v=y(e),g=function(t,e,n){var r,o,i=v(t),a=b(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var n,r=v(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(d,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&r(d,"size",{get:function(){return v(this).size}}),s},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);l(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),s(e)}}},function(t,e,n){var r=n(116),o=n(98);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(74).forEach,o=n(120)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(7),o=n(99),i=n(100),a=n(33),u=n(27)("species"),c=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||a(e)&&null===(e=e[u]))&&(e=void 0)),void 0===e?c:e}},function(t,e,n){var r=n(7);t.exports=r},function(t,e,n){var r=n(7),o=n(62),i=n(35),a=n(38),u=n(183),c=n(140),l=n(100),s=n(43),f=n(61),p=n(141),d=n(115),h=r.Array;t.exports=function(t){var e=a(t),n=l(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=o(y,r>2?arguments[2]:void 0));var g,b,m,O,_,w,x=d(e),E=0;if(!x||this==h&&c(x))for(g=s(e),b=n?new this(g):h(g);g>E;E++)w=v?y(e[E],E):e[E],f(b,E,w);else for(_=(O=p(e,x)).next,b=n?new this:[];!(m=i(_,O)).done;E++)w=v?u(O,y,[m.value,E],!0):m.value,f(b,E,w);return b.length=E,b}},function(t,e,n){var r=n(32),o=n(142);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){o(t,"throw",a)}}},function(t,e,n){var r=n(32);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(18),o=n(7).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(18),o=n(7).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){var r=n(16),o=n(15),i=n(55),a=n(38),u=n(43),c=n(40),l=n(18),s=n(188),f=n(120),p=n(189),d=n(190),h=n(65),y=n(191),v=[],g=o(v.sort),b=o(v.push),m=l((function(){v.sort(void 0)})),O=l((function(){v.sort(null)})),_=f("sort"),w=!l((function(){if(h)return h<70;if(!(p&&p>3)){if(d)return!0;if(y)return y<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:m||!O||!_||!w},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(w)return void 0===t?g(e):g(e,t);var n,r,o=[],l=u(e);for(r=0;r<l;r++)r in e&&b(o,e[r]);for(s(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=o.length,r=0;r<n;)e[r]=o[r++];for(;r<l;)delete e[r++];return e}})},function(t,e,n){var r=n(113),o=Math.floor,i=function(t,e){var n=t.length,c=o(n/2);return n<8?a(t,e):u(t,i(r(t,0,c),e),i(r(t,c),e),e)},a=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},u=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?r(e[a],n[u])<=0?e[a++]:n[u++]:a<o?e[a++]:n[u++];return t};t.exports=i},function(t,e,n){var r=n(53).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(53);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(53).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(16),o=n(74).find,i=n(83),a="find",u=!0;a in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},function(t,e,n){var r=n(7),o=n(154),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(27)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},function(t,e,n){var r=n(94).PROPER,o=n(18),i=n(160);t.exports=function(t){return o((function(){return!!i[t]()||"​᠎"!=="​᠎"[t]()||r&&i[t].name!==t}))}},function(t,e,n){var r=n(15);t.exports=r(1..valueOf)},function(t,e,n){var r=n(15),o=n(38),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,p){var d=n+t.length,h=r.length,y=s;return void 0!==f&&(f=o(f),y=l),u(p,y,(function(o,u){var l;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":l=f[c(u,1,-1)];break;default:var s=+u;if(0===s)return o;if(s>h){var p=i(s/10);return 0===p?o:p<=h?void 0===r[p-1]?a(u,1):r[p-1]+a(u,1):o}l=r[s-1]}return void 0===l?"":l}))}},function(t,e,n){var r=n(36),o=n(15),i=n(35),a=n(18),u=n(66),c=n(112),l=n(93),s=n(38),f=n(81),p=Object.assign,d=Object.defineProperty,h=o([].concat);t.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||u(p({},e)).join("")!=o}))?function(t,e){for(var n=s(t),o=arguments.length,a=1,p=c.f,d=l.f;o>a;)for(var y,v=f(arguments[a++]),g=p?h(u(v),p(v)):u(v),b=g.length,m=0;b>m;)y=g[m++],r&&!i(d,v,y)||(n[y]=v[y]);return n}:p},function(t,e,n){var r=n(7),o=n(15),i=n(55),a=n(33),u=n(34),c=n(101),l=r.Function,s=o([].concat),f=o([].join),p={},d=function(t,e,n){if(!u(p,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";p[e]=l("C,a","return new C("+f(r,",")+")")}return p[e](t,n)};t.exports=l.bind||function(t){var e=i(this),n=e.prototype,r=c(arguments,1),o=function(){var n=s(r,c(arguments));return this instanceof o?d(e,n.length,n):e.apply(t,n)};return a(n)&&(o.prototype=n),o}},function(t,e,n){var r=n(34);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){var r=n(15),o=n(45),i=n(40),a=/"/g,u=r("".replace);t.exports=function(t,e,n,r){var c=i(o(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+u(i(r),a,"&quot;")+'"'),l+">"+c+"</"+e+">"}},function(t,e,n){var r=n(18);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var r=n(16),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,u=0,c=arguments.length,l=0;u<c;)l<(n=i(arguments[u++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*a(o)}})},function(t,e,n){var r,o,i,a,u=n(16),c=n(64),l=n(7),s=n(46),f=n(35),p=n(205),d=n(44),h=n(144),y=n(97),v=n(73),g=n(145),b=n(55),m=n(28),O=n(33),_=n(117),w=n(92),x=n(114),E=n(118),j=n(156),S=n(162).set,P=n(206),k=n(209),M=n(210),A=n(164),N=n(211),D=n(56),T=n(95),C=n(27),R=n(212),I=n(126),L=n(65),z=C("species"),B="Promise",H=D.getterFor(B),F=D.set,V=D.getterFor(B),X=p&&p.prototype,G=p,Y=X,U=l.TypeError,W=l.document,K=l.process,$=A.f,q=$,Z=!!(W&&W.createEvent&&l.dispatchEvent),J=m(l.PromiseRejectionEvent),Q="unhandledrejection",tt=!1,et=T(B,(function(){var t=w(G),e=t!==String(G);if(!e&&66===L)return!0;if(c&&!Y.finally)return!0;if(L>=51&&/native code/.test(t))return!1;var n=new G((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[z]=r,!(tt=n.then((function(){}))instanceof r)||!e&&R&&!J})),nt=et||!E((function(t){G.all(t).catch((function(){}))})),rt=function(t){var e;return!(!O(t)||!m(e=t.then))&&e},ot=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;P((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,u,c,l=n[i++],s=o?l.ok:l.fail,p=l.resolve,d=l.reject,h=l.domain;try{s?(o||(2===t.rejection&&ct(t),t.rejection=1),!0===s?a=r:(h&&h.enter(),a=s(r),h&&(h.exit(),c=!0)),a===l.promise?d(U("Promise-chain cycle")):(u=rt(a))?f(u,a,p,d):p(a)):d(r)}catch(y){h&&!c&&h.exit(),d(y)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&at(t)}))}},it=function(t,e,n){var r,o;Z?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!J&&(o=l["on"+t])?o(r):t===Q&&M("Unhandled promise rejection",n)},at=function(t){f(S,l,(function(){var e,n=t.facade,r=t.value;if(ut(t)&&(e=N((function(){I?K.emit("unhandledRejection",r,n):it(Q,n,r)})),t.rejection=I||ut(t)?2:1,e.error))throw e.value}))},ut=function(t){return 1!==t.rejection&&!t.parent},ct=function(t){f(S,l,(function(){var e=t.facade;I?K.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},lt=function(t,e,n){return function(r){t(e,r,n)}},st=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ot(t,!0))},ft=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw U("Promise can't be resolved itself");var r=rt(e);r?P((function(){var n={done:!1};try{f(r,e,lt(ft,n,t),lt(st,n,t))}catch(o){st(n,o,t)}})):(t.value=e,t.state=1,ot(t,!1))}catch(o){st({done:!1},o,t)}}};if(et&&(Y=(G=function(t){_(this,Y),b(t),f(r,this);var e=H(this);try{t(lt(ft,e),lt(st,e))}catch(n){st(e,n)}}).prototype,(r=function(t){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(Y,{then:function(t,e){var n=V(this),r=n.reactions,o=$(j(this,G));return o.ok=!m(t)||t,o.fail=m(e)&&e,o.domain=I?K.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&ot(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=H(t);this.promise=t,this.resolve=lt(ft,e),this.reject=lt(st,e)},A.f=$=function(t){return t===G||t===i?new o(t):q(t)},!c&&m(p)&&X!==Object.prototype)){a=X.then,tt||(d(X,"then",(function(t,e){var n=this;return new G((function(t,e){f(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(X,"catch",Y.catch,{unsafe:!0}));try{delete X.constructor}catch(pt){}y&&y(X,Y)}u({global:!0,wrap:!0,forced:et},{Promise:G}),v(G,B,!1,!0),g(B),i=s(B),u({target:B,stat:!0,forced:et},{reject:function(t){var e=$(this);return f(e.reject,void 0,t),e.promise}}),u({target:B,stat:!0,forced:c||et},{resolve:function(t){return k(c&&this===i?G:this,t)}}),u({target:B,stat:!0,forced:nt},{all:function(t){var e=this,n=$(e),r=n.resolve,o=n.reject,i=N((function(){var n=b(e.resolve),i=[],a=0,u=1;x(t,(function(t){var c=a++,l=!1;u++,f(n,e,t).then((function(t){l||(l=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=$(e),r=n.reject,o=N((function(){var o=b(e.resolve);x(t,(function(t){f(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(7);t.exports=r.Promise},function(t,e,n){var r,o,i,a,u,c,l,s,f=n(7),p=n(62),d=n(51).f,h=n(162).set,y=n(163),v=n(207),g=n(208),b=n(126),m=f.MutationObserver||f.WebKitMutationObserver,O=f.document,_=f.process,w=f.Promise,x=d(f,"queueMicrotask"),E=x&&x.value;E||(r=function(){var t,e;for(b&&(t=_.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(n){throw o?a():i=void 0,n}}i=void 0,t&&t.enter()},y||b||g||!m||!O?!v&&w&&w.resolve?((l=w.resolve(void 0)).constructor=w,s=p(l.then,l),a=function(){s(r)}):b?a=function(){_.nextTick(r)}:(h=p(h,f),a=function(){h(r)}):(u=!0,c=O.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u})),t.exports=E||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(53),o=n(7);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(t,e,n){var r=n(53);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(32),o=n(33),i=n(164);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(7);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){var r=n(36),o=n(15),i=n(66),a=n(39),u=o(n(93).f),c=o([].push),l=function(t){return function(e){for(var n,o=a(e),l=i(o),s=l.length,f=0,p=[];s>f;)n=l[f++],r&&!u(o,n)||c(p,t?[n,o[n]]:o[n]);return p}};t.exports={entries:l(!0),values:l(!1)}},function(t,e,n){var r=n(38),o=n(67),i=n(43);t.exports=function(t){for(var e=r(this),n=i(e),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>u;)e[u++]=t;return e}},function(t,e,n){n.r(e),n.d(e,"observer",(function(){return vO})),n.d(e,"LogicFlow",(function(){return yO})),n.d(e,"h",(function(){return J.g})),n.d(e,"LogicFlowUtil",(function(){return r})),n.d(e,"BaseNode",(function(){return Wy})),n.d(e,"RectNode",(function(){return nv})),n.d(e,"CircleNode",(function(){return fv})),n.d(e,"PolygonNode",(function(){return Ev})),n.d(e,"DiamondNode",(function(){return Tv})),n.d(e,"EllipseNode",(function(){return Uv})),n.d(e,"TextNode",(function(){return rg})),n.d(e,"HtmlNode",(function(){return hg})),n.d(e,"BaseEdge",(function(){return eb})),n.d(e,"LineEdge",(function(){return hb})),n.d(e,"PolylineEdge",(function(){return Db})),n.d(e,"BezierEdge",(function(){return Xb})),n.d(e,"Arrow",(function(){return Qb})),n.d(e,"BaseEdgeModel",(function(){return pu})),n.d(e,"BezierEdgeModel",(function(){return dp})),n.d(e,"LineEdgeModel",(function(){return Mu})),n.d(e,"PolylineEdgeModel",(function(){return Wu})),n.d(e,"BaseNodeModel",(function(){return Sp})),n.d(e,"CircleNodeModel",(function(){return Yp})),n.d(e,"DiamondNodeModel",(function(){return pd})),n.d(e,"EllipseNodeModel",(function(){return Ad})),n.d(e,"PolygonNodeModel",(function(){return qd})),n.d(e,"RectNodeModel",(function(){return bh})),n.d(e,"TextNodeModel",(function(){return Th})),n.d(e,"HtmlNodeModel",(function(){return Wh})),n.d(e,"EditConfigModel",(function(){return Lo})),n.d(e,"GraphModel",(function(){return pl})),n.d(e,"SnaplineModel",(function(){return Qh})),n.d(e,"Keyboard",(function(){return iO})),n.d(e,"get",(function(){return Pf})),n.d(e,"defaults",(function(){return Af}));var r={};n.r(r),n.d(r,"createUuid",(function(){return la})),n.d(r,"refreshGraphId",(function(){return sa})),n.d(r,"createDrag",(function(){return zc})),n.d(r,"StepDrag",(function(){return Jc}));var o=n(0),i=n(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),u=Object(a.b)("observerBatching");function c(t){t()}function l(t){return Object(o.t)(t)}var s,f=1e4,p=new Set;function d(){void 0===s&&(s=setTimeout(h,1e4))}function h(){s=void 0;var t=Date.now();p.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,p.delete(e))})),p.size>0&&d()}var y=!1,v=[],g={};function b(t){return"observer"+t}function m(t,e,n){void 0===e&&(e="observed"),void 0===n&&(n=g);var r,u=function(t){return function(){y?v.push(t):t()}}((n.useForceUpdate||a.d)()),c=i.d.useRef(null);if(!c.current){var s=new o.c(b(e),(function(){h.mounted?u():(s.dispose(),c.current=null)})),h=function(t){return{cleanAt:Date.now()+f,reaction:t}}(s);c.current=h,r=c,p.add(r),d()}var m=c.current.reaction;return i.d.useDebugValue(m,l),i.d.useEffect((function(){var t;return t=c,p.delete(t),c.current?c.current.mounted=!0:(c.current={reaction:new o.c(b(e),(function(){u()})),cleanAt:1/0},u()),function(){c.current.reaction.dispose(),c.current=null}}),[]),function(t){y=!0,v=[];try{var e=t();y=!1;var n=v.length>0?v:void 0;return i.d.useLayoutEffect((function(){n&&n.forEach((function(t){return t()}))}),[n]),e}finally{y=!1}}((function(){var e,n;if(m.track((function(){try{e=t()}catch(he){n=he}})),n)throw n;return e}))}var O=function(){return O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},O.apply(this,arguments)};function _(t,e){var n,r,o,a=O({forwardRef:!1},e),u=t.displayName||t.name,c=function(e,n){return m((function(){return t(e,n)}),u)};return c.displayName=u,n=a.forwardRef?Object(i.f)(Object(i.e)(c)):Object(i.f)(c),r=t,o=n,Object.keys(r).forEach((function(t){x[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})),n.displayName=u,n}var w,x={$$typeof:!0,render:!0,compare:!0,type:!0};function E(t){var e=t.children,n=t.render,r=e||n;return"function"!=typeof r?null:m(r)}function j(t,e,n,r,o){var i="children"===e?"render":"children",a="function"==typeof t[e],u="function"==typeof t[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}E.propTypes={children:j,render:j},E.displayName="Observer",(w=i.g)||(w=c),Object(o.n)({reactionScheduler:w}),Object(a.a)()[u]=!0;var S=0,P={};function k(t){return P[t]||(P[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+S+")";return S++,e}(t)),P[t]}function M(t,e){if(A(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!A(t[n[o]],e[n[o]]))return!1;return!0}function A(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function N(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var D=k("patchMixins"),T=k("patchedDefinition");function C(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.locks++;try{var a;return null!=t&&(a=t.apply(this,o)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,o)}))}}function R(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];C.call.apply(C,[this,t,e].concat(r))}}function I(t,e,n){var r=function(t,e){var n=t[D]=t[D]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[T]){var i=t[e],a=L(t,e,o?o.enumerable:void 0,r,i);Object.defineProperty(t,e,a)}}function L(t,e,n,r,o){var i,a=R(o,r);return(i={})[T]=!0,i.get=function(){return a},i.set=function(o){if(this===t)a=R(o,r);else{var i=L(this,e,n,r,o);Object.defineProperty(this,e,i)}},i.configurable=!0,i.enumerable=n,i}var z=o.a||"$mobx",B=k("isMobXReactObserver"),H=k("isUnmounted"),F=k("skipRender"),V=k("isForcingUpdate");function X(t){var e=t.prototype;if(t[B]){var n=G(e);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else t[B]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==i.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==U)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=U;W(e,"props"),W(e,"state");var r=e.render;return e.render=function(){return Y.call(this,r)},I(e,"componentWillUnmount",(function(){var t;if(null===(t=this.render[z])||void 0===t||t.dispose(),this[H]=!0,!this.render[z]){var e=G(this);console.warn("The reactive render of an observer class component ("+e+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),t}function G(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Y(t){var e=this;N(this,F,!1),N(this,V,!1);var n=G(this),r=t.bind(this),a=!1,u=new o.c(n+".render()",(function(){if(!a&&(a=!0,!0!==e[H])){var t=!0;try{N(e,V,!0),e[F]||i.a.prototype.forceUpdate.call(e),t=!1}finally{N(e,V,!1),t&&u.dispose()}}}));function c(){a=!1;var t=void 0,e=void 0;if(u.track((function(){try{e=Object(o.d)(!1,r)}catch(he){t=he}})),t)throw t;return e}return u.reactComponent=this,c[z]=u,this.render=c,c.call(this)}function U(t,e){return this.state!==e||!M(this.props,t)}function W(t,e){var n=k("reactProp_"+e+"_valueHolder"),r=k("reactProp_"+e+"_atomHolder");function i(){return this[r]||N(this,r,Object(o.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return o.f&&o.e&&(t=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(t),this[n]},set:function(t){this[V]||M(this[n],t)?N(this,n,t):(N(this,n,t),N(this,F,!0),i.call(this).reportChanged(),N(this,F,!1))}})}var K="function"==typeof Symbol&&Symbol.for,$=K?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(t){return null})).$$typeof,q=K?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(t){return null})).$$typeof;function Z(t){if(!0===t.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),q&&t.$$typeof===q)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if($&&t.$$typeof===$){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var t=arguments;return Object(i.c)(E,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(i.a,t)?X(t):_(t)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");var J=n(1);n(3),n(60),n(2),n(6),n(4),n(11),n(41),n(24),n(20),n(5),n(22),n(21),n(23),n(8),n(9),n(17),n(25),n(19),n(29),n(187),n(192),n(103),n(152),n(153);var Q=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},tt=function(){this.__data__=[],this.size=0},et=function(t,e){return t===e||t!=t&&e!=e},nt=function(t,e){for(var n=t.length;n--;)if(et(t[n][0],e))return n;return-1},rt=Array.prototype.splice,ot=function(t){var e=this.__data__,n=nt(e,t);return!(n<0||(n==e.length-1?e.pop():rt.call(e,n,1),--this.size,0))},it=function(t){var e=this.__data__,n=nt(e,t);return n<0?void 0:e[n][1]},at=function(t){return nt(this.__data__,t)>-1},ut=function(t,e){var n=this.__data__,r=nt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function ct(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ct.prototype.clear=tt,ct.prototype.delete=ot,ct.prototype.get=it,ct.prototype.has=at,ct.prototype.set=ut;var lt,st=ct,ft=function(){this.__data__=new st,this.size=0},pt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},dt=function(t){return this.__data__.get(t)},ht=function(t){return this.__data__.has(t)},yt=n(31),vt=yt.a.Symbol,gt=Object.prototype,bt=gt.hasOwnProperty,mt=gt.toString,Ot=vt?vt.toStringTag:void 0,_t=function(t){var e=bt.call(t,Ot),n=t[Ot];try{t[Ot]=void 0;var r=!0}catch(he){}var o=mt.call(t);return r&&(e?t[Ot]=n:delete t[Ot]),o},wt=Object.prototype.toString,xt=function(t){return wt.call(t)},Et=vt?vt.toStringTag:void 0,jt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Et&&Et in Object(t)?_t(t):xt(t)},St=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Pt=function(t){if(!St(t))return!1;var e=jt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},kt=yt.a["__core-js_shared__"],Mt=(lt=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",At=function(t){return!!Mt&&Mt in t},Nt=Function.prototype.toString,Dt=function(t){if(null!=t){try{return Nt.call(t)}catch(he){}try{return t+""}catch(he){}}return""},Tt=/^\[object .+?Constructor\]$/,Ct=Function.prototype,Rt=Object.prototype,It=Ct.toString,Lt=Rt.hasOwnProperty,zt=RegExp("^"+It.call(Lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=function(t){return!(!St(t)||At(t))&&(Pt(t)?zt:Tt).test(Dt(t))},Ht=function(t,e){return null==t?void 0:t[e]},Ft=function(t,e){var n=Ht(t,e);return Bt(n)?n:void 0},Vt=Ft(yt.a,"Map"),Xt=Ft(Object,"create"),Gt=function(){this.__data__=Xt?Xt(null):{},this.size=0},Yt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ut=Object.prototype.hasOwnProperty,Wt=function(t){var e=this.__data__;if(Xt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ut.call(e,t)?e[t]:void 0},Kt=Object.prototype.hasOwnProperty,$t=function(t){var e=this.__data__;return Xt?void 0!==e[t]:Kt.call(e,t)},qt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Xt&&void 0===e?"__lodash_hash_undefined__":e,this};function Zt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zt.prototype.clear=Gt,Zt.prototype.delete=Yt,Zt.prototype.get=Wt,Zt.prototype.has=$t,Zt.prototype.set=qt;var Jt=Zt,Qt=function(){this.size=0,this.__data__={hash:new Jt,map:new(Vt||st),string:new Jt}},te=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},ee=function(t,e){var n=t.__data__;return te(e)?n["string"==typeof e?"string":"hash"]:n.map},ne=function(t){var e=ee(this,t).delete(t);return this.size-=e?1:0,e},re=function(t){return ee(this,t).get(t)},oe=function(t){return ee(this,t).has(t)},ie=function(t,e){var n=ee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ae(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ae.prototype.clear=Qt,ae.prototype.delete=ne,ae.prototype.get=re,ae.prototype.has=oe,ae.prototype.set=ie;var ue=ae,ce=function(t,e){var n=this.__data__;if(n instanceof st){var r=n.__data__;if(!Vt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ue(r)}return n.set(t,e),this.size=n.size,this};function le(t){var e=this.__data__=new st(t);this.size=e.size}le.prototype.clear=ft,le.prototype.delete=pt,le.prototype.get=dt,le.prototype.has=ht,le.prototype.set=ce;var se=le,fe=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},pe=function(t){return this.__data__.has(t)};function de(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ue;++e<n;)this.add(t[e])}de.prototype.add=de.prototype.push=fe,de.prototype.has=pe;var ye=de,ve=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},ge=function(t,e){return t.has(e)},be=function(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(t),s=i.get(e);if(l&&s)return l==e&&s==t;var f=-1,p=!0,d=2&n?new ye:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var h=t[f],y=e[f];if(r)var v=a?r(y,h,f,e,t,i):r(h,y,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!ve(e,(function(t,e){if(!ge(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},me=yt.a.Uint8Array,Oe=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},_e=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},we=vt?vt.prototype:void 0,xe=we?we.valueOf:void 0,Ee=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new me(t),new me(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return et(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Oe;case"[object Set]":var c=1&r;if(u||(u=_e),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var s=be(u(t),u(e),r,o,i,a);return a.delete(t),s;case"[object Symbol]":if(xe)return xe.call(t)==xe.call(e)}return!1},je=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Se=Array.isArray,Pe=function(t,e,n){var r=e(t);return Se(t)?r:je(r,n(t))},ke=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i},Me=function(){return[]},Ae=Object.prototype.propertyIsEnumerable,Ne=Object.getOwnPropertySymbols,De=Ne?function(t){return null==t?[]:(t=Object(t),ke(Ne(t),(function(e){return Ae.call(t,e)})))}:Me,Te=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Ce=function(t){return null!=t&&"object"==typeof t},Re=function(t){return Ce(t)&&"[object Arguments]"==jt(t)},Ie=Object.prototype,Le=Ie.hasOwnProperty,ze=Ie.propertyIsEnumerable,Be=Re(function(){return arguments}())?Re:function(t){return Ce(t)&&Le.call(t,"callee")&&!ze.call(t,"callee")},He=Be,Fe=n(48),Ve=/^(?:0|[1-9]\d*)$/,Xe=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ve.test(t))&&t>-1&&t%1==0&&t<e},Ge=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Ue=function(t){return Ce(t)&&Ge(t.length)&&!!Ye[jt(t)]},We=function(t){return function(e){return t(e)}},Ke=n(49),$e=Ke.a&&Ke.a.isTypedArray,qe=$e?We($e):Ue,Ze=Object.prototype.hasOwnProperty,Je=function(t,e){var n=Se(t),r=!n&&He(t),o=!n&&!r&&Object(Fe.a)(t),i=!n&&!r&&!o&&qe(t),a=n||r||o||i,u=a?Te(t.length,String):[],c=u.length;for(var l in t)!e&&!Ze.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Xe(l,c))||u.push(l);return u},Qe=Object.prototype,tn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Qe)},en=function(t,e){return function(n){return t(e(n))}},nn=en(Object.keys,Object),rn=Object.prototype.hasOwnProperty,on=function(t){if(!tn(t))return nn(t);var e=[];for(var n in Object(t))rn.call(t,n)&&"constructor"!=n&&e.push(n);return e},an=function(t){return null!=t&&Ge(t.length)&&!Pt(t)},un=function(t){return an(t)?Je(t):on(t)},cn=function(t){return Pe(t,un,De)},ln=Object.prototype.hasOwnProperty,sn=function(t,e,n,r,o,i){var a=1&n,u=cn(t),c=u.length;if(c!=cn(e).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in e:ln.call(e,s)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++l<c;){var y=t[s=u[l]],v=e[s];if(r)var g=a?r(v,y,s,e,t,i):r(y,v,s,t,e,i);if(!(void 0===g?y===v||o(y,v,n,r,i):g)){d=!1;break}h||(h="constructor"==s)}if(d&&!h){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},fn=Ft(yt.a,"DataView"),pn=Ft(yt.a,"Promise"),dn=Ft(yt.a,"Set"),hn=Ft(yt.a,"WeakMap"),yn="[object Map]",vn="[object Promise]",gn="[object Set]",bn="[object WeakMap]",mn="[object DataView]",On=Dt(fn),_n=Dt(Vt),wn=Dt(pn),xn=Dt(dn),En=Dt(hn),jn=jt;(fn&&jn(new fn(new ArrayBuffer(1)))!=mn||Vt&&jn(new Vt)!=yn||pn&&jn(pn.resolve())!=vn||dn&&jn(new dn)!=gn||hn&&jn(new hn)!=bn)&&(jn=function(t){var e=jt(t),n="[object Object]"==e?t.constructor:void 0,r=n?Dt(n):"";if(r)switch(r){case On:return mn;case _n:return yn;case wn:return vn;case xn:return gn;case En:return bn}return e});var Sn=jn,Pn="[object Arguments]",kn="[object Array]",Mn="[object Object]",An=Object.prototype.hasOwnProperty,Nn=function(t,e,n,r,o,i){var a=Se(t),u=Se(e),c=a?kn:Sn(t),l=u?kn:Sn(e),s=(c=c==Pn?Mn:c)==Mn,f=(l=l==Pn?Mn:l)==Mn,p=c==l;if(p&&Object(Fe.a)(t)){if(!Object(Fe.a)(e))return!1;a=!0,s=!1}if(p&&!s)return i||(i=new se),a||qe(t)?be(t,e,n,r,o,i):Ee(t,e,c,n,r,o,i);if(!(1&n)){var d=s&&An.call(t,"__wrapped__"),h=f&&An.call(e,"__wrapped__");if(d||h){var y=d?t.value():t,v=h?e.value():e;return i||(i=new se),o(y,v,n,r,i)}}return!!p&&(i||(i=new se),sn(t,e,n,r,o,i))},Dn=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Ce(e)&&!Ce(n)?e!=e&&n!=n:Nn(e,n,r,o,t,i))},Tn=function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new se;if(r)var p=r(l,s,c,t,e,f);if(!(void 0===p?Dn(s,l,3,r,f):p))return!1}}return!0},Cn=function(t){return t==t&&!St(t)},Rn=function(t){for(var e=un(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Cn(o)]}return e},In=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Ln=function(t){var e=Rn(t);return 1==e.length&&e[0][2]?In(e[0][0],e[0][1]):function(n){return n===t||Tn(n,t,e)}},zn=function(t){return"symbol"==typeof t||Ce(t)&&"[object Symbol]"==jt(t)},Bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hn=/^\w*$/,Fn=function(t,e){if(Se(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!zn(t))||Hn.test(t)||!Bn.test(t)||null!=e&&t in Object(e)};function Vn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Vn.Cache||ue),n}Vn.Cache=ue;var Xn,Gn,Yn,Un,Wn,Kn,$n,qn,Zn,Jn,Qn,tr,er,nr,rr,or,ir,ar,ur,cr,lr,sr,fr=Vn,pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dr=/\\(\\)?/g,hr=(Xn=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(pr,(function(t,n,r,o){e.push(r?o.replace(dr,"$1"):n||t)})),e},Gn=fr(Xn,(function(t){return 500===Yn.size&&Yn.clear(),t})),Yn=Gn.cache,Gn),yr=vt?vt.prototype:void 0,vr=yr?yr.toString:void 0,gr=function t(e){if("string"==typeof e)return e;if(Se(e))return Q(e,t)+"";if(zn(e))return vr?vr.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},br=function(t){return null==t?"":gr(t)},mr=function(t,e){return Se(t)?t:Fn(t,e)?[t]:hr(br(t))},Or=function(t){if("string"==typeof t||zn(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},_r=function(t,e){for(var n=0,r=(e=mr(e,t)).length;null!=t&&n<r;)t=t[Or(e[n++])];return n&&n==r?t:void 0},wr=function(t,e,n){var r=null==t?void 0:_r(t,e);return void 0===r?n:r},xr=function(t,e){return null!=t&&e in Object(t)},Er=function(t,e,n){for(var r=-1,o=(e=mr(e,t)).length,i=!1;++r<o;){var a=Or(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Ge(o)&&Xe(a,o)&&(Se(t)||He(t))},jr=function(t,e){return null!=t&&Er(t,e,xr)},Sr=function(t,e){return Fn(t)&&Cn(e)?In(Or(t),e):function(n){var r=wr(n,t);return void 0===r&&r===e?jr(n,t):Dn(e,r,3)}},Pr=function(t){return t},kr=function(t){return function(e){return null==e?void 0:e[t]}},Mr=function(t){return function(e){return _r(e,t)}},Ar=function(t){return Fn(t)?kr(Or(t)):Mr(t)},Nr=function(t){return"function"==typeof t?t:null==t?Pr:"object"==typeof t?Se(t)?Sr(t[0],t[1]):Ln(t):Ar(t)},Dr=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[Un?a:++r];if(!1===e(o[u],u,o))break}return t},Tr=function(t,e){return function(n,r){if(null==n)return n;if(!an(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(t,e){return t&&Dr(t,e,un)})),Cr=function(t,e){var n=-1,r=an(t)?Array(t.length):[];return Tr(t,(function(t,o,i){r[++n]=e(t,o,i)})),r},Rr=function(t,e){return(Se(t)?Q:Cr)(t,Nr(e))},Ir=function(){try{var t=Ft(Object,"defineProperty");return t({},"",{}),t}catch(he){}}(),Lr=function(t,e,n){"__proto__"==e&&Ir?Ir(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},zr=Object.prototype.hasOwnProperty,Br=function(t,e,n){var r=t[e];zr.call(t,e)&&et(r,n)&&(void 0!==n||e in t)||Lr(t,e,n)},Hr=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),o?Lr(n,u,c):Br(n,u,c)}return n},Fr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Vr=Math.max,Xr=function(t,e,n){return e=Vr(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Vr(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Fr(t,this,u)}},Gr=function(t){return function(){return t}},Yr=Ir?function(t,e){return Ir(t,"toString",{configurable:!0,enumerable:!1,value:Gr(e),writable:!0})}:Pr,Ur=Date.now,Wr=function(t){var e=0,n=0;return function(){var r=Ur(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},Kr=Wr(Yr),$r=function(t,e){return Kr(Xr(t,e,Pr),t+"")},qr=function(t,e,n){if(!St(n))return!1;var r=typeof e;return!!("number"==r?an(n)&&Xe(e,n.length):"string"==r&&e in n)&&et(n[e],t)},Zr=function(t){return $r((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&qr(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e}))},Jr=Object.prototype.hasOwnProperty,Qr=Zr((function(t,e){if(tn(e)||an(e))Hr(e,un(e),t);else for(var n in e)Jr.call(e,n)&&Br(t,n,e[n])})),to=function(t,e,n,r){if(!St(t))return t;for(var o=-1,i=(e=mr(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c=Or(e[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var s=u[c];void 0===(l=r?r(s,c,u):void 0)&&(l=St(s)?s:Xe(e[o+1])?[]:{})}Br(u,c,l),u=u[c]}return t},eo=function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=_r(t,a);n(u,a)&&to(i,mr(a,t),u)}return i},no=function(t,e){return eo(t,e,(function(e,n){return jr(t,n)}))},ro=vt?vt.isConcatSpreadable:void 0,oo=function(t){return Se(t)||He(t)||!!(ro&&t&&t[ro])},io=function t(e,n,r,o,i){var a=-1,u=e.length;for(r||(r=oo),i||(i=[]);++a<u;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,o,i):je(i,c):o||(i[i.length]=c)}return i},ao=function(t){return null!=t&&t.length?io(t,1):[]},uo=function(t){return Kr(Xr(t,void 0,ao),t+"")}((function(t,e){return null==t?{}:no(t,e)}));function co(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function so(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fo(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var po,ho,yo,vo,go,bo,mo,Oo,_o,wo,xo,Eo,jo,So,Po,ko,Mo,Ao,No,Do,To,Co,Ro={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Io=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Lo=(Kn=fo((Wn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),co(this,"isSilentMode",Kn,this),co(this,"stopZoomGraph",$n,this),co(this,"stopScrollGraph",qn,this),co(this,"stopMoveGraph",Zn,this),co(this,"adjustEdge",Jn,this),co(this,"adjustEdgeMiddle",Qn,this),co(this,"adjustEdgeStartAndEnd",tr,this),co(this,"adjustNodePosition",er,this),co(this,"hideAnchors",nr,this),co(this,"hoverOutline",rr,this),co(this,"nodeSelectedOutline",or,this),co(this,"edgeSelectedOutline",ir,this),co(this,"nodeTextEdit",ar,this),co(this,"edgeTextEdit",ur,this),co(this,"nodeTextDraggable",cr,this),co(this,"edgeTextDraggable",lr,this),co(this,"autoExpand",sr,this),so(this,"multipleSelectKey",""),so(this,"defaultConfig",{}),Qr(this,this.getConfigDetail(e))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(t){var e=this.getConfigDetail(t);Qr(this,e)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,n=t.textEdit,r={};if(!1===e&&Qr(r,this.defaultConfig),!0===e){var o=uo(Ro,Io);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Qr(r,o)}!1===n&&Qr(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=uo(t,Io);return Qr(r,i)}},{key:"getConfig",value:function(){return uo(this,Io)}}])&&lo(e.prototype,n),r&&lo(e,r),t}()).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$n=fo(Wn.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qn=fo(Wn.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zn=fo(Wn.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jn=fo(Wn.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qn=fo(Wn.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tr=fo(Wn.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),er=fo(Wn.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nr=fo(Wn.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rr=fo(Wn.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),or=fo(Wn.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ir=fo(Wn.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ar=fo(Wn.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ur=fo(Wn.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cr=fo(Wn.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lr=fo(Wn.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=fo(Wn.prototype,"autoExpand",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fo(Wn.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(Wn.prototype,"updateEditConfig"),Wn.prototype),Wn);function zo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Bo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ho(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xo(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(77),(ho=po||(po={}))[ho.DEFAULT=1]="DEFAULT",ho[ho.TEXT_EDIT=2]="TEXT_EDIT",ho[ho.SHOW_MENU=3]="SHOW_MENU",ho[ho.ALLOW_CONNECT=4]="ALLOW_CONNECT",ho[ho.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT",(vo=yo||(yo={})).KEY="logic-flow",vo.NODE_NAME="lf-node",vo.EDGE_NAME="lf-edge",(bo=go||(go={})).NODE="node",bo.CIRCLE_NODE="circle-node",bo.POLYGON_NODE="polygon-node",bo.RECT_NODE="rect-node",bo.TEXT_NODE="text-node",bo.ELLIPSE_NODE="ellipse-node",bo.DIAMOND_NODE="diamond-node",bo.HTML_NODE="html-node",bo.EDGE="edge",bo.LINE_EDGE="line-edge",bo.POLYLINE_EDGE="polyline-edge",bo.BEZIER_EDGE="bezier-edge",bo.GRAPH="graph",(Oo=mo||(mo={})).NODE="node",Oo.EDGE="edge",Oo.GRAPH="graph",(wo=_o||(_o={})).ELEMENT_CLICK="element:click",wo.NODE_CLICK="node:click",wo.NODE_DBCLICK="node:dbclick",wo.NODE_DELETE="node:delete",wo.NODE_ADD="node:add",wo.NODE_DND_ADD="node:dnd-add",wo.NODE_DND_DRAG="node:dnd-drag",wo.NODE_MOUSEDOWN="node:mousedown",wo.NODE_DRAGSTART="node:dragstart",wo.NODE_DRAG="node:drag",wo.NODE_DROP="node:drop",wo.NODE_MOUSEUP="node:mouseup",wo.NODE_MOUSEMOVE="node:mousemove",wo.NODE_MOUSEENTER="node:mouseenter",wo.NODE_MOUSELEAVE="node:mouseleave",wo.NODE_CONTEXTMENU="node:contextmenu",wo.EDGE_DELETE="edge:delete",wo.EDGE_ADD="edge:add",wo.EDGE_CLICK="edge:click",wo.EDGE_DBCLICK="edge:dbclick",wo.EDGE_MOUSEENTER="edge:mouseenter",wo.EDGE_MOUSELEAVE="edge:mouseleave",wo.EDGE_CONTEXTMENU="edge:contextmenu",wo.EDGE_ADJUST="edge:adjust",wo.EDGE_EXCHANGE_NODE="edge:exchange-node",wo.ANCHOR_DRAGSTART="anchor:dragstart",wo.ANCHOR_DRAG="anchor:drag",wo.ANCHOR_DROP="anchor:drop",wo.BLANK_MOUSEDOWN="blank:mousedown",wo.BLANK_DRAGSTART="blank:dragstart",wo.BLANK_DRAG="blank:drag",wo.BLANK_DROP="blank:drop",wo.BLANK_MOUSEMOVE="blank:mousemove",wo.BLANK_MOUSEUP="blank:mouseup",wo.BLANK_CLICK="blank:click",wo.BLANK_CONTEXTMENU="blank:contextmenu",wo.SELECTION_MOUSEDOWN="selection:mousedown",wo.SELECTION_DRAGSTART="selection:dragstart",wo.SELECTION_DRAG="selection:drag",wo.SELECTION_DROP="selection:drop",wo.SELECTION_MOUSEMOVE="selection:mousemove",wo.SELECTION_MOUSEUP="selection:mouseup",wo.SELECTION_CONTEXTMENU="selection:contextmenu",wo.CONNECTION_NOT_ALLOWED="connection:not-allowed",wo.HISTORY_CHANGE="history:change",wo.TEXT_UPDATE="text:update",wo.GRAPH_TRANSFORM="graph:transform",wo.GRAPH_RENDERED="graph:rendered",(Eo=xo||(xo={})).HORIZONTAL="horizontal",Eo.VERTICAL="vertical",(So=jo||(jo={}))[So.DEFAULT=0]="DEFAULT",So[So.INCREASE=1]="INCREASE";var Go=(Po=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Vo(this,"MINI_SCALE_SIZE",.2),Vo(this,"MAX_SCALE_SIZE",16),Ho(this,"SCALE_X",ko,this),Ho(this,"SKEW_Y",Mo,this),Ho(this,"SKEW_X",Ao,this),Ho(this,"SCALE_Y",No,this),Ho(this,"TRANSLATE_X",Do,this),Ho(this,"TRANSLATE_Y",To,this),Ho(this,"ZOOM_SIZE",Co,this),Vo(this,"eventCenter",void 0),this.eventCenter=e}var e,n,r;return e=t,n=[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=zo(t,2),n=e[0],r=e[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=zo(t,2),n=e[0],r=e[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,n){var r=zo(t,2),o=r[0],i=r[1];return[o+e/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===t?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===t?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof t&&(n=t,r=t),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(e&&(this.TRANSLATE_X-=(n-this.SCALE_X)*e[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*e[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(_o.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,n,r){var o=zo(this.CanvasPointToHtmlPoint([t,e]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}],n&&Fo(e.prototype,n),r&&Fo(e,r),t}(),ko=Xo(Po.prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Mo=Xo(Po.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ao=Xo(Po.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),No=Xo(Po.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Do=Xo(Po.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),To=Xo(Po.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Co=Xo(Po.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Xo(Po.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(Po.prototype,"zoom"),Po.prototype),Xo(Po.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(Po.prototype,"resetZoom"),Po.prototype),Xo(Po.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(Po.prototype,"translate"),Po.prototype),Xo(Po.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(Po.prototype,"focusOn"),Po.prototype),Po),Yo=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},Uo=function(t,e){return t&&Hr(e,un(e),t)},Wo=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ko=Object.prototype.hasOwnProperty,$o=function(t){if(!St(t))return Wo(t);var e=tn(t),n=[];for(var r in t)("constructor"!=r||!e&&Ko.call(t,r))&&n.push(r);return n},qo=function(t){return an(t)?Je(t,!0):$o(t)},Zo=function(t,e){return t&&Hr(e,qo(e),t)},Jo=n(106),Qo=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},ti=function(t,e){return Hr(t,De(t),e)},ei=en(Object.getPrototypeOf,Object),ni=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)je(e,De(t)),t=ei(t);return e}:Me,ri=function(t,e){return Hr(t,ni(t),e)},oi=function(t){return Pe(t,qo,ni)},ii=Object.prototype.hasOwnProperty,ai=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ii.call(t,"index")&&(n.index=t.index,n.input=t.input),n},ui=function(t){var e=new t.constructor(t.byteLength);return new me(e).set(new me(t)),e},ci=function(t,e){var n=e?ui(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},li=/\w*$/,si=function(t){var e=new t.constructor(t.source,li.exec(t));return e.lastIndex=t.lastIndex,e},fi=vt?vt.prototype:void 0,pi=fi?fi.valueOf:void 0,di=function(t){return pi?Object(pi.call(t)):{}},hi=function(t,e){var n=e?ui(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},yi=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return ui(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ci(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return hi(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return si(t);case"[object Symbol]":return di(t)}},vi=Object.create,gi=function(){function t(){}return function(e){if(!St(e))return{};if(vi)return vi(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),bi=function(t){return"function"!=typeof t.constructor||tn(t)?{}:gi(ei(t))},mi=function(t){return Ce(t)&&"[object Map]"==Sn(t)},Oi=Ke.a&&Ke.a.isMap,_i=Oi?We(Oi):mi,wi=function(t){return Ce(t)&&"[object Set]"==Sn(t)},xi=Ke.a&&Ke.a.isSet,Ei=xi?We(xi):wi,ji="[object Arguments]",Si="[object Function]",Pi="[object Object]",ki={};ki[ji]=ki["[object Array]"]=ki["[object ArrayBuffer]"]=ki["[object DataView]"]=ki["[object Boolean]"]=ki["[object Date]"]=ki["[object Float32Array]"]=ki["[object Float64Array]"]=ki["[object Int8Array]"]=ki["[object Int16Array]"]=ki["[object Int32Array]"]=ki["[object Map]"]=ki["[object Number]"]=ki["[object Object]"]=ki["[object RegExp]"]=ki["[object Set]"]=ki["[object String]"]=ki["[object Symbol]"]=ki["[object Uint8Array]"]=ki["[object Uint8ClampedArray]"]=ki["[object Uint16Array]"]=ki["[object Uint32Array]"]=!0,ki["[object Error]"]=ki[Si]=ki["[object WeakMap]"]=!1;var Mi=function t(e,n,r,o,i,a){var u,c=1&n,l=2&n,s=4&n;if(r&&(u=i?r(e,o,i,a):r(e)),void 0!==u)return u;if(!St(e))return e;var f=Se(e);if(f){if(u=ai(e),!c)return Qo(e,u)}else{var p=Sn(e),d=p==Si||"[object GeneratorFunction]"==p;if(Object(Fe.a)(e))return Object(Jo.a)(e,c);if(p==Pi||p==ji||d&&!i){if(u=l||d?{}:bi(e),!c)return l?ri(e,Zo(u,e)):ti(e,Uo(u,e))}else{if(!ki[p])return i?e:{};u=yi(e,p,c)}}a||(a=new se);var h=a.get(e);if(h)return h;a.set(e,u),Ei(e)?e.forEach((function(o){u.add(t(o,n,r,o,e,a))})):_i(e)&&e.forEach((function(o,i){u.set(i,t(o,n,r,i,e,a))}));var y=f?void 0:(s?l?oi:cn:l?qo:un)(e);return Yo(y||e,(function(o,i){y&&(o=e[i=o]),Br(u,i,t(o,n,r,i,e,a))})),u},Ai=function(t){return Mi(t,5)},Ni=function(t,e,n){(void 0!==n&&!et(t[e],n)||void 0===n&&!(e in t))&&Lr(t,e,n)},Di=function(t){return Ce(t)&&an(t)},Ti=Function.prototype,Ci=Object.prototype,Ri=Ti.toString,Ii=Ci.hasOwnProperty,Li=Ri.call(Object),zi=function(t){if(!Ce(t)||"[object Object]"!=jt(t))return!1;var e=ei(t);if(null===e)return!0;var n=Ii.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ri.call(n)==Li},Bi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Hi=function(t){return Hr(t,qo(t))},Fi=function(t,e,n,r,o,i,a){var u=Bi(t,n),c=Bi(e,n),l=a.get(c);if(l)Ni(t,n,l);else{var s=i?i(u,c,n+"",t,e,a):void 0,f=void 0===s;if(f){var p=Se(c),d=!p&&Object(Fe.a)(c),h=!p&&!d&&qe(c);s=c,p||d||h?Se(u)?s=u:Di(u)?s=Qo(u):d?(f=!1,s=Object(Jo.a)(c,!0)):h?(f=!1,s=hi(c,!0)):s=[]:zi(c)||He(c)?(s=u,He(u)?s=Hi(u):St(u)&&!Pt(u)||(s=bi(c))):f=!1}f&&(a.set(c,s),o(s,c,r,i,a),a.delete(c)),Ni(t,n,s)}},Vi=function t(e,n,r,o,i){e!==n&&Dr(n,(function(a,u){if(i||(i=new se),St(a))Fi(e,n,u,r,t,o,i);else{var c=o?o(Bi(e,u),a,u+"",e,n,i):void 0;void 0===c&&(c=a),Ni(e,u,c)}}),qo)},Xi=Zr((function(t,e,n){Vi(t,e,n)})),Gi={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Yi=function(t){var e=Ai(Gi);return t&&(e=Xi(e,t)),e};function Ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(78),n(158);var Wi=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r={},(n="_events")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e,n){var r=this;return null==t||t.split(",").forEach((function(t){t=t.trim(),r._events[t]||(r._events[t]=[]),r._events[t].push({callback:e,once:!!n})})),this}},{key:"once",value:function(t,e){var n=this;null==t||t.split(",").forEach((function(t){return t=t.trim(),n.on(t,e,!0)}))}},{key:"emit",value:function(t,e){var n=this;null==t||t.split(",").forEach((function(t){var r=n._events[t]||[],o=n._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],u=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[t],o--,i--),u.apply(n,[e])}};i(r),i(o)}))}},{key:"off",value:function(t,e){var n=this;return t||(this._events={}),t.split(",").forEach((function(t){if(e){for(var r=n._events[t]||[],o=r.length,i=0;i<o;i++)r[i].callback===e&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[t]}else delete n._events[t]})),this}},{key:"getEvents",value:function(){return this._events}}])&&Ui(e.prototype,n),r&&Ui(e,r),t}();function Ki(t,e){return e*Math.round(t/e)||t}function $i(t,e){return t%e}function qi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Zi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zi(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ji,Qi=function(t,e,n){var r=qi(t,2),o=r[0],i=r[1],a=qi(e,2),u=a[0],c=a[1],l=qi(n,2),s=l[0],f=l[1];return o>u&&o<s&&i>c&&i<f},ta=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n};n(79),n(161),n(125),n(80),n(30),n(12),n(13),n(14),n(47);var ea=new Uint8Array(16);function na(){if(!Ji&&!(Ji="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ji(ea)}for(var ra=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oa=function(t){return"string"==typeof t&&ra.test(t)},ia=[],aa=0;aa<256;++aa)ia.push((aa+256).toString(16).substr(1));var ua=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ia[t[e+0]]+ia[t[e+1]]+ia[t[e+2]]+ia[t[e+3]]+"-"+ia[t[e+4]]+ia[t[e+5]]+"-"+ia[t[e+6]]+ia[t[e+7]]+"-"+ia[t[e+8]]+ia[t[e+9]]+"-"+ia[t[e+10]]+ia[t[e+11]]+ia[t[e+12]]+ia[t[e+13]]+ia[t[e+14]]+ia[t[e+15]]).toLowerCase();if(!oa(n))throw TypeError("Stringified UUID is invalid");return n},ca=function(t,e,n){var r=(t=t||{}).random||(t.rng||na)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return ua(r)},la=function(){return ca()},sa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.nodes.reduce((function(t,n){return t[n.id]=e+ca(),n.id=t[n.id],t}),{});return t.edges.forEach((function(t){t.id=e+ca(),t.sourceNodeId=n[t.sourceNodeId],t.targetNodeId=n[t.targetNodeId]})),t};n(104),n(203);var fa=function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0};function pa(t){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function da(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?da(Object(n),!0).forEach((function(e){ya(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):da(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ya(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var va,ga,ba,ma,Oa,_a,wa,xa,Ea,ja,Sa,Pa,ka,Ma,Aa,Na,Da,Ta,Ca,Ra,Ia=function(t){return t.anchors},La=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var i=r[o];if(Va(t,i)){var a=Ba(t,i);if(a){var u={node:i,anchorIndex:a.index,anchor:a.anchor};n&&!za(i,n.node,e)||(n=u)}}}return n},za=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Ba=function(t,e){for(var n,r=Ia(e),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=Ha(t.x,t.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:ha(ha({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n},Ha=function(t,e,n,r){return Math.hypot(t-n,e-r)},Fa=function(t,e){var n=!1,r=Xa(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Va=function(t,e){var n=!1,r=Xa(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},Xa=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},Ga=function(t,e,n){var r,o=function(t){var e=t,n=e.x,r=e.y,o=e.width,i=e.height,a=e.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(e){var n=Ha(t.x,t.y,e.x,e.y);n<i&&(i=n,r=e)})),Ya(t,e,r)},Ya=function(t,e,n){var r,o=n,i=o.x,a=o.y,u=o.r;if(e===xo.HORIZONTAL){var c=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)),l=i+Math.sqrt(u*u-(t.y-a)*(t.y-a));r={x:Math.abs(c-t.x)<Math.abs(l-t.x)?c:l,y:t.y}}else if(e===xo.VERTICAL){var s=a-Math.sqrt(u*u-(t.x-i)*(t.x-i)),f=a+Math.sqrt(u*u-(t.x-i)*(t.x-i)),p=Math.abs(s-t.y)<Math.abs(f-t.y)?s:f;r={x:t.x,y:p}}return r},Ua=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,u=n.y+n.height/2-n.radius,c=n.x,l=n.y,s=n.width,f=n.height;return t.y===l+f/2||t.y===l-f/2?r=t.x>o&&t.x<i:t.x!==c+s/2&&t.x!==c-s/2||(r=t.y>a&&t.y<u),r},Wa=function(t,e,n){var r,o=n,i=o.x,a=o.y,u=o.rx,c=o.ry;if(e===xo.HORIZONTAL){var l=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c)),s=i+Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c));r={x:Math.abs(l-t.x)<Math.abs(s-t.x)?l:s,y:t.y}}else if(e===xo.VERTICAL){var f=a-Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),p=a+Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;r={x:t.x,y:d}}return r},Ka=function(t,e,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],u=0;u<o.length;u++)a.push({start:o[u],end:o[(u+1)%o.length]});return a.forEach((function(n){var o=n.start,a=n.end,u=o,c=a;o.x>a.x&&(u=a,c=o);var l={x:t.x,y:t.y};if(u.x===c.x&&e===xo.HORIZONTAL&&(l={x:u.x,y:t.y}),u.y===c.y&&e===xo.VERTICAL&&(l={x:t.x,y:u.y}),u.x!==c.x&&u.y!==c.y){var s=(c.y-u.y)/(c.x-u.x),f=(u.x*c.y-c.x*u.y)/(u.x-c.x);e===xo.HORIZONTAL?l={x:(t.y-f)/s,y:t.y}:e===xo.VERTICAL&&(l={x:t.x,y:s*t.x+f})}if(fa(l,o,a)){var p=Ha(l.x,l.y,t.x,t.y);p<i&&(i=p,r=l)}})),r},$a=function(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}},qa=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},Za=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach((function(t){var e=Pc(t);o=e>o?e:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Ja=function(t){return"object"!==pa(t)?{isAllPass:!!t,msg:t?"":"不允许连接"}:t},Qa={node:!1,edge:!1},tu={node:!0,edge:!0},eu={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},nu=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},ru=1e3,ou=999,iu=function(){return++ru};function au(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?au(Object(n),!0).forEach((function(e){su(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function su(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fu(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var pu=(va=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),su(this,"id",la()),cu(this,"type",ga,this),cu(this,"sourceNodeId",ba,this),cu(this,"targetNodeId",ma,this),cu(this,"startPoint",Oa,this),cu(this,"endPoint",_a,this),cu(this,"text",wa,this),cu(this,"properties",xa,this),cu(this,"points",Ea,this),cu(this,"pointsList",ja,this),cu(this,"isSelected",Sa,this),cu(this,"isHovered",Pa,this),cu(this,"isHitable",ka,this),cu(this,"draggable",Ma,this),cu(this,"visible",Aa,this),su(this,"virtual",!1),cu(this,"isAnimation",Na,this),su(this,"graphModel",void 0),cu(this,"zIndex",Da,this),su(this,"BaseType",mo.EDGE),su(this,"modelType",go.EDGE),cu(this,"state",Ta,this),su(this,"additionStateData",void 0),su(this,"sourceAnchorId",""),su(this,"targetAnchorId",""),su(this,"menu",void 0),su(this,"customTextPosition",!1),su(this,"animationData",eu),cu(this,"style",Ca,this),cu(this,"arrowConfig",Ra,this),this.graphModel=n,this.initEdgeData(e),this.setAttributes()}var e,n,r;return e=t,n=[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type);n&&(t.id=n);var r=this.createId();r&&(t.id=r)}Qr(this,Dc(t)),this.graphModel.overlapMode===jo.INCREASE&&(this.zIndex=t.zIndex||iu()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return uu(uu({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return Ai(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return Ai(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return Ai(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return Ai(t)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,e){var n,r;return Ia(t).forEach((function(t){var o=Tc(t,e);r?o<r&&(r=o,n=t):(r=o,n=t)})),n}},{key:"getEndAnchor",value:function(t){var e,n,r=this;return Ia(t).forEach((function(t){var o=Tc(t,r.startPoint);n?o<n&&(n=o,e=t):(n=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)};return r&&(i.text={x:e,y:n,value:r}),this.graphModel.overlapMode===jo.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,e){this.properties[t]=nu(e),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=uu(uu({},this.properties),nu(t)),this.setAttributes()}},{key:"setStyle",value:function(t,e){this.style=uu(uu({},this.style),{},su({},t,nu(e)))}},{key:"setStyles",value:function(t){this.style=uu(uu({},this.style),nu(t))}},{key:"updateStyles",value:function(t){this.style=uu({},nu(t))}},{key:"formatText",value:function(t){var e=this.textPosition,n=e.x,r=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||n,y:t.text.y||r,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x,n=t.y;this.text.x=e,this.text.y=n}},{key:"moveText",value:function(t,e){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,draggable:a,x:r+t,y:o+e,editable:u}}}},{key:"setText",value:function(t){t&&Qr(this.text,t)}},{key:"updateText",value:function(t){this.text=uu(uu({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Qr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:n.x,y:n.y})}}],n&&lu(e.prototype,n),r&&lu(e,r),t}(),ga=fu(va.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ba=fu(va.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ma=fu(va.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oa=fu(va.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_a=fu(va.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wa=fu(va.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),xa=fu(va.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ea=fu(va.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ja=fu(va.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sa=fu(va.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pa=fu(va.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ka=fu(va.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ma=fu(va.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Aa=fu(va.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Na=fu(va.prototype,"isAnimation",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Da=fu(va.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ta=fu(va.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ca=fu(va.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ra=fu(va.prototype,"arrowConfig",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),fu(va.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(va.prototype,"sourceNode"),va.prototype),fu(va.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(va.prototype,"targetNode"),va.prototype),fu(va.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(va.prototype,"textPosition"),va.prototype),fu(va.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setProperty"),va.prototype),fu(va.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setProperties"),va.prototype),fu(va.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setStyle"),va.prototype),fu(va.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setStyles"),va.prototype),fu(va.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"updateStyles"),va.prototype),fu(va.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"formatText"),va.prototype),fu(va.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"resetTextPosition"),va.prototype),fu(va.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"moveText"),va.prototype),fu(va.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setText"),va.prototype),fu(va.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"updateText"),va.prototype),fu(va.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setAnchors"),va.prototype),fu(va.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setSelected"),va.prototype),fu(va.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setHovered"),va.prototype),fu(va.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setHitable"),va.prototype),fu(va.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"openEdgeAnimation"),va.prototype),fu(va.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"closeEdgeAnimation"),va.prototype),fu(va.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setElementState"),va.prototype),fu(va.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"updateStartPoint"),va.prototype),fu(va.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"moveStartPoint"),va.prototype),fu(va.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"updateEndPoint"),va.prototype),fu(va.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"moveEndPoint"),va.prototype),fu(va.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"setZIndex"),va.prototype),fu(va.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"initPoints"),va.prototype),fu(va.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"updateAttributes"),va.prototype),fu(va.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"getAdjustStart"),va.prototype),fu(va.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"getAdjustEnd"),va.prototype),fu(va.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(va.prototype,"updateAfterAdjustStartAndEnd"),va.prototype),va),du=pu;function hu(t){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yu(Object(n),!0).forEach((function(e){Su(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mu(){return mu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ou(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},mu.apply(this,arguments)}function Ou(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ju(t)););return t}function _u(t,e){return(_u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=ju(t);if(e){var o=ju(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xu(this,n)}}function xu(t,e){if(e&&("object"===hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Eu(t)}function Eu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ju(t){return(ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Su(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pu,ku,Mu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_u(t,e)}(i,t);var e,n,r,o=wu(i);function i(){var t;gu(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Su(Eu(t=o.call.apply(o,[this].concat(n))),"modelType",go.LINE_EDGE),t}return e=i,(n=[{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.line;return vu(vu({},mu(ju(i.prototype),"getEdgeStyle",this).call(this)),Ai(t))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&bu(e.prototype,n),r&&bu(e,r),i}(du);function Au(t){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Du(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Du(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tu(Object(n),!0).forEach((function(e){Yu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ru(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Iu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zu(){return zu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Bu(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},zu.apply(this,arguments)}function Bu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gu(t)););return t}function Hu(t,e){return(Hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Gu(t);if(e){var o=Gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vu(this,n)}}function Vu(t,e){if(e&&("object"===Au(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xu(t)}function Xu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uu(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Wu=(Pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hu(t,e)}(i,t);var e,n,r,o=Fu(i);function i(){var t;Iu(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Yu(Xu(t=o.call.apply(o,[this].concat(n))),"modelType",go.POLYLINE_EDGE),Yu(Xu(t),"draginngPointList",void 0),Ru(Xu(t),"dbClickPosition",ku,Xu(t)),t}return e=i,(n=[{key:"initEdgeData",value:function(t){this.offset=30,zu(Gu(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.polyline;return Cu(Cu({},zu(Gu(i.prototype),"getEdgeStyle",this).call(this)),Ai(t))}},{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=Ec(this.points),o=Nu(mc(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(t,e,n){var r,o;return n.forEach((function(n){var i;t===xo.HORIZONTAL?i=Math.abs(e.y-n.y):t===xo.VERTICAL&&(i=Math.abs(e.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(t,e,n){var r;return t===xo.HORIZONTAL?r={x:n.x,y:e.y}:t===xo.VERTICAL&&(r={x:e.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(t,e,n){var r=n.map((function(t){return t}));if(1===t){var o=r[t],i=r[e],a=r[t-1];if(Oc(a,o,this.sourceNode)){if(_c(o,i,this.sourceNode)){var u=wc(o,i,this.sourceNode);u&&(r[t]=u,r.splice(t-1,1),t--,e--)}}else this.sourceNode.anchors.forEach((function(e){(e.x===a.x&&e.x===o.x||e.y===a.y&&e.y===o.y)&&Ha(e.x,e.y,o.x,o.y)<Ha(a.x,a.y,o.x,o.y)&&(r[t-1]=e)}))}if(e===n.length-2){var c=r[t],l=r[e],s=r[e+1];if(Oc(l,s,this.targetNode)){if(_c(c,l,this.targetNode)){var f=wc(c,l,this.targetNode);f&&(r[e]=f,r.splice(e+1,1))}}else this.targetNode.anchors.forEach((function(t){(t.x===s.x&&t.x===l.x||t.y===s.y&&t.y===l.y)&&Ha(t.x,t.y,l.x,l.y)<Ha(s.x,s.y,l.x,l.y)&&(r[e+1]=t)}))}return r}},{key:"getDragingPoints",value:function(t,e,n,r,o){var i=o.map((function(t){return t})),a=this.getAfterAnchor(t,n,r),u=this.getCorssPoint(t,n,a);return"start"===e?(i.unshift(u),i.unshift(a)):(i.push(u),i.push(a)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),n=t[0],r=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,u=this.targetNode,c=a.modelType,l=u.modelType,s=xc(n,r),f=e[0];switch(c){case go.RECT_NODE:0!==a.radius&&(Ua(n,a)||(f=Ga(n,s,a)));break;case go.CIRCLE_NODE:f=Ya(n,s,a);break;case go.ELLIPSE_NODE:f=Wa(n,s,a);break;case go.DIAMOND_NODE:case go.POLYGON_NODE:f=Ka(n,s,a)}e[0]=f;var p=xc(o,i),d=e[e.length-1];switch(l){case go.RECT_NODE:0!==u.radius&&(Ua(i,u)||(d=Ga(i,p,u)));break;case go.CIRCLE_NODE:d=Ya(i,p,u);break;case go.ELLIPSE_NODE:d=Wa(i,p,u);break;case go.DIAMOND_NODE:case go.POLYGON_NODE:d=Ka(i,p,u)}return e[e.length-1]=d,e}},{key:"getData",value:function(){var t=zu(Gu(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=bc({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppendSimple",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList,c=u;return a===xo.HORIZONTAL?(u[o]={x:n.x,y:n.y+e.y},u[i]={x:r.x,y:r.y+e.y},c=this.pointsList.map((function(t){return t}))):a===xo.VERTICAL&&(u[o]={x:n.x+e.x,y:n.y},u[i]={x:r.x+e.x,y:r.y},c=this.pointsList.map((function(t){return t}))),this.updatePointsAfterDrage(c),this.draginngPointList=c,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList;if(a===xo.HORIZONTAL){u[o]={x:n.x,y:n.y+e.y},u[i]={x:r.x,y:r.y+e.y};var c=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(c=this.removeCrossPoints(o,i,c)),0===o){var l={x:n.x,y:n.y+e.y};if(!Fa(l,this.sourceNode)){var s=this.sourceNode.anchors;c=this.getDragingPoints(a,"start",l,s,c)}}if(i===this.pointsList.length-1){var f={x:r.x,y:r.y+e.y};if(!Fa(f,this.targetNode)){var p=this.targetNode.anchors;c=this.getDragingPoints(a,"end",f,p,c)}}c=gc(c),this.updatePointsAfterDrage(c),this.draginngPointList=c}else if(a===xo.VERTICAL){u[o]={x:n.x+e.x,y:n.y},u[i]={x:r.x+e.x,y:r.y};var d=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:n.x+e.x,y:n.y};if(!Fa(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:r.x+e.x,y:r.y};if(!Fa(v,this.targetNode)){var g=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,g,d)}}d=gc(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var t=Ec(this.points);this.pointsList=t.map((function(t){return t})),this.draginngPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var n=t[t.length-1];this.endPoint=Object.assign({},n)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=bc({x:e.x,y:e.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&Lu(e.prototype,n),r&&Lu(e,r),i}(du),ku=Uu(Pu.prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uu(Pu.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"initPoints"),Pu.prototype),Uu(Pu.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"updatePoints"),Pu.prototype),Uu(Pu.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"updateStartPoint"),Pu.prototype),Uu(Pu.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"moveStartPoint"),Pu.prototype),Uu(Pu.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"updateEndPoint"),Pu.prototype),Uu(Pu.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"moveEndPoint"),Pu.prototype),Uu(Pu.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"dragAppendStart"),Pu.prototype),Uu(Pu.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"dragAppendSimple"),Pu.prototype),Uu(Pu.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"dragAppend"),Pu.prototype),Uu(Pu.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"dragAppendEnd"),Pu.prototype),Uu(Pu.prototype,"updatePointsAfterDrage",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"updatePointsAfterDrage"),Pu.prototype),Uu(Pu.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"getAdjustStart"),Pu.prototype),Uu(Pu.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"getAdjustEnd"),Pu.prototype),Uu(Pu.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Pu.prototype,"updateAfterAdjustStartAndEnd"),Pu.prototype),Pu),Ku=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},u=Math.atan((n.y-e.y)/(n.x-e.x)),c=Math.atan(r/o),l=Math.sqrt(o*o+r*r);return"start"===i?n.x>=e.x?(a.leftX=e.x+l*Math.sin(u+c),a.leftY=e.y-l*Math.cos(u+c),a.rightX=e.x-l*Math.sin(u-c),a.rightY=e.y+l*Math.cos(u-c)):(a.leftX=e.x-l*Math.sin(u+c),a.leftY=e.y+l*Math.cos(u+c),a.rightX=e.x+l*Math.sin(u-c),a.rightY=e.y-l*Math.cos(u-c)):"end"===i&&(n.x>=e.x?(a.leftX=n.x+l*Math.sin(u-c),a.leftY=n.y-l*Math.cos(u-c),a.rightX=n.x-l*Math.sin(u+c),a.rightY=n.y+l*Math.cos(u+c)):(a.leftX=n.x-l*Math.sin(u-c),a.leftY=n.y+l*Math.cos(u-c),a.rightX=n.x+l*Math.sin(u+c),a.rightY=n.y-l*Math.cos(u+c))),a};function $u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$u(Object(n),!0).forEach((function(e){Zu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ju(t){return function(t){if(Array.isArray(t))return nc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ec(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(t){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||ec(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(t,e){if(t){if("string"==typeof t)return nc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(t,e):void 0}}function nc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rc=function(t){var e=[],n={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,n[e]=t})),Object.keys(n).forEach((function(t){e.push(n[t])})),e},oc=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},ic=function(t,e){var n=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?xo.HORIZONTAL:xo.VERTICAL}(e,t);return n===xo.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},ac=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},uc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach((function(t){n.push(t.x),r.push(t.y)}));var o=Math.min.apply(Math,n),i=Math.max.apply(Math,n),a=Math.min.apply(Math,r),u=Math.max.apply(Math,r),c=i-o,l=u-a;return e&&(c+=e,l+=e),{centerX:(o+i)/2,centerY:(a+u)/2,maxX:i,maxY:u,minX:o,minY:a,x:(o+i)/2,y:(a+u)/2,height:l,width:c}},cc=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},lc=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},sc=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},fc=function(t,e,n,r,o){return sc(t,e)+sc(t,n)+function(t,e){var n=0;return e.forEach((function(e){e&&(t.x===e.x&&(n+=-2),t.y===e.y&&(n+=-2))})),n}(t,[e,n,r,o])},pc=function t(e,n,r,o,i){i||(i=0),e.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&t(e,n,r,r[o],i+1)},dc=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,a=r.x-n.x,u=r.y-n.y,c=(-i*(t.x-n.x)+o*(t.y-n.y))/(-a*i+o*u),l=(a*(t.y-n.y)-u*(t.x-n.x))/(-a*i+o*u);return c>=0&&c<=1&&l>=0&&l<=1},hc=function(t,e,n){if(0===n.width&&0===n.height)return!1;var r=tc(cc(n),4),o=r[0],i=r[1],a=r[2],u=r[3];return dc(t,e,o,i)||dc(t,e,o,u)||dc(t,e,i,a)||dc(t,e,a,u)},yc=function(t,e,n,r,o,i,a){var u=[],c=[e],l={},s={},f={};s[e.id]=0,f[e.id]=fc(e,n,e);var p={};t.forEach((function(t){p[t.id]=t}));for(var d=function(){var d,h,y,v=void 0,g=1/0;if(c.forEach((function(t){f[t.id]<g&&(g=f[t.id],v=t)})),v===n){var b=[];return pc(b,p,l,n.id),{v:b}}h=v,(y=(d=c).indexOf(h))>-1&&d.splice(y,1),u.push(v),function(t,e,n,r){var o=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||hc(t,e,n)||hc(t,e,r)||o.push(t))})),rc(o)}(t,v,r,o).forEach((function(t){if(-1===u.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var r=f[v.id]+sc(v,t);s[t.id]&&r>=s[t.id]||(l[t.id]=v.id,s[t.id]=r,f[t.id]=s[t.id]+fc(t,n,e,i,a))}}))};c.length;){var h=d();if("object"===Qu(h))return h.v}return[e,n]},vc=function(t){return Xa(t)},gc=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],i=e[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?e.splice(n,1):n++}return e},bc=function(t,e,n,r,o){var i,a,u=vc(n),c=vc(r),l=oc(u,o),s=oc(c,o),f=ic(l,t),p=ic(s,e);if(i=l,a=s,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=jc(t,e,f,p);return[t,f].concat(Ju(d),[p,e])}var h=uc([f,p]),y=ac(l,h),v=ac(s,h),g=[];g=(g=g.concat(cc(y))).concat(cc(v));var b={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[h,y,v].forEach((function(t){g=g.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,b).filter((function(t){return lc(t,l)&&lc(t,s)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(t){lc(t,l)&&lc(t,s)&&g.push(t)})),g.unshift(f),g.push(p),g=rc(g);var m=yc(g,f,p,u,c,t,e);return m.unshift(t),m.push(e),m.length>2&&(m=gc(m)),rc(m)},mc=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Ha(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var a=t[i],u=t[i+1],c=Ha(a.x,a.y,u.x,u.y);c>o&&(o=c,n=a,r=u)}e=[n,r]}return e},Oc=function(t,e,n){var r=Fa(t,n),o=Fa(e,n);return r&&o},_c=function(t,e,n){var r=Fa(t,n),o=Fa(e,n);return!(r&&o)&&(r||o)},wc=function(t,e,n){for(var r,o,i=Xa(n),a=cc(i),u=0;u<a.length;u++)dc(t,e,a[u],a[(u+1)%a.length])&&(o=[a[u],a[(u+1)%a.length]]);return o&&(r=function(t,e,n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0===o)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o,a=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}(t,e,o[0],o[1])),r},xc=function(t,e){var n;return t.x===e.x?n=xo.VERTICAL:t.y===e.y&&(n=xo.HORIZONTAL),n},Ec=function(t){var e=t.split(" "),n=[];return e&&e.forEach((function(t){var e=tc(t.split(","),2),r=e[0],o=e[1];n.push({x:Number(r),y:Number(o)})})),n},jc=function(t,e,n,r){var o=[];if(xc(t,n)===xc(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},a=fa(i,t,n),u=fa(i,e,r);if(a||u)i={x:r.x,y:n.y};else{var c=Sc(i,t,n),l=Sc(i,e,r);c&&l&&(i={x:r.x,y:n.y})}o.push(i)}return o},Sc=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Pc=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},kc=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,i=t.offset,a=Xa(r),u=Xa(o),c=oc(a,i),l=oc(u,i);return{sNext:ic(c,e),ePre:ic(l,n)}},Mc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ac(e[0]),Ac(e[1]),Ac(e[2]),Ac(e[3])]},Ac=function(t){var e=tc(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Nc=function(t,e){for(var n,r=t.x,o=t.y,i=Ec(e),a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});if(u.forEach((function(t){var e=t.start,i=t.end;if(e.x===i.x){var u={x:e.x,y:o};if(fa(u,e,i)){var c=Math.abs(e.x-r);c<a&&(a=c,n=u)}}else if(e.y===i.y){var l={x:r,y:e.y};if(fa(l,e,i)){var s=Math.abs(e.y-o);s<a&&(a=s,n=l)}}})),!n){var l=u[0],s=l.start,f=l.end;n={x:s.x+(f.x-s.x)/2,y:s.y+(f.y-s.y)/2}}return n},Dc=function(t){return uo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Tc=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};n(204);var Cc=function(){};function Rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ic(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lc=window.document;function zc(t){var e=t.onDragStart,n=void 0===e?Cc:e,r=t.onDraging,o=void 0===r?Cc:r,i=t.onDragEnd,a=void 0===i?Cc:i,u=t.step,c=void 0===u?1:u,l=t.isStopPropagation,s=void 0===l||l,f=!1,p=!1,d=0,h=0,y=0,v=0;function g(t){if(s&&t.stopPropagation(),p&&(f=!0,y+=t.clientX-d,v+=t.clientY-h,d=t.clientX,h=t.clientY,Math.abs(y)>c||Math.abs(v)>c)){var e=y%c,n=v%c,r=y-e,i=v-n;y=e,v=n,o({deltaX:r,deltaY:i,event:t})}}function b(t){if(s&&t.stopPropagation(),p=!1,Lc.removeEventListener("mousemove",g,!1),Lc.removeEventListener("mouseup",b,!1),f)return f=!1,a({event:t})}return function(t){if(0===t.button)return s&&t.stopPropagation(),p=!0,d=t.clientX,h=t.clientY,Lc.addEventListener("mousemove",g,!1),Lc.addEventListener("mouseup",b,!1),n({event:t})}}var Bc,Hc,Fc,Vc,Xc,Gc,Yc,Uc,Wc,Kc,$c,qc,Zc,Jc=function(){function t(e){var n=this,r=e.onDragStart,o=void 0===r?Cc:r,i=e.onDraging,a=void 0===i?Cc:i,u=e.onDragEnd,c=void 0===u?Cc:u,l=e.eventType,s=void 0===l?"":l,f=e.eventCenter,p=void 0===f?null:f,d=e.step,h=void 0===d?1:d,y=e.isStopPropagation,v=void 0===y||y,g=e.model,b=void 0===g?null:g;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ic(this,"onDragStart",void 0),Ic(this,"onDraging",void 0),Ic(this,"onDragEnd",void 0),Ic(this,"step",void 0),Ic(this,"isStopPropagation",void 0),Ic(this,"isDraging",!1),Ic(this,"isStartDraging",!1),Ic(this,"startX",0),Ic(this,"startY",0),Ic(this,"sumDeltaX",0),Ic(this,"sumDeltaY",0),Ic(this,"eventType",void 0),Ic(this,"eventCenter",void 0),Ic(this,"model",void 0),Ic(this,"startTime",void 0),Ic(this,"isGrag",void 0),Ic(this,"handleMouseDown",(function(t){var e,r;if(0===t.button){n.isStopPropagation&&t.stopPropagation(),n.isStartDraging=!0,n.startX=t.clientX,n.startY=t.clientY,Lc.addEventListener("mousemove",n.handleMouseMove,!1),Lc.addEventListener("mouseup",n.handleMouseUp,!1);var o=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(_o["".concat(n.eventType,"_MOUSEDOWN")],{e:t,data:o}),n.startTime=(new Date).getTime()}})),Ic(this,"handleMouseMove",(function(t){if(n.isStopPropagation&&t.stopPropagation(),n.isStartDraging&&(n.sumDeltaX+=t.clientX-n.startX,n.sumDeltaY+=t.clientY-n.startY,n.startX=t.clientX,n.startY=t.clientY,n.step<=1||Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var e,r=n.sumDeltaX%n.step,o=n.sumDeltaY%n.step,i=n.sumDeltaX-r,a=n.sumDeltaY-o;n.sumDeltaX=r,n.sumDeltaY=o;var u,c=null===(e=n.model)||void 0===e?void 0:e.getData();n.isDraging||(null===(u=n.eventCenter)||void 0===u||u.emit(_o["".concat(n.eventType,"_DRAGSTART")],{e:t,data:c}),n.onDragStart({event:t})),n.isDraging=!0,Promise.resolve().then((function(){var e,r;n.onDraging({deltaX:i,deltaY:a,event:t}),null===(e=n.eventCenter)||void 0===e||e.emit(_o["".concat(n.eventType,"_MOUSEMOVE")],{e:t,data:c}),null===(r=n.eventCenter)||void 0===r||r.emit(_o["".concat(n.eventType,"_DRAG")],{e:t,data:c})}))}})),Ic(this,"handleMouseUp",(function(t){n.isStartDraging=!1,n.isStopPropagation&&t.stopPropagation(),Promise.resolve().then((function(){var e,r,o;Lc.removeEventListener("mousemove",n.handleMouseMove,!1),Lc.removeEventListener("mouseup",n.handleMouseUp,!1);var i=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(_o["".concat(n.eventType,"_MOUSEUP")],{e:t,data:i}),n.isDraging&&(n.isDraging=!1,n.onDragEnd({event:t}),null===(o=n.eventCenter)||void 0===o||o.emit(_o["".concat(n.eventType,"_DROP")],{e:t,data:i}))}))})),Ic(this,"cancelDrag",(function(){Lc.removeEventListener("mousemove",n.handleMouseMove,!1),Lc.removeEventListener("mouseup",n.handleMouseUp,!1),n.isDraging=!1})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=c,this.step=h,this.isStopPropagation=v,this.eventType=s,this.eventCenter=p,this.model=b}var e,n,r;return e=t,(n=[{key:"setStep",value:function(t){this.step=t}}])&&Rc(e.prototype,n),r&&Rc(e,r),t}();function Qc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qc(Object(n),!0).forEach((function(e){cl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function el(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||rl(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(t){return function(t){if(Array.isArray(t))return ol(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rl(t,e){if(t){if("string"==typeof t)return ol(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ol(t,e):void 0}}function ol(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function il(t){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function al(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ll(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var sl,fl=200,pl=(Bc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),cl(this,"rootEl",void 0),al(this,"width",Hc,this),al(this,"height",Fc,this),cl(this,"theme",void 0),cl(this,"eventCenter",void 0),cl(this,"modelMap",new Map),cl(this,"topElement",void 0),cl(this,"animation",void 0),cl(this,"idGenerator",void 0),cl(this,"edgeGenerator",void 0),cl(this,"nodeMoveRules",[]),al(this,"edgeType",Vc,this),al(this,"nodes",Xc,this),al(this,"edges",Gc,this),al(this,"overlapMode",Yc,this),al(this,"background",Uc,this),al(this,"transformModel",Wc,this),al(this,"editConfigModel",Kc,this),al(this,"gridSize",$c,this),al(this,"partial",qc,this),al(this,"fakerNode",Zc,this);var n,r,o,i=e.container,a=e.background,u=void 0===a?{}:a,c=e.grid,l=e.idGenerator,s=e.edgeGenerator,f=e.animation;this.background=u,"object"===il(c)&&(this.gridSize=c.size),this.rootEl=i,this.editConfigModel=new Lo(e),this.eventCenter=new Wi,this.transformModel=new Go(this.eventCenter),this.theme=Yi(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.animation=(n=f)&&"boolean"!=typeof n?Xi(Ai(Qa),n):Ai(!0===n?tu:Qa),this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=l,this.edgeGenerator=(r=this,"function"!=typeof(o=s)?function(t,e,n){return Object.assign({type:r.edgeType},n)}:function(t,e,n){var i=o(t,e,n);return i?"string"==typeof i?Object.assign({},n,{type:i}):Object.assign({type:i},n):{type:r.edgeType}}),this.width=e.width||this.rootEl.getBoundingClientRect().width,this.height=e.height||this.rootEl.getBoundingClientRect().height}var e,n,r;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"modelsMap",get:function(){return[].concat(nl(this.nodes),nl(this.edges)).reduce((function(t,e){return t[e.id]=e,t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],n=-1,r=[-200,-200],o=[this.width+fl,this.height+fl],i=0;i<t.length;i++){var a=t[i];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,o,!1,!1))&&(9999===a.zIndex&&(n=e.length),e.push(a))}if(-1!==n){var u=e[e.length-1];e[e.length-1]=e[n],e[n]=u}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===po.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===po.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],a=[];this.nodes.forEach((function(t){return a.push(t)})),this.edges.forEach((function(t){return a.push(t)}));for(var u=0;u<a.length;u++){var c=a[u];o&&!c.visible||!this.isElementInArea(c,t,e,n,r)||i.push(c)}return i}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var e;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,n=t.y,r=this.rootEl.getBoundingClientRect(),o={x:e-r.left,y:n-r.top},i=el(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===mo.NODE){for(var i=Xa(t),a=i.minX,u=i.minY,c=i.maxX,l=i.maxY,s=[{x:a,y:u},{x:c,y:u},{x:c,y:l},{x:a,y:l}],f=o,p=0;p<s.length;p++){var d=s[p],h=d.x,y=d.y,v=this.transformModel.CanvasPointToHtmlPoint([h,y]),g=el(v,2);if(h=g[0],y=g[1],Qi([h,y],e,n)!==o){f=!o;break}}return f}if(t.BaseType===mo.EDGE){var b=t,m=b.startPoint,O=b.endPoint,_=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),w=this.transformModel.CanvasPointToHtmlPoint([O.x,O.y]),x=Qi(_,e,n),E=Qi(w,e,n);return r?x&&E:x||E}return!1}},{key:"graphDataToModel",value:function(t){var e=this;this.width&&this.height||this.resize(),this.nodes=Rr(t.nodes,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的节点。"));var r=t.x,o=t.y;return r&&o&&(t.x=Ki(r,e.gridSize),t.y=Ki(o,e.gridSize),"object"===il(t.text)&&(t.text.x-=$i(r,e.gridSize),t.text.y-=$i(o,e.gridSize))),new n(t,e)})),this.edges=Rr(t.edges,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的边。"));return new n(t,e)}))}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach((function(e){var n=e.getData();n&&!e.virtual&&t.push(n)}));var e=[];return this.nodes.forEach((function(t){var n=t.getData();n&&!t.virtual&&e.push(n)})),{nodes:e,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,e=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){t=!0;break}e.push(r.getHistoryData())}if(t)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var u=this.edges[a];if(u.isDragging){o=!0;break}i.push(u.getHistoryData())}return!o&&{nodes:e,edges:i}}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var e=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===t,i=this.edges[n].targetNodeId===t;(o||i)&&e.push(r)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,n={nodes:[],edges:[]};return e.forEach((function(r){if(r.BaseType===mo.NODE&&n.nodes.push(r.getData()),r.BaseType===mo.EDGE){var o=r.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e||(e=la()),this.nodesMap[e]?(console.warn("当前流程图已存在节点".concat(e,", 修改失败")),""):this.nodesMap[t]?(this.edges.forEach((function(n){n.sourceNodeId===t&&(n.sourceNodeId=e),n.targetNodeId===t&&(n.targetNodeId=e)})),this.nodesMap[t].model.id=e,e):(console.warn("当前流程图找不到节点".concat(e,", 修改失败")),"")}},{key:"changeEdgeId",value:function(t,e){return e||(e=la()),this.edgesMap[e]?(console.warn("当前流程图已存在边: ".concat(e,", 修改失败")),""):this.edgesMap[t]?(this.edges.forEach((function(n){n.id===t&&(n.id=e)})),e):(console.warn("当前流程图找不到边: ".concat(e,", 修改失败")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"toFront",value:function(t){var e,n,r,o=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);o&&(this.overlapMode===jo.DEFAULT&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),o.setZIndex(9999),this.topElement=o),this.overlapMode===jo.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,e){var n,r,o,i=(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model);i&&("number"==typeof e&&(o=e),"top"===e&&(o=iu()),"bottom"===e&&(o=--ou),i.setZIndex(o))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(_o.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=nu(t);e.id&&this.nodesMap[t.id]&&delete e.id;var n=this.getModel(e.type);if(!n)throw new Error("找不到".concat(e.type,"对应的节点，请确认是否已注册此类型节点。"));var r=new n(e,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(_o.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(t){var e=this.getNodeModelById(t),n=e.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),e.setSelected(!1),r.getData()}},{key:"moveNode",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.getMoveDistance(e,n,r),u=el(a,2);e=u[0],n=u[1],this.moveEdge(t,e,n)}else console.warn("不存在id为".concat(t,"的节点"))}},{key:"moveNode2Coordinate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.x,u=i.y,c=e-a,l=n-u;this.moveNode(t,c,l,r)}else console.warn("不存在id为".concat(t,"的节点"))}},{key:"editText",value:function(t){this.setElementStateById(t,po.TEXT_EDIT)}},{key:"addEdge",value:function(t){var e=nu(t),n=e.type;n||(n=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var r=this.getModel(n);if(!r)throw new Error("找不到".concat(n,"对应的边，请确认是否已注册此类型边。"));var o=new r(tl(tl({},e),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(_o.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,u=a.x,c=a.y,l=this.edges[r].sourceNodeId===t,s=this.edges[r].targetNodeId===t;if(l&&i.moveStartPoint(e,n),s&&i.moveEndPoint(e,n),l||s)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===go.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=Nc(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-u,y-c)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t&&this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(_o.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var e=this.edgesMap[t].index,n=this.edgesMap[t].model.getData();this.edges.splice(e,1),this.eventCenter.emit(_o.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(_o.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(_o.EDGE_DELETE,{data:n})}}},{key:"setElementStateById",value:function(t,e,n){this.nodes.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(po.DEFAULT)})),this.edges.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(po.DEFAULT)}))}},{key:"updateText",value:function(t,e){this.nodes.forEach((function(n){n.id===t&&n.updateText(e)})),this.edges.forEach((function(n){n.id===t&&n.updateText(e)}))}},{key:"selectNodeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model;null==r||r.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||this.clearSelectElements();var r=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model;null==r||r.setSelected(!0)}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||this.clearSelectElements();var n=this.getElement(t);null==n||n.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null==t||t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===jo.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach((function(t){return r.moveNode(t,e,n,o)}))}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var n=this.getNodeModelById(t);if(n){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("找不到".concat(e,"对应的节点，请确认是否已注册此类型节点。"));var i=new o(r,this);this.nodes.splice(this.nodesMap[t].index,1,i),this.getNodeEdges(t).forEach((function(e){if(e.sourceNodeId===t){var n=$a(i,e.startPoint,i.width,i.height);e.updateStartPoint(n)}if(e.targetNodeId===t){var r=$a(i,e.endPoint,i.width,i.height);e.updateEndPoint(r)}}))}else console.warn("找不到id为".concat(t,"的节点"))}},{key:"changeEdgeType",value:function(t,e){var n=this.getEdgeModelById(t);if(n){if(n.type!==e){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("找不到".concat(e,"对应的节点，请确认是否已注册此类型节点。"));delete r.pointsList;var i=new o(r,this);this.edges.splice(this.edgesMap[t].index,1,i)}}else console.warn("找不到id为".concat(t,"的边"))}},{key:"getNodeIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.targetNodeId===t&&e.push(n)})),e}},{key:"getNodeOutgoingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.sourceNodeId===t&&e.push(n)})),e}},{key:"getNodeIncomingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===t&&n.push(e.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===t&&n.push(e.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(t){this.theme=Yi(tl(tl({},this.theme),t))}},{key:"resize",value:function(t,e){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=e||this.rootEl.getBoundingClientRect().height,this.width&&this.height||console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,e=[],n=[];t.forEach((function(t){var r=t.x,o=t.y,i=t.width,a=t.height,u=t.getNodeStyle().strokeWidth,c=void 0===u?0:u;e=e.concat([r+i/2+c,r-i/2-c]),n=n.concat([o+a/2+c,o-a/2-c])}));var r=Math.min.apply(Math,nl(e)),o=Math.max.apply(Math,nl(e)),i=Math.min.apply(Math,nl(n)),a=o-r||0,u=Math.max.apply(Math,nl(n))-i||0;return{virtualRectWidth:a,virtualRectHeight:u,virtualRectCenterPositionX:r+a/2,virtualRectCenterPositionY:i+u/2}}},{key:"translateCenter",value:function(){var t=this.nodes,e=this.width,n=this.height,r=this.rootEl,o=this.transformModel;if(t.length){var i=e||r.clientWidth,a=n||r.clientHeight,u=this.getVirtualRectSize(),c=u.virtualRectCenterPositionX,l=u.virtualRectCenterPositionY;o.focusOn(c,l,i,a)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.nodes,r=this.width,o=this.height,i=this.rootEl,a=this.transformModel;if(n.length){var u=r||i.clientWidth,c=o||i.clientHeight,l=this.getVirtualRectSize(),s=l.virtualRectWidth,f=l.virtualRectHeight,p=l.virtualRectCenterPositionX,d=l.virtualRectCenterPositionY,h=(s+e)/u,y=(f+t)/c,v=0;v=1/Math.max(h,y);var g=[u/2,c/2];a.zoom(v,g),a.focusOn(p,d,u,c)}}},{key:"openEdgeAnimation",value:function(t){this.getEdgeModelById(t).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){this.getEdgeModelById(t).closeEdgeAnimation()}}],n&&ul(e.prototype,n),r&&ul(e,r),t}(),Hc=ll(Bc.prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fc=ll(Bc.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vc=ll(Bc.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xc=ll(Bc.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gc=ll(Bc.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yc=ll(Bc.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jo.DEFAULT}}),Uc=ll(Bc.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wc=ll(Bc.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kc=ll(Bc.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=ll(Bc.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qc=ll(Bc.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zc=ll(Bc.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ll(Bc.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(Bc.prototype,"nodesMap"),Bc.prototype),ll(Bc.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(Bc.prototype,"edgesMap"),Bc.prototype),ll(Bc.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(Bc.prototype,"modelsMap"),Bc.prototype),ll(Bc.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(Bc.prototype,"sortElements"),Bc.prototype),ll(Bc.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(Bc.prototype,"textEditElement"),Bc.prototype),ll(Bc.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(Bc.prototype,"selectElements"),Bc.prototype),ll(Bc.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"setFakerNode"),Bc.prototype),ll(Bc.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"removeFakerNode"),Bc.prototype),ll(Bc.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"setModel"),Bc.prototype),ll(Bc.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"toFront"),Bc.prototype),ll(Bc.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"setElementZIndex"),Bc.prototype),ll(Bc.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"deleteNode"),Bc.prototype),ll(Bc.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"addNode"),Bc.prototype),ll(Bc.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"cloneNode"),Bc.prototype),ll(Bc.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"moveNode"),Bc.prototype),ll(Bc.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"moveNode2Coordinate"),Bc.prototype),ll(Bc.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"editText"),Bc.prototype),ll(Bc.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"addEdge"),Bc.prototype),ll(Bc.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"moveEdge"),Bc.prototype),ll(Bc.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"deleteEdgeBySourceAndTarget"),Bc.prototype),ll(Bc.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"deleteEdgeById"),Bc.prototype),ll(Bc.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"deleteEdgeBySource"),Bc.prototype),ll(Bc.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"deleteEdgeByTarget"),Bc.prototype),ll(Bc.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"setElementStateById"),Bc.prototype),ll(Bc.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"updateText"),Bc.prototype),ll(Bc.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"selectNodeById"),Bc.prototype),ll(Bc.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"selectEdgeById"),Bc.prototype),ll(Bc.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"selectElementById"),Bc.prototype),ll(Bc.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"clearSelectElements"),Bc.prototype),ll(Bc.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"moveNodes"),Bc.prototype),ll(Bc.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"setDefaultEdgeType"),Bc.prototype),ll(Bc.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"changeNodeType"),Bc.prototype),ll(Bc.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"changeEdgeType"),Bc.prototype),ll(Bc.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"getNodeIncomingEdge"),Bc.prototype),ll(Bc.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"getNodeOutgoingEdge"),Bc.prototype),ll(Bc.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"getNodeIncomingNode"),Bc.prototype),ll(Bc.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"getNodeOutgoingNode"),Bc.prototype),ll(Bc.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"setTheme"),Bc.prototype),ll(Bc.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"resize"),Bc.prototype),ll(Bc.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"clearData"),Bc.prototype),ll(Bc.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"translateCenter"),Bc.prototype),ll(Bc.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"fitView"),Bc.prototype),ll(Bc.prototype,"openEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"openEdgeAnimation"),Bc.prototype),ll(Bc.prototype,"closeEdgeAnimation",[o.k],Object.getOwnPropertyDescriptor(Bc.prototype,"closeEdgeAnimation"),Bc.prototype),Bc),dl=pl;function hl(t){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yl(){return yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gl(t,e){return(gl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=_l(t);if(e){var o=_l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ml(this,n)}}function ml(t,e){if(e&&("object"===hl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ol(t)}function Ol(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xl,El=vO(sl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gl(t,e)}(i,t);var e,n,r,o=bl(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),wl(Ol(e=o.call(this)),"stepDrag",void 0),wl(Ol(e),"stepScrollX",0),wl(Ol(e),"stepScrollY",0),wl(Ol(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY;e.setState({isDraging:!0});var o=e.props.graphModel,i=o.transformModel;o.editConfigModel.stopMoveGraph||i.translate(n,r)})),wl(Ol(e),"onDragEnd",(function(){e.setState({isDraging:!1})})),wl(Ol(e),"zoomHandler",(function(t){var n=e.props,r=n.graphModel,o=r.editConfigModel,i=r.transformModel,a=r.gridSize,u=n.graphModel,c=t.deltaX,l=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var s=u.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition,f=s.x,p=s.y;i.zoom(t.deltaY<0,[f,p])}}else{if(t.preventDefault(),e.stepScrollX+=c,e.stepScrollY+=l,Math.abs(e.stepScrollX)>=a){var d=e.stepScrollX%a,h=e.stepScrollX-d;i.translate(-h*i.SCALE_X,0),e.stepScrollX=d}if(Math.abs(e.stepScrollY)>=a){var y=e.stepScrollY%a,v=e.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),e.stepScrollY=y}}})),wl(Ol(e),"clickHandler",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){var n=e.props.graphModel;n.selectElements.size>0&&n.clearSelectElements(),n.eventCenter.emit(_o.BLANK_CLICK,{e:t})}})),wl(Ol(e),"handleContextMenu",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){t.preventDefault();var n=e.props.graphModel,r=n.getPointByClient({x:t.clientX,y:t.clientY});n.eventCenter.emit(_o.BLANK_CONTEXTMENU,{e:t,position:r})}})),wl(Ol(e),"mouseDownHandler",(function(t){var n=e.props.graphModel,r=n.eventCenter,o=n.editConfigModel,i=n.transformModel.SCALE_X,a=n.gridSize,u=t.target,c=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===u.getAttribute("name")||c)&&(o.stopMoveGraph?r.emit(_o.BLANK_MOUSEDOWN,{e:t}):(e.stepDrag.setStep(a*i),e.stepDrag.handleMouseDown(t)),e.clickHandler(t))}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter;return e.stepDrag=new Jc({onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:r,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),e.state={isDraging:!1},e}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props,n=e.children,r=e.dnd,o=this.state.isDraging;return Object(J.g)("svg",yl({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},r.eventMap()),Object(J.g)("g",{transform:t},n))}}])&&vl(e.prototype,n),r&&vl(e,r),i}(J.a))||sl,jl=El;function Sl(t){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ml(t,e){return(Ml=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Al(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Tl(t);if(e){var o=Tl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nl(this,n)}}function Nl(t,e){if(e&&("object"===Sl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dl(t)}function Dl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rl=vO(xl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ml(t,e)}(i,t);var e,n,r,o=Al(i);function i(){var t;Pl(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Cl(Dl(t=o.call.apply(o,[this].concat(n))),"setToolOverlayRef",(function(e){var n=t.props.tool.getInstance();n.components.forEach((function(t){return t(n,e)})),n.components=[]})),t}return e=i,(n=[{key:"getTools",value:function(){var t=this.props,e=t.tool,n=t.graphModel,r=e.getTools().map((function(t){return Object(J.g)(t,{graphModel:n,logicFlow:e.instance})}));return e.components=r,r}},{key:"render",value:function(){return Object(J.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&kl(e.prototype,n),r&&kl(e,r),i}(J.a))||xl;function Il(t){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bl(t,e){return(Bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Vl(t);if(e){var o=Vl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(t,e){if(e&&("object"===Il(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vl(t){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xl,Gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bl(t,e)}(i,t);var e,n,r,o=Hl(i);function i(){return Ll(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.background;return Object(J.g)("div",{className:"lf-background"},Object(J.g)("div",{style:t,className:"lf-background-area"}))}}])&&zl(e.prototype,n),r&&zl(e,r),i}(J.a);function Yl(t){return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kl(t,e){return(Kl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Jl(t);if(e){var o=Jl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ql(this,n)}}function ql(t,e){if(e&&("object"===Yl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zl(t)}function Zl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jl(t){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ts=vO(Xl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kl(t,e)}(i,t);var e,n,r,o=$l(i);function i(){var t;Ul(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ql(Zl(t=o.call.apply(o,[this].concat(n))),"id",la()),t}return e=i,(n=[{key:"renderDot",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?2:r,i=t.size,a=t.visible,u=Math.min(Math.max(2,o),i/2),c=1;return a||(c=0),Object(J.g)("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:n,opacity:c})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,n=e.color,r=e.thickness,o=void 0===r?1:r,i=t.size,a=t.visible,u=Math.min(Math.max(1,o),i/2),c="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),l=1;return a||(l=0),Object(J.g)("path",{d:c,stroke:n,strokeWidth:u,opacity:l})}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.size,r=t.graphModel.transformModel,o=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return Object(J.g)("div",{className:"lf-grid"},Object(J.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(J.g)("defs",null,Object(J.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:n,height:n},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(J.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Wl(e.prototype,n),r&&Wl(e,r),i}(J.a))||Xl;function es(t){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ns(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}ts.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(52);var os,is=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){var n=ns(t,2),r=n[0],o=n[1];("style"===r||"object"!==es(o))&&(e[r]=o)})),Object(J.g)("line",e)};function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?us(Object(n),!0).forEach((function(e){ls(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ls(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ps(t,e){return(ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ds(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=ys(t);if(e){var o=ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(t,e){if(e&&("object"===as(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vs,gs=vO(os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ps(t,e)}(i,t);var e,n,r,o=ds(i);function i(){return ss(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,n=t.isShowHorizontal,r=t.isShowVertical,o=t.getStyle(),i=e.x,a=void 0===i?0:i,u=e.y,c=void 0===u?0:u,l=cs(cs({x1:-1e5,y1:c,x2:1e5,y2:c},o),{},{stroke:n?o.stroke:"none"}),s=cs(cs({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:r?o.stroke:"none"});return Object(J.g)("g",{className:"lf-snapline"},Object(J.g)(is,l),Object(J.g)(is,s))}}])&&fs(e.prototype,n),r&&fs(e,r),i}(J.a))||os;function bs(t){return(bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ms(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Os(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Os(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _s(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.className,a=t.radius,u=e-r/2,c=n-o/2,l={};return Object.entries(t).forEach((function(t){var e=ms(t,2),n=e[0],r=e[1];"object"!==bs(r)&&(l[n]=r)})),l.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(l.rx=a,l.ry=a),l.x=u,l.y=c,Object(J.g)("rect",l)}function ws(t){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xs(){return xs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function Es(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Es(Object(n),!0).forEach((function(e){Ss(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ss(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ms(t,e){return(Ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function As(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Ds(t);if(e){var o=Ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(t,e){if(e&&("object"===ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ds(t){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}_s.defaultProps={className:"",radius:""};var Ts,Cs=vO(vs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ms(t,e)}(i,t);var e,n,r,o=As(i);function i(){return Ps(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getNodesOutline",value:function(){var t=this.props.graphModel,e=t.nodes,n=t.editConfigModel,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return e.forEach((function(t){if(t.isHovered||t.isSelected){var e=t.isHovered,n=t.isSelected,a=t.x,u=t.y,c=t.width,l=t.height;if(o&&n||r&&e){var s=t.getOutlineStyle(),f={};if(Object.keys(s).forEach((function(t){"hover"!==t&&(f[t]=s[t])})),e){var p=s.hover;f=js(js({},f),p)}i.push(Object(J.g)(_s,xs({className:"lf-outline-node",x:a,y:u,width:c+10,height:l+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,n=t.editConfigModel,r=n.edgeSelectedOutline,o=n.hoverOutline,i=[],a=0;a<e.length;a++){var u=e[a];(r&&u.isSelected||o&&u.isHovered)&&(u.modelType===go.LINE_EDGE?i.push(this.getLineOutline(u)):u.modelType===go.POLYLINE_EDGE?i.push(this.getPolylineOutline(u)):u.modelType===go.BEZIER_EDGE&&i.push(this.getBezierOutline(u)))}return i}},{key:"getLineOutline",value:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10,u=t.getOutlineStyle();return Object(J.g)(_s,xs({className:"lf-outline-edge",x:r,y:o,width:i,height:a},u))}},{key:"getPolylineOutline",value:function(t){var e=t.points,n=Ec(e),r=uc(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=t.getOutlineStyle();return Object(J.g)(_s,xs({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"getBezierOutline",value:function(t){var e=t.path,n=Mc(e),r=uc(n,8),o=r.x,i=r.y,a=r.width,u=r.height,c=t.getOutlineStyle();return Object(J.g)(_s,xs({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"render",value:function(){return Object(J.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&ks(e.prototype,n),r&&ks(e,r),i}(J.a))||vs;function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Is(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ls(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ls(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ls(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zs(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.r,a=void 0===i?4:i,u=t.className,c={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=Is(t,2),n=e[0],r=e[1];"object"!==Rs(r)&&(c[n]=r)})),c.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",Object(J.g)("circle",c)}function Bs(t){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vs(){return Vs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vs.apply(this,arguments)}function Xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ys(t,e,n){return e&&Gs(t.prototype,e),n&&Gs(t,n),t}function Us(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ws(t,e)}function Ws(t,e){return(Ws=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Zs(t);if(e){var o=Zs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $s(this,n)}}function $s(t,e){if(e&&("object"===Bs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qs(t)}function qs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zs(t){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Js(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qs,tf=function(t){Us(n,t);var e=Ks(n);function n(){var t;return Xs(this,n),Js(qs(t=e.call(this)),"dragHandler",void 0),Js(qs(t),"onDraging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.bezierModel,a=r.type,u=o.getPointByClient({x:n.clientX,y:n.clientY}).canvasOverlayPosition,c=u.x,l=u.y;i.updateAdjustAnchor({x:c,y:l},a)})),Js(qs(t),"onDragEnd",(function(){t.props.bezierModel.isDragging=!1})),t.dragHandler=new Jc({onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return Ys(n,[{key:"render",value:function(){var t=this,e=this.props.position,n=e.x,r=e.y,o=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(J.g)(zs,Vs({className:"lf-bezier-adjust-anchor",x:n,y:r},o,{onMouseDown:function(e){t.dragHandler.handleMouseDown(e)}}))}}]),n}(J.a),ef=vO(Ts=function(t){Us(n,t);var e=Ks(n);function n(){return Xs(this,n),e.apply(this,arguments)}return Ys(n,[{key:"getBezierAdjust",value:function(t,e){var n=t.path,r=t.id,o=Hs(Mc(n),4),i=o[0],a=o[1],u=o[2],c=o[3],l=t.getEdgeStyle().adjustLine,s=[];return s.push(Object(J.g)(is,Vs({x1:i.x,y1:i.y,x2:a.x,y2:a.y},l))),s.push(Object(J.g)(tf,{position:a,bezierModel:t,graphModel:e,key:"".concat(r,"_ePre"),type:"sNext"})),s.push(Object(J.g)(is,Vs({x1:c.x,y1:c.y,x2:u.x,y2:u.y},l))),s.push(Object(J.g)(tf,{position:u,bezierModel:t,graphModel:e,key:"".concat(r,"_sNext"),type:"ePre"})),s}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,n=[],r=0;r<e.length;r++){var o=e[r];o.isSelected&&o.modelType===go.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,t))}return n}},{key:"render",value:function(){return Object(J.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(J.a))||Ts;function nf(t){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function af(t,e){return(af=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=lf(t);if(e){var o=lf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}function cf(t,e){if(e&&("object"===nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lf(t){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sf,ff=vO(Qs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&af(t,e)}(i,t);var e,n,r,o=uf(i);function i(){return rf(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props.children;return Object(J.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(J.g)("g",{transform:t},e))}}])&&of(e.prototype,n),r&&of(e,r),i}(J.a))||Qs;function pf(t){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function df(){return df=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vf(t,e){return(vf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=mf(t);if(e){var o=mf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bf(this,n)}}function bf(t,e){if(e&&("object"===pf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mf(t){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Of=vO(sf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vf(t,e)}(i,t);var e,n,r,o=gf(i);function i(){return hf(this,i),o.apply(this,arguments)}return e=i,n=[{key:"getComponent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=this.props.getView,o=r(t.type);return Object(J.g)(o,{key:t.id,model:t,graphModel:e,overlay:n})}},{key:"render",value:function(){var t=this,e=this.props,n=e.graphModel,r=e.tool,o=e.options,i=e.dnd,a=e.snaplineModel,u={};o.width&&(u.width="".concat(n.width,"px")),o.height&&(u.height="".concat(n.height,"px"));var c=n.fakerNode,l=n.editConfigModel.adjustEdge;return Object(J.g)("div",{className:"lf-graph",style:u},Object(J.g)(jl,{graphModel:n,dnd:i},Object(J.g)("g",{className:"lf-base"},Rr(n.sortElements,(function(e){return t.getComponent(e,n)}))),c?this.getComponent(c,n):""),Object(J.g)(ff,{graphModel:n},Object(J.g)(Cs,{graphModel:n}),l?Object(J.g)(ef,{graphModel:n}):"",o.isSilentMode||!1===o.snapline?"":Object(J.g)(gs,{snaplineModel:a})),Object(J.g)(Rl,{graphModel:n,tool:r}),o.background&&Object(J.g)(Gl,{background:o.background}),o.grid&&Object(J.g)(ts,df({},o.grid,{graphModel:n})))}}],n&&yf(e.prototype,n),r&&yf(e,r),i}(J.a))||sf,_f=Of;function wf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wf(Object(n),!0).forEach((function(e){jf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sf=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),jf(this,"nodeConfig",void 0),jf(this,"lf",void 0),jf(this,"fakerNode",void 0),jf(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),jf(this,"dragEnter",(function(t){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(xf(xf({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),jf(this,"onDragOver",(function(t){if(t.preventDefault(),n.fakerNode){var e=n.clientToLocalPoint({x:t.clientX,y:t.clientY}),r=e.x,o=e.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.graphModel.eventCenter.emit(_o.NODE_DND_DRAG,{data:i})}return!1})),jf(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),jf(this,"onDrop",(function(t){if(n.lf.graphModel&&t&&n.nodeConfig){var e=n.lf.addNode(xf(xf({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY})));t.preventDefault(),t.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=e.getData();n.lf.graphModel.eventCenter.emit(_o.NODE_DND_ADD,{data:r})}}));var r=e.lf;this.lf=r}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(t){var e=t.x,n=t.y,r=wr(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Ki(i,r),y:Ki(a,r)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Ef(e.prototype,n),r&&Ef(e,r),t}();function Pf(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("请检查 container 参数是否有效");if("string"==typeof r||"string"==typeof o)throw new Error("width或height不支持传入字符串，请传数字");return n&&(t.grid=Qr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Qr({},Af,t)}var kf,Mf,Af={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Nf(t){return(Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Df(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Tf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cf(Object(n),!0).forEach((function(e){Uf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function If(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Lf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bf(){return Bf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Hf(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Bf.apply(this,arguments)}function Hf(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yf(t)););return t}function Ff(t,e){return(Ff=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Yf(t);if(e){var o=Yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xf(this,n)}}function Xf(t,e){if(e&&("object"===Nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gf(t)}function Gf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yf(t){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wf(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Kf,$f,qf,Zf,Jf,Qf,tp,ep,np,rp,op,ip,ap,up,cp,lp,sp,fp,pp,dp=(kf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}(i,t);var e,n,r,o=Vf(i);function i(){var t;Lf(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Uf(Gf(t=o.call.apply(o,[this].concat(n))),"modelType",go.BEZIER_EDGE),If(Gf(t),"path",Mf,Gf(t)),t}return e=i,(n=[{key:"initEdgeData",value:function(t){this.offset=100,Bf(Yf(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.bezier;return Rf(Rf({},Bf(Yf(i.prototype),"getEdgeStyle",this).call(this)),Ai(t))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;t+=r,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=Bf(Yf(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Rf(Rf({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return kc({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){var e=Df(t,4),n=e[0],r=e[1],o=e[2],i=e[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t=this.getControls(),e=t.sNext,n=t.ePre;this.updatePath(e,n)}},{key:"updatePath",value:function(t,e){var n={x:this.startPoint.x,y:this.startPoint.y},r={x:this.endPoint.x,y:this.endPoint.y};if(!t||!e){var o=this.getControls();t=o.sNext,e=o.ePre}this.pointsList=[n,t,e,r],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e;var n=Df(this.pointsList,3),r=n[1],o=n[2];r.x+=t,r.y+=e,this.updatePath(r,o)}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e;var n=Df(this.pointsList,3),r=n[1],o=n[2];o.x+=t,o.y+=e,this.updatePath(r,o)}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode,o=t.targetNode,i=kc({start:e,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,u=i.ePre;this.pointsList=[e,a,u,n],this.initPoints()}}])&&zf(e.prototype,n),r&&zf(e,r),i}(du),Mf=Wf(kf.prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wf(kf.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"initPoints"),kf.prototype),Wf(kf.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"updatePoints"),kf.prototype),Wf(kf.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"updateStartPoint"),kf.prototype),Wf(kf.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"updateEndPoint"),kf.prototype),Wf(kf.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"moveStartPoint"),kf.prototype),Wf(kf.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"moveEndPoint"),kf.prototype),Wf(kf.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"updateAdjustAnchor"),kf.prototype),Wf(kf.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"getAdjustStart"),kf.prototype),Wf(kf.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"getAdjustEnd"),kf.prototype),Wf(kf.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(kf.prototype,"updateAfterAdjustStartAndEnd"),kf.prototype),kf),hp=function(t){return null==t};function yp(t){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return gp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bp(Object(n),!0).forEach((function(e){wp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Op(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xp(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ep,jp,Sp=(Kf=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wp(this,"id",la()),Op(this,"type",$f,this),Op(this,"x",qf,this),Op(this,"y",Zf,this),Op(this,"text",Jf,this),Op(this,"properties",Qf,this),Op(this,"_width",tp,this),Op(this,"_height",ep,this),Op(this,"anchorsOffset",np,this),Op(this,"isSelected",rp,this),Op(this,"isHovered",op,this),Op(this,"isDragging",ip,this),Op(this,"isHitable",ap,this),Op(this,"draggable",up,this),Op(this,"visible",cp,this),wp(this,"virtual",!1),wp(this,"graphModel",void 0),Op(this,"zIndex",lp,this),Op(this,"state",sp,this),Op(this,"autoToFront",fp,this),Op(this,"style",pp,this),wp(this,"BaseType",mo.NODE),wp(this,"modelType",go.NODE),wp(this,"additionStateData",void 0),wp(this,"targetRules",[]),wp(this,"sourceRules",[]),wp(this,"moveRules",[]),wp(this,"hasSetTargetRules",!1),wp(this,"hasSetSourceRules",!1),this.graphModel=n,this.initNodeData(e),this.setAttributes()}var e,n,r;return e=t,n=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e(t.type);n&&(t.id=n);var r=this.createId();r&&(t.id=r)}this.formatText(t),Qr(this,function(t){return uo(t,["id","type","x","y","text","properties"])}(t)),this.graphModel.overlapMode===jo.INCREASE&&(this.zIndex=t.zIndex||iu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,i=this.properties;Object(o.x)(i)&&(i=Object(o.I)(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.graphModel.overlapMode===jo.INCREASE&&(a.zIndex=this.zIndex),r&&(a.text={x:e,y:n,value:r}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getNodeStyle",value:function(){return mp(mp({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return Ai(t)}},{key:"getAnchorStyle",value:function(t){var e=this.graphModel.theme.anchor;return Ai(e)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return Ai(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return Ai(t)}},{key:"isAllowConnectedAsSource",value:function(t,e,n){var r=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var u=r[a];if(!u.validate.call(this,this,t,e,n)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,e,n){var r=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var u=r[a];if(!u.validate.call(this,t,this,e,n)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"isAllowMoveNode",value:function(t,e){var n,r=!0,o=!0,i=vp(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(n=i.n()).done;){var a=(0,n.value)(this,t,e);if(!a)return!1;if("object"===yp(a)){var u=a;if(!1===u.x&&!1===u.y)return!1;r=r&&u.x,o=o&&u.y}}}catch(c){i.e(c)}finally{i.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.id,n=this.x,r=this.y;return t&&t.length>0?t.map((function(t,o){return t.length?{id:"".concat(e,"_").concat(o),x:n+t[0],y:r+t[1]}:mp(mp({},t),{},{x:n+t.x,y:r+t.y,id:t.id||"".concat(e,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!hp(t))for(var e=0;e<this.anchors.length;e++){var n=this.anchors[e];if(n.id===t)return n}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1;if(n)r=!0,o=!0;else{var i=this.isAllowMoveNode(t,e);"boolean"==typeof i?(r=i,o=i):(r=i.x,o=i.y)}if(r){var a=this.x+t;this.x=a,this.text&&this.moveText(t,0)}if(o){var u=this.y+e;this.y=u,this.text&&this.moveText(0,e)}return r||o}},{key:"getMoveDistance",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=!1,i=0,a=0;if(n)r=!0,o=!0;else{var u=this.isAllowMoveNode(t,e);"boolean"==typeof u?(r=u,o=u):(r=u.x,o=u.y)}if(r&&t){var c=this.x+t;this.x=c,this.text&&this.moveText(t,0),i=t}if(o&&e){var l=this.y+e;this.y=l,this.text&&this.moveText(0,e),a=e}return[i,a]}},{key:"moveTo",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t-this.x,o=e-this.y;return!(!n&&!this.isAllowMoveNode(r,o)||(this.text&&this.text&&this.moveText(r,o),this.x=t,this.y=e,0))}},{key:"moveText",value:function(t,e){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,editable:u,draggable:a,x:r+t,y:o+e}}},{key:"updateText",value:function(t){this.text=mp(mp({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setProperty",value:function(t,e){this.properties=mp(mp({},this.properties),{},wp({},t,nu(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=mp(mp({},this.properties),nu(t)),this.setAttributes()}},{key:"setStyle",value:function(t,e){this.style=mp(mp({},this.style),{},wp({},t,nu(e)))}},{key:"setStyles",value:function(t){this.style=mp(mp({},this.style),nu(t))}},{key:"updateStyles",value:function(t){this.style=mp({},nu(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){Qr(this,t)}}],n&&_p(e.prototype,n),r&&_p(e,r),t}(),$f=xp(Kf.prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qf=xp(Kf.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zf=xp(Kf.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jf=xp(Kf.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Qf=xp(Kf.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tp=xp(Kf.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),ep=xp(Kf.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),np=xp(Kf.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rp=xp(Kf.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=xp(Kf.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=xp(Kf.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ap=xp(Kf.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),up=xp(Kf.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cp=xp(Kf.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lp=xp(Kf.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sp=xp(Kf.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fp=xp(Kf.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pp=xp(Kf.prototype,"style",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xp(Kf.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(Kf.prototype,"incoming"),Kf.prototype),xp(Kf.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(Kf.prototype,"outgoing"),Kf.prototype),xp(Kf.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"addNodeMoveRules"),Kf.prototype),xp(Kf.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"move"),Kf.prototype),xp(Kf.prototype,"getMoveDistance",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"getMoveDistance"),Kf.prototype),xp(Kf.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"moveTo"),Kf.prototype),xp(Kf.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"moveText"),Kf.prototype),xp(Kf.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"updateText"),Kf.prototype),xp(Kf.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setSelected"),Kf.prototype),xp(Kf.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setHovered"),Kf.prototype),xp(Kf.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setHitable"),Kf.prototype),xp(Kf.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setElementState"),Kf.prototype),xp(Kf.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setProperty"),Kf.prototype),xp(Kf.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setProperties"),Kf.prototype),xp(Kf.prototype,"setStyle",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setStyle"),Kf.prototype),xp(Kf.prototype,"setStyles",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setStyles"),Kf.prototype),xp(Kf.prototype,"updateStyles",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"updateStyles"),Kf.prototype),xp(Kf.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"setZIndex"),Kf.prototype),xp(Kf.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(Kf.prototype,"updateAttributes"),Kf.prototype),Kf);function Pp(t){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kp(Object(n),!0).forEach((function(e){Hp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ap(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tp(){return Tp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Cp(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Tp.apply(this,arguments)}function Cp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bp(t)););return t}function Rp(t,e){return(Rp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ip(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Bp(t);if(e){var o=Bp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lp(this,n)}}function Lp(t,e){if(e&&("object"===Pp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zp(t)}function zp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bp(t){return(Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fp(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Vp,Xp,Gp,Yp=(Ep=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rp(t,e)}(i,t);var e,n,r,o=Ip(i);function i(){var t;Np(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Hp(zp(t=o.call.apply(o,[this].concat(n))),"modelType",go.CIRCLE_NODE),Ap(zp(t),"r",jp,zp(t)),t}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var t=Tp(Bp(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.circle;return Mp(Mp({},t),Ai(e))}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.r;return[{x:t,y:e-n,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}])&&Dp(e.prototype,n),r&&Dp(e,r),i}(Sp),jp=Fp(Ep.prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Fp(Ep.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Ep.prototype,"width"),Ep.prototype),Fp(Ep.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Ep.prototype,"height"),Ep.prototype),Ep);function Up(t){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Kp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$p(Object(n),!0).forEach((function(e){ud(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Jp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function td(){return td="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ed(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},td.apply(this,arguments)}function ed(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ad(t)););return t}function nd(t,e){return(nd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=ad(t);if(e){var o=ad(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return od(this,n)}}function od(t,e){if(e&&("object"===Up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return id(t)}function id(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ad(t){return(ad=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ud(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cd(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(127);var ld,sd,fd,pd=(Vp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nd(t,e)}(i,t);var e,n,r,o=rd(i);function i(){var t;Jp(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ud(id(t=o.call.apply(o,[this].concat(n))),"modelType",go.DIAMOND_NODE),Zp(id(t),"rx",Xp,id(t)),Zp(id(t),"ry",Gp,id(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=td(ad(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.diamond;return qp(qp({},t),Ai(e))}},{key:"points",get:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[[t,e-r],[t+n,e],[t,e+r],[t-n,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Wp(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Wp(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this;return this.points.map((function(e,n){var r=Wp(e,2);return{x:r[0],y:r[1],id:"".concat(t.id,"_").concat(n)}}))}}])&&Qp(e.prototype,n),r&&Qp(e,r),i}(Sp),Xp=cd(Vp.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Gp=cd(Vp.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),cd(Vp.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(Vp.prototype,"points"),Vp.prototype),cd(Vp.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(Vp.prototype,"pointsPosition"),Vp.prototype),cd(Vp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Vp.prototype,"width"),Vp.prototype),cd(Vp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Vp.prototype,"height"),Vp.prototype),Vp);function dd(t){return(dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hd(Object(n),!0).forEach((function(e){Sd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function md(){return md="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Od(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},md.apply(this,arguments)}function Od(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jd(t)););return t}function _d(t,e){return(_d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=jd(t);if(e){var o=jd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xd(this,n)}}function xd(t,e){if(e&&("object"===dd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ed(t)}function Ed(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jd(t){return(jd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pd(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var kd,Md,Ad=(ld=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_d(t,e)}(i,t);var e,n,r,o=wd(i);function i(){var t;gd(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Sd(Ed(t=o.call.apply(o,[this].concat(n))),"modelType",go.ELLIPSE_NODE),vd(Ed(t),"rx",sd,Ed(t)),vd(Ed(t),"ry",fd,Ed(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=md(jd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.ellipse;return yd(yd({},t),Ai(e))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[{x:t,y:e-r,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}])&&bd(e.prototype,n),r&&bd(e,r),i}(Sp),sd=Pd(ld.prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),fd=Pd(ld.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Pd(ld.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(ld.prototype,"width"),ld.prototype),Pd(ld.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(ld.prototype,"height"),ld.prototype),ld);function Nd(t){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Td(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Td(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Td(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cd(Object(n),!0).forEach((function(e){Ud(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Id(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ld(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bd(){return Bd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Hd(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Bd.apply(this,arguments)}function Hd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yd(t)););return t}function Fd(t,e){return(Fd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Yd(t);if(e){var o=Yd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xd(this,n)}}function Xd(t,e){if(e&&("object"===Nd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gd(t)}function Gd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yd(t){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ud(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wd(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Kd,$d,qd=(kd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fd(t,e)}(i,t);var e,n,r,o=Vd(i);function i(){var t;Ld(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ud(Gd(t=o.call.apply(o,[this].concat(n))),"modelType",go.POLYGON_NODE),Id(Gd(t),"points",Md,Gd(t)),t}return e=i,(n=[{key:"getNodeStyle",value:function(){var t=Bd(Yd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.polygon;return Rd(Rd({},t),Ai(e))}},{key:"pointsPosition",get:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+t-n/2,y:o[1]+e-r/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Dd(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Dd(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this,e=this.x,n=this.y,r=this.width,o=this.height;return this.points.map((function(i,a){var u=Dd(i,2),c=u[0],l=u[1];return{x:e+c-r/2,y:n+l-o/2,id:"".concat(t.id,"_").concat(a)}}))}}])&&zd(e.prototype,n),r&&zd(e,r),i}(Sp),Md=Wd(kd.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Wd(kd.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(kd.prototype,"pointsPosition"),kd.prototype),Wd(kd.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(kd.prototype,"width"),kd.prototype),Wd(kd.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(kd.prototype,"height"),kd.prototype),kd);function Zd(t){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jd(Object(n),!0).forEach((function(e){sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function th(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function eh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rh(){return rh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=oh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},rh.apply(this,arguments)}function oh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lh(t)););return t}function ih(t,e){return(ih=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=lh(t);if(e){var o=lh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uh(this,n)}}function uh(t,e){if(e&&("object"===Zd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ch(t)}function ch(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lh(t){return(lh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fh,ph,dh,hh,yh,vh,gh,bh=(Kd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ih(t,e)}(i,t);var e,n,r,o=ah(i);function i(){var t;eh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sh(ch(t=o.call.apply(o,[this].concat(n))),"modelType",go.RECT_NODE),th(ch(t),"radius",$d,ch(t)),t}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var t=rh(lh(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.rect;return Qd(Qd({},t),Ai(e))}}])&&nh(e.prototype,n),r&&nh(e,r),i}(Sp),fh=Kd.prototype,ph="radius",dh=[o.C],hh={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},vh={},Object.keys(hh).forEach((function(t){vh[t]=hh[t]})),vh.enumerable=!!vh.enumerable,vh.configurable=!!vh.configurable,("value"in vh||vh.initializer)&&(vh.writable=!0),vh=dh.slice().reverse().reduce((function(t,e){return e(fh,ph,t)||t}),vh),yh&&void 0!==vh.initializer&&(vh.value=vh.initializer?vh.initializer.call(yh):void 0,vh.initializer=void 0),void 0===vh.initializer&&(Object.defineProperty(fh,ph,vh),vh=null),$d=vh,Kd);function mh(t){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oh(Object(n),!0).forEach((function(e){Nh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(){return Eh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=jh(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Eh.apply(this,arguments)}function jh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ah(t)););return t}function Sh(t,e){return(Sh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ph(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Ah(t);if(e){var o=Ah(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kh(this,n)}}function kh(t,e){if(e&&("object"===mh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mh(t)}function Mh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ah(t){return(Ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dh(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Th=(gh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sh(t,e)}(i,t);var e,n,r,o=Ph(i);function i(){var t;wh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Nh(Mh(t=o.call.apply(o,[this].concat(n))),"modelType",go.TEXT_NODE),t}return e=i,(n=[{key:"getTextStyle",value:function(){var t=Eh(Ah(i.prototype),"getTextStyle",this).call(this),e=this.graphModel.theme.text;return _h(_h({},t),Ai(e))}},{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return Za({rows:t,fontSize:e,rowsLength:t.length}).width}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return Za({rows:t,fontSize:e,rowsLength:t.length}).height}}])&&xh(e.prototype,n),r&&xh(e,r),i}(Sp),Dh(gh.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(gh.prototype,"width"),gh.prototype),Dh(gh.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(gh.prototype,"height"),gh.prototype),gh);function Ch(t){return(Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lh(t,e){return(Lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Fh(t);if(e){var o=Fh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bh(this,n)}}function Bh(t,e){if(e&&("object"===Ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hh(t)}function Hh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fh(t){return(Fh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xh,Gh,Yh,Uh,Wh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lh(t,e)}(i,t);var e,n,r,o=zh(i);function i(){var t;Rh(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Vh(Hh(t=o.call.apply(o,[this].concat(n))),"modelType",go.HTML_NODE),t}return e=i,(n=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}}])&&Ih(e.prototype,n),r&&Ih(e,r),i}(Sp);function Kh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $h(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jh(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Qh=(Xh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Zh(this,"graphModel",void 0),$h(this,"isShowHorizontal",Gh,this),$h(this,"isShowVertical",Yh,this),$h(this,"position",Uh,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}var e,n,r;return e=t,n=[{key:"getStyle",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kh(Object(n),!0).forEach((function(e){Zh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,e){for(var n=t.x,r=t.y,o=!1,i=!1,a=0;a<e.length;a++){var u=e[a];if(u.id!==t.id&&(n===u.x&&(o=!0),r===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Xa(a);else{var u=this.graphModel.getNodeModelById(i);r=Xa(u)}}for(var c=0;c<e.length;c++){var l=e[c];if(l.id!==t.id){var s=Xa(l);if(s.minY===r.minY||s.maxY===r.minY){o=!0,n=r.minY;break}if(s.minY===r.maxY||s.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Qr({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Xa(a);else{var u=this.graphModel.getNodeModelById(i);r=Xa(u)}}for(var c=0;c<e.length;c++){var l=e[c];if(l.id!==t.id){var s=Xa(l);if(s.minX===r.minX||s.maxX===r.minX){o=!0,n=r.minX;break}if(s.minX===r.maxX||s.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Qr({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(t,e){var n=this.getCenterSnapLine(t,e),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(t,e);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,n=t.isShowVertical,r=t.position;this.position=r,this.isShowHorizontal=e,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,n=this.getSnapLinePosition(t,e);this.setSnaplineInfo(n)}}],n&&qh(e.prototype,n),r&&qh(e,r),t}(),Gh=Jh(Xh.prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Jh(Xh.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Jh(Xh.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh(Xh.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(Xh.prototype,"clearSnapline"),Xh.prototype),Jh(Xh.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(Xh.prototype,"setNodeSnapLine"),Xh.prototype),Xh),ty=new Map,ey=function(t){var e=la(),n=window.requestAnimationFrame((function n(){if(t(),ty.get(e)){var r=window.requestAnimationFrame(n);ty.set(e,r)}}));return ty.set(e,n),e},ny=function(t){var e=ty.get(t);e&&(window.cancelAnimationFrame(e),ty.delete(t))};function ry(t){return(ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oy(){return oy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(this,arguments)}function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iy(Object(n),!0).forEach((function(e){yy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ly(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(t,e){return(sy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=hy(t);if(e){var o=hy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return py(this,n)}}function py(t,e){if(e&&("object"===ry(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dy(t)}function dy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hy(t){return(hy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sy(t,e)}(i,t);var e,n,r,o=fy(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),yy(dy(t=o.call(this)),"preTargetNode",void 0),yy(dy(t),"sourceRuleResults",void 0),yy(dy(t),"targetRuleResults",void 0),yy(dy(t),"dragHandler",void 0),yy(dy(t),"t",void 0),yy(dy(t),"onDragStart",(function(e){var n=e.event,r=t.props,o=r.anchorData,i=r.nodeModel,a=r.graphModel,u=a.overlapMode;a.selectNodeById(i.id),u!==jo.INCREASE&&i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(_o.ANCHOR_DRAGSTART,{data:o,e:n,nodeModel:i}),t.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),yy(dy(t),"onDraging",(function(e){var n=e.event,r=t.props,o=r.graphModel,i=r.nodeModel,a=r.anchorData,u=o.transformModel,c=o.eventCenter,l=o.width,s=o.height,f=o.editConfigModel,p=f.autoExpand,d=f.stopMoveGraph,h=n.clientX,y=n.clientY,v=o.getPointByClient({x:h,y:y}),g=v.domOverlayPosition,b=g.x,m=g.y,O=v.canvasOverlayPosition,_=O.x,w=O.y;t.t&&ny(t.t);var x=[];b<10?x=[10,0]:b+10>l?x=[-10,0]:m<10?x=[0,10]:m+10>s&&(x=[0,-10]),t.setState({endX:_,endY:w,draging:!0}),t.moveAnchorEnd(_,w),x.length>0&&!d&&p&&(t.t=ey((function(){var e=uy(x,2),n=e[0],r=e[1];u.translate(n,r);var o=t.state,i=o.endX,a=o.endY;t.setState({endX:i-n,endY:a-r}),t.moveAnchorEnd(i-n,a-r)}))),c.emit(_o.ANCHOR_DRAG,{data:a,e:n,nodeModel:i})})),yy(dy(t),"onDragEnd",(function(e){t.t&&ny(t.t),t.checkEnd(e),t.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear()})),yy(dy(t),"checkEnd",(function(e){var n=t.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=i.x,u=i.y,c=i.id;r.edgeType;var l=t.state,s=l.endX,f=l.endY,p=l.draging,d=La({x:s,y:f},r);if(t.preTargetNode&&t.preTargetNode.state!==po.DEFAULT&&t.preTargetNode.setElementState(po.DEFAULT),p&&d&&d.node){var h=d.node,y=d.anchor.id,v="".concat(o.id,"_").concat(h.id,"_").concat(y,"_").concat(c),g=t.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,O=t.targetRuleResults.get(v)||{},_=O.isAllPass,w=O.msg;if(b&&_){h.setElementState(po.DEFAULT);var x=r.edgeGenerator(o.getData(),r.getNodeModelById(d.node.id).getData()),E=r.addEdge(ay(ay({},x),{},{sourceNodeId:o.id,sourceAnchorId:c,startPoint:{x:a,y:u},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}})),j=t.props.anchorData;r.eventCenter.emit(_o.ANCHOR_DROP,{data:j,e:e,nodeModel:o,edgeModel:E})}else{var S=h.getData();r.eventCenter.emit(_o.CONNECTION_NOT_ALLOWED,{data:S,msg:w||m})}}})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,draging:!1},t.dragHandler=new Jc({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return e=i,(n=[{key:"getAnchorShape",value:function(){var t=this.props,e=t.anchorData,n=t.style,r=t.node.getAnchorShape(e);if(r)return r;var o=e.x,i=e.y,a=ay(ay({},n),n.hover);return Object(J.g)("g",null,Object(J.g)(zs,oy({className:"lf-node-anchor-hover"},a,{x:o,y:i})),Object(J.g)(zs,oy({className:"lf-node-anchor"},n,{x:o,y:i})))}},{key:"moveAnchorEnd",value:function(t,e){var n=this.props,r=n.graphModel,o=n.nodeModel,i=n.anchorData,a=La({x:t,y:e},r);if(a){var u=a.node,c=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(po.DEFAULT),i.id===c)return;this.preTargetNode=u;var l="".concat(o.id,"_").concat(u.id,"_").concat(c,"_").concat(i.id);if(!this.targetRuleResults.has(l)){var s=a.anchor,f=o.isAllowConnectedAsSource(u,i,s),p=u.isAllowConnectedAsTarget(o,i,s);this.sourceRuleResults.set(l,Ja(f)),this.targetRuleResults.set(l,Ja(p))}var d=this.sourceRuleResults.get(l).isAllPass,h=this.targetRuleResults.get(l).isAllPass;d&&h?u.setElementState(po.ALLOW_CONNECT):u.setElementState(po.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==po.DEFAULT&&this.preTargetNode.setElementState(po.DEFAULT)}},{key:"isShowLine",value:function(){var t=this.state,e=t.startX,n=t.startY,r=t.endX,o=t.endY;return Ha(e,n,r,o)>10}},{key:"render",value:function(){var t=this,e=this.state,n=e.startX,r=e.startY,o=e.endX,i=e.endY,a=this.props,u=a.anchorData.edgeAddable,c=a.edgeStyle;return Object(J.g)("g",{className:"lf-anchor"},Object(J.g)("g",{onMouseDown:function(e){!1!==u&&t.dragHandler.handleMouseDown(e)}},this.getAnchorShape()),this.isShowLine()&&Object(J.g)(is,oy({x1:n,y1:r,x2:o,y2:i},c,{"pointer-events":"none"})))}}])&&ly(e.prototype,n),r&&ly(e,r),i}(J.a);function gy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function by(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gy(Object(n),!0).forEach((function(e){my(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function my(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oy(t){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wy(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xy(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.value,a=t.fontSize,u=t.fill,c=void 0===u?"currentColor":u,l=t.overflowMode,s=void 0===l?"default":l,f=t.textWidth,p=void 0===f?"":f,d=t.model,h={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:c};if(Object.entries(t).forEach((function(t){var e=_y(t,2),n=e[0],r=e[1];"object"!==Oy(r)&&(h[n]=r)})),i){var y=String(i).split(/[\r\n]/g),v=y.length;if("default"!==s){var g=d.BaseType,b=d.modelType;if(g===mo.NODE&&b!==go.TEXT_NODE||g===mo.EDGE&&p)return function(t){var e=t.value,n=t.fontSize,r=t.model,o=t.fontFamily,i=void 0===o?"":o,a=t.lineHeight,u=t.wrapPadding,c=void 0===u?"0, 0":u,l=t.overflowMode,s=t.x,f=t.y,p=r.width,d=r.textHeight,h=t.textWidth||p,y=String(e).split(/[\r\n]/g),v=y.length,g=qa({rows:y,style:{fontSize:"".concat(n,"px"),width:"".concat(h,"px"),fontFamily:i,lineHeight:a,padding:c},rowsLength:v,className:"lf-get-text-height"}),b=r.height>g?r.height:g;d&&(b=d);var m="ellipsis"===l;return Object(J.g)("g",null,Object(J.g)("foreignObject",{width:h,height:b,x:s-h/2,y:f-b/2},Object(J.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:h,padding:c}},Object(J.g)("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:by({},t)},y.map((function(t){return Object(J.g)("div",{className:"lf-node-text--auto-wrap-inner"},t)}))))))}(t)}if(v>1){var m=y.map((function(t,e){var r=(e-(v-1)/2)*(a+2);return Object(J.g)("tspan",{className:"lf-text-tspan",x:n,y:o+r},t)}));return Object(J.g)("text",h,m)}return Object(J.g)("text",h,i)}}function Ey(t){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jy(){return jy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(this,arguments)}function Sy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Py(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Py(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ky(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function My(t,e){return(My=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ay(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Ty(t);if(e){var o=Ty(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ny(this,n)}}function Ny(t,e){if(e&&("object"===Ey(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dy(t)}function Dy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ty(t){return(Ty=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(63);var Ry=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&My(t,e)}(i,t);var e,n,r,o=Ay(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Cy(Dy(e=o.call(this)),"dragHandler",void 0),Cy(Dy(e),"sumDeltaX",0),Cy(Dy(e),"sumDeltaY",0),Cy(Dy(e),"stepDrag",void 0),Cy(Dy(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=Sy(o.graphModel.transformModel.fixDeltaXY(n,r),2),u=a[0],c=a[1];i.moveText(u,c)})),Cy(Dy(e),"dblClickHandler",(function(){e.props.editable&&e.props.model.setElementState(po.TEXT_EDIT)})),Cy(Dy(e),"mouseDownHandle",(function(t){var n=e.props,r=n.draggable,o=n.graphModel.editConfigModel.nodeTextDraggable;(r||o)&&e.stepDrag.handleMouseDown(t)}));var n=t.model,r=t.draggable;return e.stepDrag=new Jc({onDraging:e.onDraging,step:1,model:n,isStopPropagation:r}),e}return e=i,(n=[{key:"getShape",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.text,o=n.editConfigModel,i=r.value,a=r.x,u=r.y,c=r.editable,l=r.draggable,s={x:a,y:u,className:"",value:i};c?s.className="lf-element-text":l||o.nodeTextDraggable?s.className="lf-text-draggable":s.className="lf-text-disabled";var f=e.getTextStyle();return Object(J.g)(xy,jy({},s,f,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return Object(J.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&ky(e.prototype,n),r&&ky(e,r),i}(J.a),Iy=null!==window.navigator.userAgent.match(/MSIE|Trident/);function Ly(t){return(Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return By(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?By(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function By(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fy(t,e){return(Fy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Yy(t);if(e){var o=Yy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xy(this,n)}}function Xy(t,e){if(e&&("object"===Ly(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gy(t)}function Gy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yy(t){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fy(t,e)}(i,t);var e,n,r,o=Vy(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Uy(Gy(e=o.call(this)),"t",void 0),Uy(Gy(e),"moveOffset",void 0),Uy(Gy(e),"stepDrag",void 0),Uy(Gy(e),"contextMenuTime",void 0),Uy(Gy(e),"startTime",void 0),Uy(Gy(e),"clickTimer",void 0),Uy(Gy(e),"onDragStart",(function(t){var n=t.event,r=n.clientX,o=n.clientY,i=e.props,a=i.model,u=i.graphModel.getPointByClient({x:r,y:o}).canvasOverlayPosition,c=u.x,l=u.y;e.moveOffset={x:a.x-c,y:a.y-l}})),Uy(Gy(e),"onDraging",(function(t){var n=t.event,r=e.props,o=r.model,i=r.graphModel,a=i.editConfigModel,u=a.stopMoveGraph,c=a.autoExpand,l=i.transformModel,s=i.width,f=i.height,p=i.gridSize;o.isDragging=!0;var d=n.clientX,h=n.clientY,y=i.getPointByClient({x:d,y:h}).canvasOverlayPosition,v=y.x,g=y.y,b=zy(l.CanvasPointToHtmlPoint([v,g]),2),m=b[0],O=b[1];if(v+=e.moveOffset.x,g+=e.moveOffset.y,v=Ki(v,p),g=Ki(g,p),s&&f){if(!c||u||!(m<0||O<0||m>s||O>f)){var _=zy(l.CanvasPointToHtmlPoint([v-o.width/2,g-o.height/2]),2),w=_[0],x=_[1],E=zy(l.CanvasPointToHtmlPoint([v+o.width/2,g+o.height/2]),2),j=E[0],S=E[1],P=Math.max(p,20),k=[];w<0?k=[P,0]:j>i.width?k=[-P,0]:x<0?k=[0,P]:S>i.height&&(k=[0,-P]),e.t&&ny(e.t),k.length>0&&!u&&c?e.t=ey((function(){var t=zy(k,2),e=t[0],n=t[1];l.translate(e,n),i.moveNode(o.id,-e/l.SCALE_X,-n/l.SCALE_X)})):i.moveNode2Coordinate(o.id,v,g)}}else i.moveNode2Coordinate(o.id,v,g)})),Uy(Gy(e),"onDragEnd",(function(){e.t&&ny(e.t),e.props.model.isDragging=!1})),Uy(Gy(e),"handleClick",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var n=e.props,r=n.model,o=n.graphModel,i={data:r.getData(),e:t,position:o.getPointByClient({x:t.clientX,y:t.clientY})},a=2===t.button,u=2===t.detail;if(!a){var c=o.editConfigModel;o.selectNodeById(r.id,ta(t,c)),e.toFront(),u?(c.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),o.setElementStateById(r.id,po.TEXT_EDIT)),o.eventCenter.emit(_o.NODE_DBCLICK,i)):(o.eventCenter.emit(_o.ELEMENT_CLICK,i),o.eventCenter.emit(_o.NODE_CLICK,i))}}})),Uy(Gy(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.model,o=n.graphModel,i=r.getData(),a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,po.SHOW_MENU,a.domOverlayPosition),o.selectNodeById(r.id),o.eventCenter.emit(_o.NODE_CONTEXTMENU,{data:i,e:t,position:a}),e.toFront()})),Uy(Gy(e),"handleMouseDown",(function(t){var n=e.props,r=n.model,o=n.graphModel;e.toFront(),e.startTime=(new Date).getTime(),o.editConfigModel.adjustNodePosition&&r.draggable&&e.stepDrag&&e.stepDrag.handleMouseDown(t)})),Uy(Gy(e),"setHoverON",(function(t){if(!e.state.isHovered){e.setState({isHovered:!0});var n=e.props,r=n.model,o=n.graphModel,i=r.getData();r.setHovered(!0),o.eventCenter.emit(_o.NODE_MOUSEENTER,{data:i,e:t})}})),Uy(Gy(e),"setHoverOFF",(function(t){e.setState({isHovered:!1});var n=e.props,r=n.model,o=n.graphModel,i=r.getData();r.setHovered(!1),o.eventCenter.emit(_o.NODE_MOUSELEAVE,{data:i,e:t})})),Uy(Gy(e),"onMouseOut",(function(t){Iy&&e.setHoverOFF(t)}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter,u=t.model;return e.stepDrag=new Jc({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:r,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:u}),e.state={isHovered:!1},e}return e=i,r=[{key:"getModel",value:function(t){return t}}],(n=[{key:"getAnchorShape",value:function(t){return null}},{key:"getAnchors",value:function(){var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.isSelected,i=n.isHitable,a=n.isDragging,u=this.state.isHovered;if(i&&(o||u)&&!a){var c=n.getAnchorLineStyle();return Rr(n.anchors,(function(e,o){var i=n.getAnchorStyle(e);return Object(J.g)(vy,{anchorData:e,node:t,style:i,edgeStyle:c,anchorIndex:o,nodeModel:n,graphModel:r,setHoverOFF:t.setHoverOFF})}))}return[]}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===po.TEXT_EDIT)return"";if(e.text){var r=n.editConfigModel,o=!1;return(e.text.draggable||r.nodeTextDraggable)&&(o=!0),Object(J.g)(Ry,{editable:r.nodeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:o})}}},{key:"getStateClassName",value:function(){var t=this.props.model,e=t.state,n=t.isDraging,r=t.isSelected,o="lf-node";switch(e){case po.ALLOW_CONNECT:o+=" lf-node-allow";break;case po.NOT_ALLOW_CONNECT:o+=" lf-node-not-allow";break;default:o+=" lf-node-default"}return n&&(o+=" lf-isDragging"),r&&(o+=" lf-node-selected"),o}},{key:"toFront",value:function(){var t=this.props,e=t.model,n=t.graphModel;n.overlapMode!==jo.INCREASE&&e.autoToFront&&n.toFront(e.id)}},{key:"render",value:function(){var t,e=this.props,n=e.model,r=e.graphModel,o=r.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,u=r.gridSize,c=r.transformModel.SCALE_X,l=n.isHitable,s=n.draggable,f=Object(J.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return l?(a&&s&&this.stepDrag.setStep(u*c),t=Object(J.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):t=Object(J.g)("g",{className:this.getStateClassName()},f),t}}])&&Hy(e.prototype,n),r&&Hy(e,r),i}(J.a);function Ky(t){return(Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $y(){return $y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function qy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jy(t,e){return(Jy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=ev(t);if(e){var o=ev(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tv(this,n)}}function tv(t,e){if(e&&("object"===Ky(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ev(t){return(ev=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jy(t,e)}(i,t);var e,n,r,o=Qy(i);function i(){return qy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(J.g)(_s,$y({},e,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))}}])&&Zy(e.prototype,n),r&&Zy(e,r),i}(Wy);function rv(t){return(rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ov(){return ov=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function iv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uv(t,e){return(uv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=sv(t);if(e){var o=sv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lv(this,n)}}function lv(t,e){if(e&&("object"===rv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function sv(t){return(sv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uv(t,e)}(i,t);var e,n,r,o=cv(i);function i(){return iv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.r,o=t.getNodeStyle();return Object(J.g)(zs,ov({},o,{x:e,y:n,r:r}))}}])&&av(e.prototype,n),r&&av(e,r),i}(Wy);function pv(t){return(pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yv(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(t){var e=dv(t,2),n=e[0],o=e[1];"object"!==pv(o)&&(r[n]=o)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map((function(t){return t.join(",")})).join(" "),Object(J.g)("polygon",r)}function vv(t){return(vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gv(){return gv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(this,arguments)}function bv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ov(t,e){return(Ov=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=xv(t);if(e){var o=xv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wv(this,n)}}function wv(t,e){if(e&&("object"===vv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xv(t){return(xv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ev=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ov(t,e)}(i,t);var e,n,r,o=_v(i);function i(){return bv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.points,a=t.getNodeStyle(),u={transform:"matrix(1 0 0 1 ".concat(e-r/2," ").concat(n-o/2,")")};return Object(J.g)("g",u,Object(J.g)(yv,gv({},a,{points:i,x:e,y:n})))}}])&&mv(e.prototype,n),r&&mv(e,r),i}(Wy);function jv(t){return(jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sv(){return Sv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function Pv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mv(t,e){return(Mv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Av(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Dv(t);if(e){var o=Dv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nv(this,n)}}function Nv(t,e){if(e&&("object"===jv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dv(t){return(Dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mv(t,e)}(i,t);var e,n,r,o=Av(i);function i(){return Pv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(J.g)("g",null,Object(J.g)(yv,Sv({},e,{points:t.points,x:t.x,y:t.y})))}}])&&kv(e.prototype,n),r&&kv(e,r),i}(Wy);function Cv(t){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lv(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.rx,a=void 0===i?4:i,u=t.ry,c=void 0===u?4:u,l=t.className,s={cx:n,cy:o,rx:a,ry:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=Rv(t,2),n=e[0],r=e[1];"object"!==Cv(r)&&(s[n]=r)})),s.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(J.g)("ellipse",s)}function zv(t){return(zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bv(){return Bv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function Hv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vv(t,e){return(Vv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Yv(t);if(e){var o=Yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gv(this,n)}}function Gv(t,e){if(e&&("object"===zv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yv(t){return(Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vv(t,e)}(i,t);var e,n,r,o=Xv(i);function i(){return Hv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(J.g)(Lv,Bv({},e,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))}}])&&Fv(e.prototype,n),r&&Fv(e,r),i}(Wy);function Wv(t){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kv(Object(n),!0).forEach((function(e){qv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qv(t,e){return(Qv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=ng(t);if(e){var o=ng(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eg(this,n)}}function eg(t,e){if(e&&("object"===Wv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ng(t){return(ng=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qv(t,e)}(i,t);var e,n,r,o=tg(i);function i(){return Zv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.text;if(n&&n.value&&e.background&&"transparnet"!==e.background.fill){var r=n.x,o=n.y,i=t.width,a=t.height,u=$v($v({},e.background),{},{x:r,y:o-1,width:i,height:a});return Object(J.g)(_s,u)}}},{key:"getShape",value:function(){return Object(J.g)("g",null,this.getBackgroud())}}])&&Jv(e.prototype,n),r&&Jv(e,r),i}(Wy);function og(t){return(og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ig(){return ig=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function ag(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ug(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cg(t,e){return(cg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=pg(t);if(e){var o=pg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sg(this,n)}}function sg(t,e){if(e&&("object"===og(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fg(t)}function fg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pg(t){return(pg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cg(t,e)}(i,t);var e,n,r,o=lg(i);function i(){var t;ag(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return dg(fg(t=o.call.apply(o,[this].concat(n))),"ref",void 0),dg(fg(t),"currrentProperties",void 0),dg(fg(t),"preProperties",void 0),dg(fg(t),"setRef",(function(e){t.ref=e})),t}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.height,o=t.width,i=t.getNodeStyle();return this.currrentProperties=JSON.stringify(t.properties),Object(J.g)("foreignObject",ig({},i,{x:e-o/2,y:n-r/2,width:o,height:r,ref:this.setRef}))}}])&&ug(e.prototype,n),r&&ug(e,r),i}(Wy);function yg(t){return(yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vg(){return vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function gg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gg(Object(n),!0).forEach((function(e){jg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Og(t,e){return(Og=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Eg(t);if(e){var o=Eg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wg(this,n)}}function wg(t,e){if(e&&("object"===yg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xg(t)}function xg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eg(t){return(Eg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sg,Pg,kg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Og(t,e)}(i,t);var e,n,r,o=_g(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),jg(xg(e=o.call(this,t)),"setHoverON",(function(){e.setState({isHoverd:!0})})),jg(xg(e),"setHoverOFF",(function(){e.setState({isHoverd:!1})})),e.state={isHoverd:!1},e}return e=i,(n=[{key:"getBackgroud",value:function(){var t=this.props.model,e=t.getTextStyle(),n=t.text,r=e.background||{};if(this.state.isHoverd&&e.hover&&e.hover.background&&(r=bg(bg({},r),e.hover.background)),n&&n.value&&"transparent"!==r.fill){var o,i=e.fontSize,a=e.overflowMode,u=e.lineHeight,c=e.wrapPadding,l=e.textWidth,s=n.value,f=n.x,p=n.y,d=String(s).split(/[\r\n]/g),h=d.length;if("autoWrap"===a&&l){var y=qa({rows:d,style:{fontSize:"".concat(i,"px"),width:"".concat(l,"px"),lineHeight:u,padding:c},rowsLength:h,className:"lf-get-text-height"});o=bg(bg({},r),{},{x:f-1,y:p-1,width:l,height:y})}else{d&&d.forEach((function(t){Pc(t)}));var v=Za({rows:d,fontSize:i,rowsLength:h}),g=v.width,b=v.height;if("string"==typeof r.wrapPadding){var m=r.wrapPadding.split(",").filter((function(t){return t.trim()})).map((function(t){return parseFloat(t.trim())}));m.length>0&&m.length<=4&&(1===m.length?m=[m[0],m[0],m[0],m[0]]:2===m.length?m=[m[0],m[1],m[0],m[1]]:3===m.length&&(m=[m[0],m[1],m[2],m[1]]),g+=m[1]+m[3],b+=m[0]+m[2],f+=(m[1]-m[3])/2,p+=(m[2]-m[0])/2)}o=bg(bg({},r),{},{x:f-1,y:p-1,width:g,height:b})}return Object(J.g)(_s,o)}}},{key:"getShape",value:function(){var t=this.props.model,e=t.text,n=e.value,r=e.x,o=e.y;if(n){var i=bg({x:r,y:o,className:"lf-element-text",value:n},t.getTextStyle());return Object(J.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(J.g)(xy,vg({},i,{model:t})))}}}])&&mg(e.prototype,n),r&&mg(e,r),i}(Ry);function Mg(t){return(Mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ag(){return Ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function Ng(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ng(Object(n),!0).forEach((function(e){Fg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Cg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ig(t,e){return(Ig=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Hg(t);if(e){var o=Hg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zg(this,n)}}function zg(t,e){if(e&&("object"===Mg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bg(t)}function Bg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hg(t){return(Hg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(Pg=Sg||(Sg={})).SOURCE="SOURCE",Pg.TARGET="TARGET";var Vg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ig(t,e)}(i,t);var e,n,r,o=Lg(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Fg(Bg(t=o.call(this)),"dragHandler",void 0),Fg(Bg(t),"oldEdge",void 0),Fg(Bg(t),"preTargetNode",void 0),Fg(Bg(t),"targetRuleResults",void 0),Fg(Bg(t),"sourceRuleResults",void 0),Fg(Bg(t),"onDragStart",(function(){var e=t.props,n=e.x,r=e.y,o=e.edgeModel,i=o.startPoint,a=o.endPoint,u=o.pointsList;t.oldEdge={startPoint:i,endPoint:a,pointsList:u},t.setState({endX:n,endY:r,draging:!0}),o.isHitable=!1})),Fg(Bg(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.state,i=o.endX,a=o.endY,u=t.props,c=u.graphModel,l=u.type,s=Tg(c.transformModel.moveCanvasPointByHtml([i,a],n,r),2),f=s[0],p=s[1];t.setState({endX:f,endY:p,draging:!0});var d=t.props.edgeModel,h=La({x:i,y:a},c);if(h&&h.node&&t.isAllowAdjust(h)){var y,v=d.startPoint,g=d.endPoint,b=d.sourceNode,m=d.targetNode;l===Sg.SOURCE?y={startPoint:{x:h.anchor.x,y:h.anchor.y},endPoint:{x:g.x,y:g.y},sourceNode:h.node,targetNode:m}:l===Sg.TARGET&&(y={startPoint:{x:v.x,y:v.y},endPoint:{x:h.anchor.x,y:h.anchor.y},sourceNode:b,targetNode:h.node}),d.updateAfterAdjustStartAndEnd(y)}else l===Sg.SOURCE?d.updateStartPoint({x:f,y:p}):l===Sg.TARGET&&d.updateEndPoint({x:f,y:p})})),Fg(Bg(t),"onDragEnd",(function(){var e;t.setState({draging:!1});var n=t.props,r=n.graphModel,o=n.edgeModel,i=n.type;o.isHitable=!0;var a=t.state,u=a.endX,c=a.endY,l=a.draging,s=La({x:u,y:c},r);if(l){if(s&&s.node&&t.isAllowAdjust(s)){var f,p=o.getData(),d=Dg(Dg({},p),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==p||null===(f=p.text)||void 0===f?void 0:f.value)||""});i===Sg.SOURCE?d=Dg(Dg({},r.edgeGenerator(r.getNodeModelById(s.node.id).getData(),r.getNodeModelById(o.targetNodeId).getData(),d)),{},{sourceNodeId:s.node.id,sourceAnchorId:s.anchor.id,startPoint:{x:s.anchor.x,y:s.anchor.y},targetNodeId:o.targetNodeId,endPoint:Dg({},o.endPoint)}):i===Sg.TARGET&&(d=Dg(Dg({},r.edgeGenerator(r.getNodeModelById(o.sourceNodeId).getData(),r.getNodeModelById(s.node.id).getData(),d)),{},{sourceNodeId:o.sourceNodeId,startPoint:Dg({},o.startPoint),targetNodeId:s.node.id,targetAnchorId:s.anchor.id,endPoint:{x:s.anchor.x,y:s.anchor.y}})),r.deleteEdgeById(o.id);var h=r.addEdge(Dg({},d));r.eventCenter.emit(_o.EDGE_EXCHANGE_NODE,{data:{newEdge:h.getData(),oldEdge:o.getData()}})}else t.recoveryEdge();null===(e=t.preTargetNode)||void 0===e||e.setElementState(po.DEFAULT)}})),Fg(Bg(t),"recoveryEdge",(function(){var e=t.props.edgeModel,n=t.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;e.updateStartPoint(r),e.updateEndPoint(o),e.modelType!==go.LINE_EDGE&&(e.pointsList=i,e.initPoints())})),Fg(Bg(t),"getAdjustPointStyle",(function(){return t.props.graphModel.theme.edgeAdjust})),t.state={draging:!1,endX:0,endY:0},t.targetRuleResults=new Map,t.sourceRuleResults=new Map,t.dragHandler=zc({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return e=i,(n=[{key:"isAllowAdjust",value:function(t){var e=this.props,n=e.edgeModel;n.id;var r=n.sourceNode,o=n.targetNode,i=n.sourceAnchorId,a=n.targetAnchorId,u=e.type,c=null,l=null,s=null,f=null;if(u===Sg.SOURCE?(c=t.node,l=o,s=t.anchor,f=o.getAnchorInfo(a)):(c=r,l=t.node,f=t.anchor,s=r.getAnchorInfo(i)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(po.DEFAULT),this.preTargetNode=t.node,f.id===s.id)return!1;var p="".concat(c.id,"_").concat(l.id,"_").concat(s.id,"_").concat(f.id);if(!this.targetRuleResults.has(p)){var d=c.isAllowConnectedAsSource(l,s,f),h=l.isAllowConnectedAsTarget(c,s,f);this.sourceRuleResults.set(p,Ja(d)),this.targetRuleResults.set(p,Ja(h))}var y=this.sourceRuleResults.get(p).isAllPass,v=this.targetRuleResults.get(p).isAllPass,g=y&&v?po.ALLOW_CONNECT:po.NOT_ALLOW_CONNECT;return u===Sg.SOURCE?c.setElementState(g):l.setElementState(g),y&&v}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=this.state.draging,o=this.getAdjustPointStyle();return Object(J.g)("g",null,Object(J.g)(zs,Ag({className:"lf-edge-adjust-point"},o,{x:e,y:n,onMouseDown:this.dragHandler,"pointer-events":r?"none":""})))}}])&&Rg(e.prototype,n),r&&Rg(e,r),i}(J.a);function Xg(t){return(Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gg(){return Gg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function Yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ug(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yg(Object(n),!0).forEach((function(e){tb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $g(t,e){return($g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Qg(t);if(e){var o=Qg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zg(this,n)}}function Zg(t,e){if(e&&("object"===Xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jg(t)}function Jg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qg(t){return(Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$g(t,e)}(i,t);var e,n,r,o=qg(i);function i(){var t;Wg(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tb(Jg(t=o.call.apply(o,[this].concat(n))),"startTime",void 0),tb(Jg(t),"contextMenuTime",void 0),tb(Jg(t),"clickTimer",void 0),tb(Jg(t),"handleHover",(function(e,n){var r=t.props,o=r.model,i=r.graphModel.eventCenter;o.setHovered(e);var a=e?_o.EDGE_MOUSEENTER:_o.EDGE_MOUSELEAVE,u=o.getData();i.emit(a,{data:u,e:n})})),tb(Jg(t),"setHoverON",(function(e){t.props.model.isHovered||t.handleHover(!0,e)})),tb(Jg(t),"setHoverOFF",(function(e){t.handleHover(!1,e)})),tb(Jg(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var n=t.props,r=n.model,o=n.graphModel,i=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,po.SHOW_MENU,i.domOverlayPosition),t.toFront(),o.selectEdgeById(r.id);var a=null==r?void 0:r.getData();o.eventCenter.emit(_o.EDGE_CONTEXTMENU,{data:a,e:e,position:i})})),tb(Jg(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),tb(Jg(t),"handleMouseUp",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200||2===e.button)){var n=2===e.detail,r=t.props,o=r.model,i=r.graphModel,a=null==o?void 0:o.getData(),u=i.getPointByClient({x:e.clientX,y:e.clientY});if(n){var c=i.editConfigModel,l=i.textEditElement;if(l&&l.id===o.id&&i.setElementStateById(o.id,po.DEFAULT),c.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,po.TEXT_EDIT),o.modelType===go.POLYLINE_EDGE){var s=o,f=i.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition,p=f.x,d=f.y,h=Nc({x:p,y:d},s.points);s.dbClickPosition=h}i.eventCenter.emit(_o.EDGE_DBCLICK,{data:a,e:e,position:u})}else i.eventCenter.emit(_o.ELEMENT_CLICK,{data:a,e:e,position:u}),i.eventCenter.emit(_o.EDGE_CLICK,{data:a,e:e,position:u});var y=i.editConfigModel;i.selectEdgeById(o.id,ta(e,y)),t.toFront()}})),tb(Jg(t),"getIsDraging",(function(){return!1})),t}return e=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===po.TEXT_EDIT)return"";var r=!1,o=n.editConfigModel;return(e.text.draggable||o.edgeTextDraggable)&&(r=!0),Object(J.g)(kg,{editable:o.edgeTextEdit&&e.text.editable,model:e,graphModel:n,draggable:r})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isSelected;return{start:e,end:n,hover:this.state.hover,isSelected:r}}},{key:"getArrowStyle",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.getEdgeStyle(),o=e.getEdgeAnimationStyle(),i=n.theme.arrow,a=e.isAnimation?o.stroke:r.stroke;return Ug(Ug({},r),{},{fill:a,stroke:a},i)}},{key:"getArrow",value:function(){return Object(J.g)("g",null,Object(J.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.id,o=n.theme.arrow,i=o.offset,a=o.verticalLength,u=this.getArrowStyle(),c=u.stroke,l=u.strokeWidth;return Object(J.g)("marker",{id:"marker-start-".concat(r),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(J.g)("path",{stroke:c,fill:c,strokeWidth:l,d:"M 0 0 L ".concat(i," -").concat(a," L ").concat(i," ").concat(a," Z")}))}},{key:"getEndArrow",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.id,o=n.theme.arrow,i=o.offset,a=o.verticalLength,u=this.getArrowStyle(),c=u.stroke,l=u.strokeWidth;return Object(J.g)("marker",{id:"marker-end-".concat(r),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(J.g)("path",{stroke:c,fill:c,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(i," -").concat(a," L ").concat(i," ").concat(a," Z")}))}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,n=t.graphModel,r=e.getAdjustStart(),o=e.getAdjustEnd();return Object(J.g)("g",null,Object(J.g)(Vg,Gg({type:"SOURCE"},r,{edgeModel:e,graphModel:n})),Object(J.g)(Vg,Gg({type:"TARGET"},o,{edgeModel:e,graphModel:n})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(J.g)("g",null)}},{key:"getAppend",value:function(){return Object(J.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel,n=t.model;e.overlapMode!==jo.INCREASE&&e.toFront(n.id)}},{key:"render",value:function(){var t=this.props,e=t.model,n=e.isSelected,r=e.isHitable,o=t.graphModel,i=this.getIsDraging(),a=o.editConfigModel.adjustEdgeStartAndEnd,u=o.animation,c=n&&u.edge&&1===o.getSelectElements().edges.length;return Object(J.g)("g",null,Object(J.g)("g",{className:["lf-edge",!r&&"pointer-none",n&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),c&&this.getAnimation(),this.getText(),this.getArrow()),a&&n&&!i?this.getAdjustPoints():"")}}])&&Kg(e.prototype,n),r&&Kg(e,r),i}(J.a);function nb(t){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ob(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ob(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ib=function(t){var e={d:""};return Object.entries(t).forEach((function(t){var n=rb(t,2),r=n[0],o=n[1],i=nb(o);"style"!==r&&"object"===i||(e[r]=o)})),Object(J.g)("path",e)};function ab(t){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ub(){return ub=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}function cb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sb(t,e){return(sb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=db(t);if(e){var o=db(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pb(this,n)}}function pb(t,e){if(e&&("object"===ab(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function db(t){return(db=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sb(t,e)}(i,t);var e,n,r,o=fb(i);function i(){return cb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeStyle(),a=t.getEdgeAnimationStyle(),u=a.strokeDasharray,c=a.stroke,l=a.strokeDashoffset,s=a.animationName,f=a.animationDuration,p=a.animationIterationCount,d=a.animationTimingFunction,h=a.animationDirection;return Object(J.g)(is,ub({},i,{x1:e.x,y1:e.y,x2:n.x,y2:n.y},o,r?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:l,animationName:s,animationDuration:f,animationIterationCount:p,animationTimingFunction:d,animationDirection:h}}:{}))}},{key:"getShape",value:function(){return Object(J.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=e.strokeDasharray,i=t.startPoint,a=t.endPoint,u=t.getEdgeStyle();return Object(J.g)("g",null,Object(J.g)(is,ub({},u,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Ku(qu(qu({},o),{},{type:"start"})),a=Ku(qu(qu({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:t.startPoint,end:t.endPoint}),n=e.d,r=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(J.g)(ib,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}}])&&lb(e.prototype,n),r&&lb(e,r),i}(eb);function yb(t){return(yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bb=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){var n=vb(t,2),r=n[0],o=n[1];("style"===r||"object"!==yb(o))&&(e[r]=o)})),Object(J.g)("polyline",e)};function mb(t){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ob(Object(n),!0).forEach((function(e){Nb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wb(){return wb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}function xb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sb(t,e){return(Sb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Ab(t);if(e){var o=Ab(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kb(this,n)}}function kb(t,e){if(e&&("object"===mb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mb(t)}function Mb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ab(t){return(Ab=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Db=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sb(t,e)}(i,t);var e,n,r,o=Pb(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Nb(Mb(t=o.call(this)),"drag",void 0),Nb(Mb(t),"isDraging",void 0),Nb(Mb(t),"appendInfo",void 0),Nb(Mb(t),"dragHandler",void 0),Nb(Mb(t),"onDragStart",(function(){t.props.model.dragAppendStart()})),Nb(Mb(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.isDraging=!0;var u=a.transformModel,c=a.editConfigModel,l=xb(u.fixDeltaXY(n,r),2),s=l[0],f=l[1],p=i,d=c.adjustEdgeMiddle;t.appendInfo=d?p.dragAppendSimple(t.appendInfo,{x:s,y:f}):p.dragAppend(t.appendInfo,{x:s,y:f})})),Nb(Mb(t),"onDragEnd",(function(){var e=t.props,n=e.model,r=e.graphModel.eventCenter,o=n;o.dragAppendEnd(),t.isDraging=!1,t.appendInfo=void 0,r.emit(_o.EDGE_ADJUST,{data:o.getData()})})),Nb(Mb(t),"beforeDragStart",(function(e,n){n.dragAble&&t.dragHandler(e),t.appendInfo=n})),Nb(Mb(t),"getIsDraging",(function(){return t.isDraging})),t.drag=zc({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.points,n=t.isAnimation,r=t.arrowConfig,o=t.getEdgeStyle(),i=t.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,l=i.animationName,s=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(J.g)(bb,wb({points:e},o,r,n?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:l,animationDuration:s,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(J.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=e.strokeDasharray,i=t.getEdgeStyle();return Object(J.g)("g",null,Object(J.g)(bb,wb({points:t.points},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,n=t.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=Ec(e);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getAppendAttributes",value:function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Ku(_b(_b({},o),{},{type:"start"})),a=Ku(_b(_b({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttributes(t),n=e.d,r=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(J.g)(ib,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.pointsList,i=n.draggable,a=[],u=o.length,c=function(e){var n="lf-polyline-append",c={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:"",dragAble:!0},l=Object(J.g)("g",{className:n},t.getAppendShape(c)),s=r.editConfigModel,f=s.adjustEdge,p=s.adjustEdgeMiddle;if(f&&i){t.dragHandler=t.drag;var d=c.startIndex,h=c.endIndex,y=p&&(0===d||h===u-1);c.dragAble=!y,c.start.x===c.end.x?(c.dragAble&&(n+="-ew-resize"),c.direction=xo.VERTICAL):c.start.y===c.end.y&&(c.dragAble&&(n+="-ns-resize"),c.direction=xo.HORIZONTAL),l=Object(J.g)("g",{className:t.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},Object(J.g)("g",{className:n},t.getAppendShape(c)))}else t.dragHandler=function(){};a.push(l)},l=0;l<u-1;l++)c(l);return Object(J.g)("g",null,a)}}])&&jb(e.prototype,n),r&&jb(e,r),i}(eb);function Tb(t){return(Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ib(){return Ib=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function Lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bb(t,e){return(Bb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Vb(t);if(e){var o=Vb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fb(this,n)}}function Fb(t,e){if(e&&("object"===Tb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vb(t){return(Vb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bb(t,e)}(i,t);var e,n,r,o=Hb(i);function i(){return Lb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle(),n=t.path,r=t.isAnimation,o=t.arrowConfig,i=t.getEdgeAnimationStyle(),a=i.strokeDasharray,u=i.stroke,c=i.strokeDashoffset,l=i.animationName,s=i.animationDuration,f=i.animationIterationCount,p=i.animationTimingFunction,d=i.animationDirection;return Object(J.g)(ib,Ib({d:n},e,o,r?{strokeDasharray:a,stroke:u,style:{strokeDashoffset:c,animationName:l,animationDuration:s,animationIterationCount:f,animationTimingFunction:p,animationDirection:d}}:{}))}},{key:"getShape",value:function(){return Object(J.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=e.strokeDasharray,i=t.getEdgeStyle();return Object(J.g)("g",null,Object(J.g)(ib,Ib({d:t.path},i,{className:r,strokeDasharray:o,stroke:n})))}},{key:"getAppendWidth",value:function(){var t=this.props.model.path;return Object(J.g)(ib,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state.hover,n=t,r=n.path,o=n.isSelected,i=function(t){var e=Mc(t);return[e[2],e[3]]}(r),a=Cb(i,2);return{start:a[0],end:a[1],hover:e,isSelected:o}}}])&&zb(e.prototype,n),r&&zb(e,r),i}(eb);function Gb(t){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ub(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $b(t,e){return($b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Jb(t);if(e){var o=Jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zb(this,n)}}function Zb(t,e){if(e&&("object"===Gb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jb(t){return(Jb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$b(t,e)}(i,t);var e,n,r,o=qb(i);function i(){return Wb(this,i),o.apply(this,arguments)}return e=i,n=[{key:"getArrowAttributes",value:function(){var t=this.props,e=t.arrowInfo,n=t.style,r=e.start,o=e.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=Ku(i),u=a.leftX,c=a.leftY,l=a.rightX,s=a.rightY;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yb(Object(n),!0).forEach((function(e){Ub(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({d:"M".concat(u," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(l," ").concat(s," z")},n)}},{key:"getShape",value:function(){var t=this.getArrowAttributes(),e=t.d,n=t.strokeWidth,r=t.stroke,o=t.fill;return Object(J.g)(ib,{d:e,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(J.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Kb(e.prototype,n),r&&Kb(e,r),i}(J.a),tm=function(t,e){return Dn(t,e)},em=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},nm=function(){return yt.a.Date.now()},rm=/\s/,om=function(t){for(var e=t.length;e--&&rm.test(t.charAt(e)););return e},im=/^\s+/,am=function(t){return t?t.slice(0,om(t)+1).replace(im,""):t},um=/^[-+]0x[0-9a-f]+$/i,cm=/^0b[01]+$/i,lm=/^0o[0-7]+$/i,sm=parseInt,fm=function(t){if("number"==typeof t)return t;if(zn(t))return NaN;if(St(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=St(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=am(t);var n=cm.test(t);return n||lm.test(t)?sm(t.slice(2),n?2:8):um.test(t)?NaN:+t},pm=Math.max,dm=Math.min,hm=function(t,e,n){var r,o,i,a,u,c,l=0,s=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,i=o;return r=o=void 0,l=e,a=t.apply(i,n)}function h(t){return l=t,u=setTimeout(v,e),s?d(t):a}function y(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=i}function v(){var t=nm();if(y(t))return g(t);u=setTimeout(v,function(t){var n=e-(t-c);return f?dm(n,i-(t-l)):n}(t))}function g(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function b(){var t=nm(),n=y(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return h(c);if(f)return clearTimeout(u),u=setTimeout(v,e),d(c)}return void 0===u&&(u=setTimeout(v,e)),a}return e=fm(e)||0,St(n)&&(s=!!n.leading,i=(f="maxWait"in n)?pm(fm(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?a:g(nm())},b},ym=n(166);function vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bm,mm,Om,_m=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gm(this,"undos",[]),gm(this,"redos",[]),gm(this,"callbacks",[]),gm(this,"stopWatch",null),gm(this,"curData",null),gm(this,"maxSize",50),gm(this,"waitTime",100),gm(this,"eventCenter",void 0),this.eventCenter=e}var e,n,r;return e=t,(n=[{key:"add",value:function(t){tm(em(this.undos),t)||(this.undos.push(t),tm(this.curData,t)||(this.redos=[]),this.eventCenter.emit(_o.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=Ai(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=Ai(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(ym.a)(t,hm((function(){var n=t.modelToHistoryData();n&&e.add(n)}),this.waitTime))}}])&&vm(e.prototype,n),r&&vm(e,r),t}();function wm(t){return(wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Em(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Em(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jm(Object(n),!0).forEach((function(e){Tm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function km(t,e){return(km=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=Dm(t);if(e){var o=Dm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(t,e){if(e&&("object"===wm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nm(t)}function Nm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dm(t){return(Dm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cm,Rm,Im,Lm=vO((Om=mm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&km(t,e)}(i,t);var e,n,r,o=Mm(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Tm(Nm(t=o.call(this)),"ref",Object(J.f)()),Tm(Nm(t),"__prevText",{type:"",text:"",id:""}),Tm(Nm(t),"keyupHandler",(function(e){var n=t.props.graphModel.textEditElement;"Enter"===e.key&&e.altKey&&n.setElementState(0)})),Tm(Nm(t),"inputHandler",(function(e){var n=e.target.innerText,r=t.props.graphModel.textEditElement;t.__prevText={type:r.type,text:n.replace(/(\r\n)+$|(\n)+$/,""),id:r.id}})),Tm(Nm(t),"keydownHandler",(function(t){t.stopPropagation()})),t.state={style:{left:0,top:0}},t}return e=i,r=[{key:"getDerivedStateFromProps",value:function(t){var e,n=t.graphModel,r=n.transformModel,o=n.theme,i=n.textEditElement;if(i){var a;if((null===(a=i.text)||void 0===a||!a.value)&&i.BaseType===mo.EDGE){var u=i.text,c=i.textPosition,l=c.x,s=c.y;u.x=l,u.y=s,i.setText(u)}var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===mo.EDGE){var p=o.edgeText,d=p.overflowMode,h=p.lineHeight,y=p.wrapPadding,v=p.textWidth;v&&"autoWrap"===d&&(e=Sm(Sm({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===mo.NODE){var g=o.nodeText,b=g.overflowMode,m=g.lineHeight,O=g.wrapPadding,_=g.textWidth,w=i,x=w.width,E=w.modelType;(E!==go.TEXT_NODE&&"autoWrap"===b||E===go.TEXT_NODE&&_)&&(e=Sm(Sm({},f),{},{width:_||x,minWidth:_||x,lineHeight:m,padding:O}))}var j=i.text,S=j.x,P=j.y,k=xm(r.CanvasPointToHtmlPoint([S,P]),2);return{style:Sm({left:k[0],top:k[1]},e)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var t=this.props.graphModel,e=t.eventCenter,n=t.editConfigModel,r=n.edgeTextEdit,o=n.nodeTextEdit;(r||o)&&e.on("".concat(_o.GRAPH_TRANSFORM,",").concat(_o.NODE_CLICK,",").concat(_o.BLANK_CLICK," "),(function(){t.textEditElement&&t.textEditElement.setElementState(po.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,n=e.text,r=e.id;t.updateText(r,n),t.eventCenter.emit(_o.TEXT_UPDATE,Sm({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,n=this.state.style;return e?Object(J.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}])&&Pm(e.prototype,n),r&&Pm(e,r),i}(J.a),Tm(mm,"toolName","textEdit"),bm=Om))||bm,zm=function(t){return t.modelType===go.LINE_EDGE?function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}}(t):t.modelType===go.POLYLINE_EDGE?function(t){var e=t.points,n=Ec(e),r=uc(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):t.modelType===go.BEZIER_EDGE?function(t){var e=t.path,n=Mc(e),r=uc(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):void 0};function Bm(t){return(Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||Vm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(t){return function(t){if(Array.isArray(t))return Xm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Vm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vm(t,e){if(t){if("string"==typeof t)return Xm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(t,e):void 0}}function Xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ym(t,e){return(Ym=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(he){return!1}}();return function(){var n,r=$m(t);if(e){var o=$m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wm(this,n)}}function Wm(t,e){if(e&&("object"===Bm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Km(t)}function Km(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $m(t){return($m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zm=vO((Im=Rm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ym(t,e)}(i,t);var e,n,r,o=Um(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),qm(Km(e=o.call(this)),"stepDrag",void 0),qm(Km(e),"handleMouseDown",(function(t){e.stepDrag.handleMouseDown(t)})),qm(Km(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(t){return t.id})),n,r)})),qm(Km(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.graphModel,o=n.graphModel,i=o.eventCenter,a=o.selectElements,u=r.getPointByClient({x:t.clientX,y:t.clientY}),c={nodes:[],edges:[]};Fm(a.values()).forEach((function(t){t.BaseType===mo.NODE&&c.nodes.push(t.getData()),t.BaseType===mo.EDGE&&c.edges.push(t.getData())})),i.emit(_o.SELECTION_CONTEXTMENU,{data:c,e:t,position:u})}));var n=t.graphModel,r=n.gridSize,a=n.eventCenter;return e.stepDrag=new Jc({onDraging:e.onDraging,step:r,eventType:"SELECTION",eventCenter:a}),e}return e=i,(n=[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,n=t.transformModel;if(!(e.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e={x:0,y:0,x1:0,y1:0};t.BaseType===mo.NODE&&(e=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{x:e-r/2,y:n-o/2,x1:e+r/2,y1:n+o/2}}(t)),t.BaseType===mo.EDGE&&(e=zm(t)),r=Math.min(r,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x1),a=Math.max(a,e.y1)}));var u=Hm(n.CanvasPointToHtmlPoint([r,o]),2);r=u[0],o=u[1];var c=Hm(n.CanvasPointToHtmlPoint([i,a]),2);i=c[0],a=c[1];var l={left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")};return Object(J.g)("div",{className:"lf-multiple-select",style:l,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Gm(e.prototype,n),r&&Gm(e,r),i}(J.a),qm(Rm,"toolName","multipleSelect"),Cm=Im))||Cm;function Jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Qm(this,"tools",void 0),Qm(this,"components",void 0),Qm(this,"toolMap",new Map),Qm(this,"instance",void 0),this.instance=e,this.isDisabledTool(Lm.toolName)||this.registerTool(Lm.toolName,Lm),this.isDisabledTool(Zm.toolName)||this.registerTool(Zm.toolName,Zm)}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Jm(e.prototype,n),r&&Jm(e,r),t}(),eO=n(167),nO=n.n(eO);function rO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),oO(this,"mousetrap",void 0),oO(this,"options",void 0),oO(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new nO.a(this.target),e.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(Se(e))e.forEach((function(e){var n=e.keys,r=e.callback,o=e.action;return t.on(n,r,o)}));else{var n=e.keys,r=e.callback,o=e.action;this.on(n,r,o)}}},{key:"on",value:function(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatkey(t)}))}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&rO(e.prototype,n),r&&rO(e,r),t}(),aO=iO,uO=null;function cO(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function lO(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}function sO(t){return(sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fO(Object(n),!0).forEach((function(e){hO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yO=function(){function t(e){var n,r,o,i,a,u,c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hO(this,"container",void 0),hO(this,"width",void 0),hO(this,"height",void 0),hO(this,"graphModel",void 0),hO(this,"history",void 0),hO(this,"viewMap",new Map),hO(this,"tool",void 0),hO(this,"keyboard",void 0),hO(this,"dnd",void 0),hO(this,"options",void 0),hO(this,"snaplineModel",void 0),hO(this,"components",[]),hO(this,"plugins",void 0),hO(this,"extension",{}),hO(this,"adapterIn",void 0),hO(this,"adapterOut",void 0),hO(this,"getView",(function(t){return c.viewMap.get(t)})),e=Pf(e),this.options=e,this.container=e.container,this.plugins=e.plugins,this.graphModel=new dl(pO({},e)),this.tool=new tO(this),this.history=new _m(this.graphModel.eventCenter),this.dnd=new Sf({lf:this}),this.keyboard=new aO({lf:this,keyboard:e.keyboard}),e.isSilentMode||!1===e.snapline||(this.snaplineModel=new Qh(this.graphModel),n=this.graphModel.eventCenter,r=this.snaplineModel,n.on("node:mousemove",(function(t){var e=t.data;r.setNodeSnapLine(e)})),n.on("node:mouseup",(function(){r.clearSnapline()}))),o=this,i=this.graphModel,a=o.keyboard,u=a.options.keyboard,a.on(["cmd + c","ctrl + c"],(function(){if(u.enabled&&!i.textEditElement){var t=o.options.guards,e=i.getSelectElements(!1);return t&&t.beforeClone&&!t.beforeClone(e)?(uO=null,!1):((uO=e).nodes.forEach((function(t){return cO(t,40)})),uO.edges.forEach((function(t){return lO(t,40)})),!1)}})),a.on(["cmd + v","ctrl + v"],(function(){if(u.enabled&&!i.textEditElement){if(uO&&(uO.nodes||uO.edges)){o.clearSelectElements();var t=o.addElements(uO);if(!t)return;t.nodes.forEach((function(t){return o.selectElementById(t.id,!0)})),t.edges.forEach((function(t){return o.selectElementById(t.id,!0)})),uO.nodes.forEach((function(t){return cO(t,40)})),uO.edges.forEach((function(t){return lO(t,40)}))}return!1}})),a.on(["cmd + z","ctrl + z"],(function(){if(u.enabled&&!i.textEditElement)return o.undo(),!1})),a.on(["cmd + y","ctrl + y"],(function(){if(u.enabled&&!i.textEditElement)return o.redo(),!1})),a.on(["backspace"],(function(){if(u.enabled&&!i.textEditElement){var t=i.getSelectElements(!0);return o.clearSelectElements(),t.edges.forEach((function(t){return o.deleteEdge(t.id)})),t.nodes.forEach((function(t){return o.deleteNode(t.id)})),!1}})),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(e.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var r={BaseEdge:eb,BaseEdgeModel:pu,BaseNode:Wy,BaseNodeModel:Sp,RectNode:nv,RectNodeModel:bh,CircleNode:fv,CircleNodeModel:Yp,PolygonNode:Ev,PolygonNodeModel:qd,TextNode:rg,TextNodeModel:Th,LineEdge:hb,LineEdgeModel:Mu,DiamondNode:Tv,DiamondNodeModel:pd,PolylineEdge:Db,PolylineEdgeModel:Wu,BezierEdge:Xb,BezierEdgeModel:dp,EllipseNode:Uv,EllipseNodeModel:Ad,HtmlNode:hg,HtmlNodeModel:Wh,h:J.g,type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(r[e]=t)}));var o=e(r),i=o.view,a=o.model,u=i;n&&!u.isObervered&&(u.isObervered=!0,u=Z(u)),this.setView(t,u),this.graphModel.setModel(t,a)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=Z(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.registerElement(e)}))}},{key:"defaultRegister",value:function(){this.registerElement({view:nv,model:bh,type:"rect"}),this.registerElement({type:"circle",view:fv,model:Yp}),this.registerElement({type:"polygon",view:Ev,model:qd}),this.registerElement({type:"line",view:hb,model:Mu}),this.registerElement({type:"polyline",view:Db,model:Wu}),this.registerElement({type:"bezier",view:Xb,model:dp}),this.registerElement({type:"text",view:rg,model:Th}),this.registerElement({type:"ellipse",view:Uv,model:Ad}),this.registerElement({type:"diamond",view:Tv,model:pd}),this.registerElement({type:"html",view:hg,model:Wh})}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(t,e),e||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformModel,n=t.coordinate,r=t.id;if(!n){var o=this.getNodeModelById(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,u=a.x,c=a.y;e.focusOn(u,c,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,e){this.graphModel.resize(t,e),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.updateText(t,e)}},{key:"deleteElement",value:function(t){var e,n,r,o=this.getModelById(t);return!!o&&null!==(n=null===(r=(hO(e={},mo.NODE,this.deleteNode),hO(e,mo.EDGE,this.deleteEdge),e)[o.BaseType])||void 0===r?void 0:r.call(this,t))&&void 0!==n&&n}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"changeEdgeType",value:function(t,e){this.graphModel.changeEdgeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModelById(t);if(!e)return!1;var n=e.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(t),o}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModelById(t).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,n=this.graphModel.edgesMap[t];if(!n)return!1;var r=n.model.getData(),o=!e||!e.beforeDelete||e.beforeDelete(r);return o&&this.graphModel.deleteEdgeById(t),o}},{key:"deleteEdgeByNodeId",value:function(t){var e=t.sourceNodeId,n=t.targetNodeId;e&&n?this.graphModel.deleteEdgeBySourceAndTarget(e,n):e?this.graphModel.deleteEdgeBySource(e):n&&this.graphModel.deleteEdgeByTarget(n)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.graphModel.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getEdgeModels",value:function(t){var e=this.graphModel.edges,n=t.sourceNodeId,r=t.targetNodeId;if(n&&r){var o=[];return e.forEach((function(t){t.sourceNodeId===n&&t.targetNodeId===r&&o.push(t)})),o}if(n){var i=[];return e.forEach((function(t){t.sourceNodeId===n&&i.push(t)})),i}if(r){var a=[];return e.forEach((function(t){t.targetNodeId===r&&a.push(t)})),a}return[]}},{key:"getEdgeDataById",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.setProperties(nu(e))}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,n=t.nodes,r=t.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var u=n[a],c=u.id,l=this.addNode(u);if(!l)return;c&&(o[c]=l.id),i.nodes.push(l)}return r.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId;o[n]&&(t.sourceNodeId=o[n]),o[r]&&(t.targetNodeId=o[r]);var a=e.graphModel.addEdge(t);i.edges.push(a)})),i}},{key:"getAreaElement",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.graphModel.getAreaElement(t,e,n,r,o).map((function(t){return t.getData()}))}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=nu(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=nu(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,e){return this.graphModel.transformModel.zoom(t,e)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformModel.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,e=t.TRANSLATE_X,n=t.TRANSLATE_Y;this.translate(-e,-n)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,e){void 0===e&&(e=t),this.graphModel.fitView(t,e)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,e){this.graphModel.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.graphModel.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.graphModel.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.graphModel.eventCenter.emit(t,e)}},{key:"installPlugins",value:function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(e=this.plugins)&&void 0!==e?e:t.extensions;o.forEach((function(t){var e=t.pluginName||t.name;-1===r.indexOf(e)&&n.installPlugin(t)}))}},{key:"installPlugin",value:function(e){if("object"===sO(e)){var n=e.install,r=e.render;return n&&n.call(e,this,t),r&&this.components.push(r.bind(e)),void(this.extension[e.pluginName]=e)}var o=e,i=new o({lf:this,LogicFlow:t});i.render&&this.components.push(i.render.bind(i)),this.extension[o.pluginName]=i}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var n=new e(pO(pO({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("不存在为".concat(t.type,"类型的节点"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(nu(t)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(J.j)(Object(J.g)(_f,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(_o.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],r=[{key:"use",value:function(t){var e=t.pluginName;e||(console.warn("请给插件".concat(t.name||t.constructor.name,"指定pluginName!")),e=t.name);var n=this.extensions.get(e);n&&n.destroy&&n.destroy(),this.extensions.set(e,t)}}],n&&dO(e.prototype,n),r&&dO(e,r),t}();function vO(t){return Z(t)}hO(yO,"extensions",new Map),e.default=yO}])},M.exports=N();var T=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=t.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,t/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++){a=Math.floor(Math.random()*n).toString(n)+a}if(i){var u=Math.pow(n,i);a=Math.floor(Math.random()*u).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,t)?e(t,n):a};e.rack=function(t,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var u=e(t,n)}while(Object.hasOwnProperty.call(i,u));return i[u]=o,u},i=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=n||16,o}}));function C(t){if(!(this instanceof C))return new C(t);t=t||[128,36,1],this._seed=t.length?T.rack(t[0],t[1],t[2]):t}C.prototype.next=function(t){return this._seed(t||!0)},C.prototype.nextPrefixed=function(t,e){var n;do{n=t+this.next(!0)}while(this.assigned(n));return this.claim(n,e),n},C.prototype.claim=function(t,e){this._seed.set(t,e||!0)},C.prototype.assigned=function(t){return this._seed.get(t)||!1},C.prototype.unclaim=function(t){delete this._seed.hats[t]},C.prototype.clear=function(){var t,e=this._seed.hats;for(t in e)this.unclaim(t)};var R=new C([32,32,1]);function I(){return R.next()}var L,z=globalThis&&globalThis.__extends||(L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){function e(e,n){return e.id||(e.id="Event_"+I()),e.text||(e.text=""),e.text&&"string"==typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),t.call(this,e,n)||this}z(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var e=t.prototype.getConnectedTargetRules.call(this);return e.push({message:"起始节点不能作为边的终点",validate:function(){return!1}}),e},e.extendKey="StartEventModel"}(D.exports.CircleNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}z(e,t),e.extendKey="StartEventNode"}(D.exports.CircleNode);var B=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=globalThis&&globalThis.__assign||function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},H.apply(this,arguments)};!function(t){function e(e,n){return e.id||(e.id="Event_"+I()),e.text||(e.text=""),e.text&&"string"==typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),t.call(this,e,n)||this}B(e,t),e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var e=t.prototype.getConnectedSourceRules.call(this);return e.push({message:"结束节点不能作为边的起点",validate:function(){return!1}}),e},e.extendKey="EndEventModel"}(D.exports.CircleNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}B(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var e=this.props.model,n=e.getNodeStyle(),r=e.x,o=e.y,i=e.r,a=t.prototype.getShape.call(this);return D.exports.h("g",{},a,D.exports.h("circle",H(H({},n),{cx:r,cy:o,r:i-5})))},e.extendKey="EndEventView"}(D.exports.CircleNode);var F=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=globalThis&&globalThis.__assign||function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},V.apply(this,arguments)};!function(t){function e(e,n){var r=this;return e.id||(e.id="Gateway_"+I()),e.text||(e.text=""),e.text&&"string"==typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),(r=t.call(this,e,n)||this).points=[[25,0],[50,25],[25,50],[0,25]],r}F(e,t),e.extendKey="ExclusiveGatewayModel"}(D.exports.PolygonNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}F(e,t),e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.points,a=t.getNodeStyle();return D.exports.h("g",{transform:"matrix(1 0 0 1 "+(e-r/2)+" "+(n-o/2)+")"},D.exports.h("polygon",V(V({},a),{x:e,y:n,points:i})),D.exports.h("path",V({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},a)))},e.extendKey="ExclusiveGatewayNode"}(D.exports.PolygonNode);var X=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=globalThis&&globalThis.__assign||function(){return G=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},G.apply(this,arguments)};!function(t){function e(e,n){return e.id||(e.id="Activity_"+I()),t.call(this,e,n)||this}X(e,t),e.extendKey="UserTaskModel"}(D.exports.RectNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}X(e,t),e.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.getNodeStyle();return D.exports.h("svg",{x:e-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},D.exports.h("path",{fill:i.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.radius,a=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("rect",G(G({},a),{x:e-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o})),this.getLabelShape()])},e.extendKey="UserTaskNode"}(D.exports.RectNode);var Y=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=globalThis&&globalThis.__assign||function(){return U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},U.apply(this,arguments)};!function(t){function e(e,n){return e.id||(e.id="Activity_"+I()),t.call(this,e,n)||this}Y(e,t),e.extendKey="ServiceTaskModel"}(D.exports.RectNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Y(e,t),e.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.getNodeStyle();return D.exports.h("svg",{x:e-r/2+5,y:n-o/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},D.exports.h("path",{fill:i.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.radius,a=t.getNodeStyle();return D.exports.h("g",{},[D.exports.h("rect",U({x:e-r/2,y:n-o/2,rx:i,ry:i,width:r,height:o},a)),this.getLabelShape()])},e.extendKey="ServiceTaskNode"}(D.exports.RectNode);var W=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){return e.id||(e.id="Flow_"+I()),t.call(this,e,n)||this}W(e,t),e.extendKey="SequenceFlowModel"}(D.exports.PolylineEdgeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}W(e,t),e.extendKey="SequenceFlowEdge"}(D.exports.PolylineEdge);var K=40,$=40,q=40,Z=40,J=40,Q=40,tt=100,et=80,nt=100,rt=80,ot=function(){function t(t){var e=this,n=t.lf;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(t,n){e.getSnapshot(t,n)},n.getSnapshotBlob=function(t){return e.getSnapshotBlob(t)},n.getSnapshotBase64=function(t){return e.getSnapshotBase64(t)}}return t.prototype.getSvgRootElement=function(t){var e=this;return this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,t.graphModel.nodes.forEach((function(t){var n=t.x-t.width/2,r=t.y-t.height/2;n<e.offsetX&&(e.offsetX=n-5),r<e.offsetY&&(e.offsetY=r-5)})),t.graphModel.edges.forEach((function(t){t.pointsList&&t.pointsList.forEach((function(t){var n=t.x,r=t.y;n<e.offsetX&&(e.offsetX=n-5),r<e.offsetY&&(e.offsetY=r-5)}))})),t.container.querySelector(".lf-canvas-overlay")},t.prototype.triggerDownload=function(t){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",t),n.setAttribute("target","_blank"),n.dispatchEvent(e)},t.prototype.removeAnchor=function(t){for(var e=t.childNodes,n=t.childNodes&&t.childNodes.length,r=0;r<n;r++){var o=e[r];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[r]),n--,r--)}},t.prototype.getSnapshot=function(t,e){var n=this;this.fileName=t||"logic-flow."+Date.now()+".png";var r=this.getSvgRootElement(this.lf);this.getCanvasData(r,e).then((function(t){var e=t.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(e)}))},t.prototype.getSnapshotBase64=function(t){var e=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){e.getCanvasData(n,t).then((function(t){var e=t.toDataURL("image/png");r({data:e,width:t.width,height:t.height})}))}))},t.prototype.getSnapshotBlob=function(t){var e=this,n=this.getSvgRootElement(this.lf);return new Promise((function(r){e.getCanvasData(n,t).then((function(t){t.toBlob((function(e){r({data:e,width:t.width,height:t.height})}),"image/png")}))}))},t.prototype.getClassRules=function(){var t="";if(this.useGlobalRules)for(var e=document.styleSheets,n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.cssRules.length;o++)t+=r.cssRules[o].cssText;return this.customCssRules&&(t+=this.customCssRules),t},t.prototype.getCanvasData=function(t,e){var n=this,r=t.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var u=o.childNodes[a],c=u.classList&&Array.from(u.classList);if(c&&c.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var l=o.childNodes[a];l&&l.childNodes.forEach((function(t){var e=t;n.removeAnchor(e.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var s=window.devicePixelRatio||1,f=document.createElement("canvas"),p=this.lf.graphModel.rootEl.querySelector(".lf-base").getBoundingClientRect(),d=this.lf.graphModel.transformModel,h=d.SCALE_X,y=d.SCALE_Y,v=Math.ceil(p.width/h),g=Math.ceil(p.height/y);f.style.width=v+"px",f.style.height=g+"px",f.width=v*s+80,f.height=g*s+80;var b=f.getContext("2d");b.clearRect(0,0,f.width,f.height),b.scale(s,s),e?(b.fillStyle=e,b.fillRect(0,0,v*s+80,g*s+80)):b.clearRect(0,0,v,g);var m=new Image,O=document.createElement("style");O.innerHTML=this.getClassRules();var _=document.createElement("foreignObject");return _.appendChild(O),r.appendChild(_),new Promise((function(t){m.onload=function(){b.drawImage(m,0,0),t(f)};var e=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");m.src=e}))},t.pluginName="snapshot",t}(),it=new C([32,32,1]);function at(){return it.next()}var ut=function(){};(ut.ObjTree=function(){return this}).VERSION="0.23",ut.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',ut.ObjTree.prototype.attr_prefix="-",ut.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(t),e=n.documentElement);if(e)return this.parseDOM(e)},ut.ObjTree.prototype.parseHTTP=function(t,e,n){var r,o={};for(var i in e)o[i]=e[i];if(o.method||(void 0===o.postBody&&void 0===o.postbody&&void 0===o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,u=n,c=o.onComplete;o.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=a.parseDOM(t.responseXML.documentElement)),u(e,t),c&&c(t)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=t,(l=new HTTP.Request(o))&&(r=l.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var l;(l=new Ajax.Request(t,o))&&(r=l.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},ut.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),11!=t.nodeType){var r={};r[t.nodeName]=n,n=r}return n}},ut.ObjTree.prototype.parseElement=function(t){if(7!=t.nodeType){if(3==t.nodeType||4==t.nodeType){if(null==t.nodeValue.match(/[^\x00-\x20]/))return;return t.nodeValue}var e,n={};if(t.attributes&&t.attributes.length){e={};for(var r=0;r<t.attributes.length;r++){if("string"==typeof(a=t.attributes[r].nodeName))(u=t.attributes[r].nodeValue)&&(void 0===n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(e,a,n[a],u))}}if(t.childNodes&&t.childNodes.length){var o=!0;e&&(o=!1);for(r=0;r<t.childNodes.length&&o;r++){var i=t.childNodes[r].nodeType;3!=i&&4!=i&&(o=!1)}if(o){e||(e="");for(r=0;r<t.childNodes.length;r++)e+=t.childNodes[r].nodeValue}else{e||(e={});for(r=0;r<t.childNodes.length;r++){var a,u;if("string"==typeof(a=t.childNodes[r].nodeName))(u=this.parseElement(t.childNodes[r]))&&(void 0===n[a]&&(n[a]=0),n[a]++,this.addNode(e,a,n[a],u))}}}return e}},ut.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(1==n&&(t[e]=[]),t[e][t[e].length]=r):1==n?t[e]=r:2==n?t[e]=[t[e],r]:t[e][t[e].length]=r},ut.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e},ut.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!=this.attr_prefix?void 0===i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),u=n.join("");return void 0===t||null==t||(u=n.length>0?u.match(/\n/)?"<"+t+a+">\n"+u+"</"+t+">\n":"<"+t+a+">"+u+"</"+t+">\n":"<"+t+a+" />\n"),u},ut.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];void 0===o||null==o?n[n.length]="<"+t+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(t,o):n[n.length]="object"==typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return n.join("")},ut.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"==t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},ut.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ct,lt,st=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};(lt=ct||(ct={})).START="bpmn:startEvent",lt.END="bpmn:endEvent",lt.GATEWAY="bpmn:exclusiveGateway",lt.USER="bpmn:userTask",lt.SYSTEM="bpmn:serviceTask",lt.FLOW="bpmn:sequenceFlow";var ft=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function pt(t){var e={};return Object.entries(t).forEach((function(t){var n=st(t,2),r=n[0],o=n[1];"object"!=typeof o?0===r.indexOf("-")?e[r]=o:e["-"+r]=o:e[r]=pt(o)})),e}function dt(t){var e={};return Object.entries(t).forEach((function(t){var n=st(t,2),r=n[0],o=n[1];"string"==typeof o?0===r.indexOf("-")?e[r.substr(1)]=o:e[r]=o:e[r]="object"==typeof o?dt(o):o})),e}function ht(t){var e=[],n=[],r=t["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(t){if(0===t.indexOf("bpmn:")){var i=o[t];if(t===ct.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(t,e){var n=[];if(Array.isArray(t))t.forEach((function(t){var r;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(vt(r,t))}));else{var r=void 0;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(vt(r,t))}return n}(i,a)}else{var u=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(function(t,e,n){var r=[];if(Array.isArray(t))t.forEach((function(t){var o=yt(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n,t);r.push(o)}));else{var o=yt(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n,t);r.push(o)}return r}(i,u,t))}}}))}return{nodes:e,edges:n}}function yt(t,e,n){var r,o,i=Number(t["dc:Bounds"]["-x"]),a=Number(t["dc:Bounds"]["-y"]),u=n["-name"],c=gt.shapeConfigMap.get(e);if(c&&(i+=c.width/2,a+=c.height/2),Object.entries(n).forEach((function(t){var e=st(t,2),n=e[0],o=e[1];-1===ft.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=dt(r)),u&&(o={x:i,y:a,value:u},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var l=t["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(l["-x"])+Number(l["-width"])/2,o.y=Number(l["-y"])+Number(l["-height"])/2}var s={id:t["-bpmnElement"],type:e,x:i,y:a,properties:r};return o&&(s.text=o),s}function vt(t,e){var n,r,o=e["-name"];if(o){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(t){a<t.length&&(a=t.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(e).forEach((function(t){var e=st(t,2),n=e[0],o=e[1];-1===ft.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=dt(r));var u={id:e["-id"],type:ct.FLOW,pointsList:t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:r};return n&&(u.text=n),u}var gt={pluginName:"bpmn-adapter",install:function(t){t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(t,e){this.shapeConfigMap.set(t,e)},adapterOut:function(t){var e={"-id":"Process_"+at(),"-isExecutable":"false"};!function(t,e){var n=new Map;e.nodes.forEach((function(e){var r,o={"-id":e.id};if((null===(r=e.text)||void 0===r?void 0:r.value)&&(o["-name"]=e.text.value),e.properties){var i=pt(e.properties);Object.assign(o,i)}n.set(e.id,o),t[e.type]?Array.isArray(t[e.type])?t[e.type].push(o):t[e.type]=[t[e.type],o]:t[e.type]=o}));var r=e.edges.map((function(t){var e,r,o=n.get(t.targetNodeId);o["bpmn:incoming"]?Array.isArray(o["bpmn:incoming"])?o["bpmn:incoming"].push(t.id):o["bpmn:incoming"]=[o["bpmn:incoming"],t.id]:o["bpmn:incoming"]=t.id;var i=n.get(t.sourceNodeId);i["bpmn:outgoing"]?Array.isArray(i["bpmn:outgoing"])?i["bpmn:outgoing"].push(t.id):i["bpmn:outgoing"]=[i["bpmn:outgoing"],t.id]:i["bpmn:outgoing"]=t.id;var a={"-id":t.id,"-sourceRef":t.sourceNodeId,"-targetRef":t.targetNodeId};if((null===(e=t.text)||void 0===e?void 0:e.value)&&(a["-name"]=null===(r=t.text)||void 0===r?void 0:r.value),t.properties){var u=pt(t.properties);Object.assign(a,u)}return a}));t[ct.FLOW]=r}(e,t);var n={"-id":"BPMNPlane_1","-bpmnElement":e["-id"]};return function(t,e){t["bpmndi:BPMNEdge"]=e.edges.map((function(t){var e,n=t.id,r={"-id":n+"_di","-bpmnElement":n,"di:waypoint":t.pointsList.map((function(t){return{"-x":t.x,"-y":t.y}}))};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(r["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),r})),t["bpmndi:BPMNShape"]=e.nodes.map((function(t){var e,n=t.id,r=100,o=80,i=t.x,a=t.y,u=gt.shapeConfigMap.get(t.type);u&&(r=u.width,o=u.height);var c={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i-=r/2,"-y":a-=o/2,"-width":r,"-height":o}};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),c}))}(n,t),{"bpmn:definitions":{"-id":"Definitions_"+at(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":e,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(t){if(t)return ht(t)}};gt.shapeConfigMap.set(ct.START,{width:K,height:$}),gt.shapeConfigMap.set(ct.END,{width:q,height:Z}),gt.shapeConfigMap.set(ct.GATEWAY,{width:J,height:Q}),gt.shapeConfigMap.set(ct.SYSTEM,{width:tt,height:et}),gt.shapeConfigMap.set(ct.USER,{width:nt,height:rt});var bt,mt,Ot=globalThis&&globalThis.__assign||function(){return Ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ot.apply(this,arguments)};globalThis&&globalThis.__read,(mt=bt||(bt={})).HORIZONTAL="horizontal",mt.VERTICAL="vertical";globalThis&&globalThis.__read;globalThis&&globalThis.__spread;globalThis&&globalThis.__read;globalThis&&globalThis.__spread;var _t=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wt=globalThis&&globalThis.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_t(arguments[e]));return t},xt=function(){function t(t){var e=this,n=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(t){e.setMenuConfig(t)},this.lf.addMenuConfig=function(t){e.addMenuConfig(t)},this.lf.setMenuByType=function(t){e.setMenuByType(t)}}return t.prototype.init=function(){var t=this,e=[{text:"删除",callback:function(e){t.lf.deleteNode(e.id)}},{text:"编辑文本",callback:function(e){t.lf.graphModel.editText(e.id)}},{text:"复制",callback:function(e){t.lf.cloneNode(e.id)}}];this.menuTypeMap.set("lf:defaultNodeMenu",e);var n=[{text:"删除",callback:function(e){t.lf.deleteEdge(e.id)}},{text:"编辑文本",callback:function(e){t.lf.graphModel.editText(e.id)}}];this.menuTypeMap.set("lf:defaultEdgeMenu",n),this.menuTypeMap.set("lf:defaultGraphMenu",[]);var r=[{text:"删除",callback:function(e){t.lf.clearSelectElements(),e.edges.forEach((function(e){return t.lf.deleteEdge(e.id)})),e.nodes.forEach((function(e){return t.lf.deleteNode(e.id)}))}}];this.menuTypeMap.set("lf:defaultSelectionMenu",r)},t.prototype.render=function(t,e){var n=this;this.__container=e,this.__currentData=null,this.__menuDOM.className="lf-menu",e.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(t){t.stopPropagation();for(var e=t.target;-1===Array.from(e.classList).indexOf("lf-menu-item")&&-1===Array.from(e.classList).indexOf("lf-menu");)e=e.parentElement;Array.from(e.classList).indexOf("lf-menu-item")>-1?(e.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")}),!0),this.lf.on("node:contextmenu",(function(t){var e=t.data,r=t.position.domOverlayPosition,o=r.x,i=r.y,a=e.id,u=n.lf.graphModel.getNodeModelById(a),c=[],l=n.menuTypeMap.get(u.type);c=u&&u.menu&&Array.isArray(u.menu)?u.menu:l||n.menuTypeMap.get("lf:defaultNodeMenu"),n.__currentData=e,n.showMenu(o,i,c)})),this.lf.on("edge:contextmenu",(function(t){var e=t.data,r=t.position.domOverlayPosition,o=r.x,i=r.y,a=e.id,u=n.lf.graphModel.getEdgeModelById(a),c=[],l=n.menuTypeMap.get(u.type);c=u&&u.menu&&Array.isArray(u.menu)?u.menu:l||n.menuTypeMap.get("lf:defaultEdgeMenu"),n.__currentData=e,n.showMenu(o,i,c)})),this.lf.on("blank:contextmenu",(function(t){var e=t.position,r=n.menuTypeMap.get("lf:defaultGraphMenu"),o=e.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(t){var e=t.data,r=t.position,o=n.menuTypeMap.get("lf:defaultSelectionMenu"),i=r.domOverlayPosition,a=i.x,u=i.y;n.__currentData=e,n.showMenu(a,u,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},t.prototype.destroy=function(){var t;null===(t=null==this?void 0:this.__container)||void 0===t||t.removeChild(this.__menuDOM),this.__menuDOM=null},t.prototype.showMenu=function(t,e,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,wt(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=e+"px",r.style.left=t+"px")}},t.prototype.setMenuByType=function(t){t.type&&t.menu&&this.menuTypeMap.set(t.type,t.menu)},t.prototype.__getMenuDom=function(t){var e=[];return t&&t.length>0&&t.forEach((function(t){var n=document.createElement("li");if(t.className?n.className="lf-menu-item "+t.className:n.className="lf-menu-item",!0===t.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",t.text&&(o.innerText=t.text),n.appendChild(o),n.onclickCallback=t.callback,e.push(n)})),e},t.prototype.setMenuConfig=function(t){t&&(void 0!==t.nodeMenu&&this.menuTypeMap.set("lf:defaultNodeMenu",t.nodeMenu?t.nodeMenu:[]),void 0!==t.edgeMenu&&this.menuTypeMap.set("lf:defaultEdgeMenu",t.edgeMenu?t.edgeMenu:[]),void 0!==t.graphMenu&&this.menuTypeMap.set("lf:defaultGraphMenu",t.graphMenu?t.graphMenu:[]))},t.prototype.addMenuConfig=function(t){if(t){if(Array.isArray(t.nodeMenu)){var e=this.menuTypeMap.get("lf:defaultNodeMenu");this.menuTypeMap.set("lf:defaultNodeMenu",e.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){e=this.menuTypeMap.get("lf:defaultEdgeMenu");this.menuTypeMap.set("lf:defaultEdgeMenu",e.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){e=this.menuTypeMap.get("lf:defaultGraphMenu");this.menuTypeMap.set("lf:defaultGraphMenu",e.concat(t.graphMenu))}}},t.prototype.changeMenuItem=function(t,e){if("add"===t)this.addMenuConfig(e);else{if("reset"!==t)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(e)}},t.pluginName="menu",t}();globalThis&&globalThis.__read;var Et=globalThis&&globalThis.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jt=function(){function t(t){var e=this,n=t.lf,r=t.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(t,n){e.__setView(),e.__isShow||e.__createMiniMap(t,n),e.__isShow=!0},this.hide=function(){e.__isShow&&e.__removeMiniMap(),e.__isShow=!1},this.__startDrag=function(t){document.addEventListener("mousemove",e.__drag),document.addEventListener("mouseup",e.__drop),e.__startPosition={x:t.x,y:t.y}},this.moveViewport=function(t,n){var r=e.__viewport.style;e.__viewPortTop=t,e.__viewPortLeft=n,r.top=e.__viewPortTop+"px",r.left=e.__viewPortLeft+"px"},this.__drag=function(t){var n=e.__viewPortTop+t.y-e.__startPosition.y,r=e.__viewPortLeft+t.x-e.__startPosition.x;e.moveViewport(n,r),e.__startPosition={x:t.x,y:t.y};var o=(e.__viewPortLeft+e.__viewPortWidth/2)/e.__viewPortScale,i=(e.__viewPortTop+e.__viewPortHeight/2)/e.__viewPortScale;e.__lf.focusOn({coordinate:{x:o+e.__resetDataX,y:i+e.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",e.__drag),document.removeEventListener("mouseup",e.__drop);var t=e.__viewPortTop,n=e.__viewPortLeft;e.__viewPortLeft>e.__width&&(n=e.__width-e.__viewPortWidth),e.__viewPortTop>e.__height&&(t=e.__height-e.__viewPortHeight),e.__viewPortLeft<-e.__width&&(n=0),e.__viewPortTop<-e.__height&&(t=0),e.moveViewport(t,n)},this.__lf=n,this.__miniMapWidth=n.graphModel.width,this.__miniMapHeight=220*n.graphModel.width/150,this.__LogicFlow=r,this.__init()}return t.prototype.render=function(t,e){var n=this;this.__container=e,this.__lf.on("history:change",(function(){n.__isShow&&n.__setView()})),this.__lf.on("blank:drop",(function(){n.__isShow&&n.__setView()}))},t.prototype.init=function(t){this.__disabledPlugins=this.__disabledPlugins.concat(t.disabledPlugins||[])},t.prototype.__init=function(){var t=document.createElement("div");t.className="lf-mini-map-graph",t.style.width=this.__width+"px",t.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:t,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(t){return t},this.__lfMap.adapterOut=function(t){return t},this.__miniMapWrap=t,this.__createViewPort()},t.prototype.__createMiniMap=function(t,e){var n=document.createElement("div"),r=this.__miniMapWrap;n.appendChild(r),void 0!==t&&void 0!==e&&(n.style.left=t+"px",n.style.top=e+"px"),n.style.position="absolute",n.className="lf-mini-map",this.__container.appendChild(n),this.__miniMapWrap.appendChild(this.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="导航",n.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",this.hide),n.appendChild(i),this.__miniMapContainer=n},t.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},t.prototype.__getBounds=function(t){var e=0,n=this.__miniMapWidth,r=0,o=this.__miniMapHeight,i=t.nodes;return i&&i.length>0&&i.forEach((function(t){var i=t.x,a=t.y,u=t.width,c=void 0===u?200:u,l=t.height,s=void 0===l?200:l,f=i-c/2,p=i+c/2,d=a-s/2,h=a+s/2;e=f<e?f:e,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:e,top:r,bottom:o,right:n}},t.prototype.__resetData=function(t){var e=t.nodes,n=t.edges,r=0,o=0;return e&&e.length>0&&(e.forEach((function(t){var e=t.x,n=t.y,i=t.width,a=void 0===i?200:i,u=t.height,c=e-a/2,l=n-(void 0===u?200:u)/2;r=c<r?c:r,o=l<o?l:o})),(r<0||o<0)&&(this.__resetDataX=r,this.__resetDataY=o,e.forEach((function(t){t.x=t.x-r,t.y=t.y-o,t.text&&(t.text.x=t.text.x-r,t.text.y=t.text.y-o)})),n.forEach((function(t){t.startPoint&&(t.startPoint.x=t.startPoint.x-r,t.startPoint.y=t.startPoint.y-o),t.endPoint&&(t.endPoint.x=t.endPoint.x-r,t.endPoint.y=t.endPoint.y-o),t.text&&(t.text.x=t.text.x-r,t.text.y=t.text.y-o),t.pointsList&&t.pointsList.forEach((function(t){t.x=t.x-r,t.y=t.y-o}))})))),t},t.prototype.__setView=function(){var t,e,n=this.__resetData(this.__lf.getGraphRawData()),r=this.__lf.viewMap,o=this.__lf.graphModel.modelMap,i=this.__lfMap.viewMap;try{for(var a=Et(r.keys()),u=a.next();!u.done;u=a.next()){var c=u.value;i.has(c)||(this.__lfMap.setView(c,r.get(c)),this.__lfMap.graphModel.modelMap.set(c,o.get(c)))}}catch(b){t={error:b}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.__lfMap.render(n);var l=this.__getBounds(n),s=l.left,f=l.top,p=l.right,d=l.bottom,h=this.__width/(p-s),y=this.__height/(d-f),v=this.__miniMapWrap.firstChild.style,g=Math.min(h,y);v.transform="matrix("+g+", 0, 0, "+g+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(s,0)+"px",this.__viewPortScale=g,this.__setViewPort(g,{left:s,top:f,right:p,bottom:d})},t.prototype.__setViewPort=function(t,e){var n=e.left,r=e.right;e.top,e.bottom;var o=this.__viewport.style;o.width=this.__width-4+"px",o.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var i=this.__lf.getTransform(),a=i.TRANSLATE_X,u=i.TRANSLATE_Y,c=r-n,l=(this.__width-4)/(c/this.__lf.graphModel.width),s=l/(this.__lf.graphModel.width/this.__lf.graphModel.height);this.__viewPortTop=u>0?0:-u*t,this.__viewPortLeft=a>0?0:-a*t,this.__viewPortWidth=l,this.__viewPortHeight=s,o.top=this.__viewPortTop+"px",o.left=this.__viewPortLeft+"px",o.width=l+"px",o.height=s+"px"},t.prototype.__createViewPort=function(){var t=document.createElement("div");t.className="lf-minimap-viewport",t.addEventListener("mousedown",this.__startDrag),this.__viewport=t},t.pluginName="miniMap",t}(),St=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}St(e,t),e.prototype.getEdge=function(){for(var t=this.props.model.getEdgeStyle(),e=t.strokeWidth,n=t.stroke,r=t.strokeDashArray,o=this.props.model.points.split(" ").map((function(t){return t.split(",").map((function(t){return Number(t)}))})),i=Pt(o[0],2),a="M"+i[0]+" "+i[1],u=1;u<o.length-1;u++){var c=Pt(o[u-1],2),l=c[0],s=c[1],f=Pt(o[u],2),p=f[0],d=f[1],h=Pt(o[u+1],2),y=h[0],v=h[1];if(p===l&&d!==s)a=a+" L "+p+" "+(d>s?d-5:d+5);if(d===s&&p!==l)a=a+" L "+(p>l?p-5:p+5)+" "+d;if(a=a+" Q "+p+" "+d,p===y&&d!==v)a=a+" "+p+" "+(d>v?d-5:d+5);if(d===v&&p!==y)a=a+" "+(p>y?p-5:p+5)+" "+d}var g=Pt(o[o.length-1],2);return a=a+" L "+g[0]+" "+g[1],D.exports.h("path",{d:a,strokeWidth:e,stroke:n,fill:"none",strokeDashArray:r})},e.extendKey="curvedEdge"}(D.exports.PolylineEdge),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}St(e,t)}(D.exports.PolylineEdgeModel);var kt,Mt,At=globalThis&&globalThis.__assign||function(){return At=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},At.apply(this,arguments)};function Nt(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.radius,a=t.className,u=e-r/2,c=n-o/2,l=At(At({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},t),{x:u,y:c});return D.exports.h("rect",At({},l))}function Dt(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2}}function Tt(t){var e=Dt(t),n=t.radius,r=e.minX,o=e.minY,i=e.maxX,a=e.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function Ct(t){var e=t.point,n=t.beforeNode,r=t.afterNode,o=e.x,i=e.y,a={x:o,y:i},u=n.radius,c=Dt(n),l=Dt(r);if(o===c.minX){a.x=l.minX;var s=(i-n.y)/(n.height/2-u);a.y=s?r.y+(r.height/2-u)*s:r.y}else if(o===c.maxX){a.x=l.maxX;s=(i-n.y)/(n.height/2-u);a.y=s?r.y+(r.height/2-u)*s:r.y}else if(i===c.minY){a.y=l.minY;s=(o-n.x)/(n.width/2-u);a.x=s?r.x+(r.width/2-u)*s:r.x}else if(i===c.maxY){a.y=l.maxY;s=(o-n.x)/(n.width/2-u);a.x=s?r.x+(r.width/2-u)*s:r.x}else{var f=Tt(n),p=Tt(r),d=Dt(n),h=d.minX,y=d.minY,v=d.maxX,g=d.maxY,b=-1;if(o-h<u&&i-y<u?b=0:v-o<u&&i-y<u?b=1:v-o<u&&g-i<u?b=2:o-h<u&&y-i<u&&(b=3),b>-1){var m=Math.atan2(i-f[b].y,o-f[b].x);a.x=p[b].x+u*Math.cos(m),a.y=p[b].y+u*Math.sin(m)}}return a}function Rt(t){var e,n,r=t.point,o=t.beforeNode,i=t.afterNode,a=i.rx,u=i.ry,c=(r.y-o.y)/(r.x-o.x),l=a,s=u;return c>=1/0?(e=0,n=s):c<=-1/0?(e=0,n=-s):r.x-o.x>0?(e=l*s/Math.sqrt(s*s+l*l*c*c),n=l*s*c/Math.sqrt(s*s+l*l*c*c)):(e=-l*s/Math.sqrt(s*s+l*l*c*c),n=-l*s*c/Math.sqrt(s*s+l*l*c*c)),{x:e+i.x,y:n+i.y}}function It(t){var e,n=t.point,r=t.beforeNode,o=t.afterNode,i=n.x-r.x,a=n.y-r.y,u=r.rx,c=r.ry,l=Math.sqrt((u-Math.abs(i))*(u-Math.abs(i))+a*a)/Math.sqrt(u*u+c*c),s=o.rx,f=o.ry,p=Math.sqrt((s*s+f*f)*l*l*(s*s/(s*s+f*f))),d=p*(f/s);return e=a>0?d:-d,{x:(i>=0?s-p:p-s)+o.x,y:e+o.y}}Nt.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},(Mt=kt||(kt={})).NODE="node",Mt.CIRCLE_NODE="circle-node",Mt.POLYGON_NODE="polygon-node",Mt.RECT_NODE="rect-node",Mt.HTML_NODE="html-node",Mt.TEXT_NODE="text-node",Mt.ELLIPSE_NODE="ellipse-node",Mt.DIAMOND_NODE="diamond-node",Mt.EDGE="edge",Mt.LINE_EDGE="line-edge",Mt.POLYLINE_EDGE="polyline-edge",Mt.BEZIER_EDGE="bezier-edge",Mt.GRAPH="graph";var Lt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=globalThis&&globalThis.__assign||function(){return zt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zt.apply(this,arguments)},Bt=D.exports.LogicFlowUtil.StepDrag,Ht=function(t){function e(e){var n=t.call(this)||this;n.updatePosition=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+e/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(e/2,r/2)},n.getResize=function(t){var e=t.index,n=t.deltaX,r=t.deltaY,o=t.width,i=t.height,a=t.pct,u=void 0===a?1:a,c={width:o,height:i};switch(e){case 0:c.width=o-n*u,c.height=i-r*u;break;case 1:c.width=o+n*u,c.height=i-r*u;break;case 2:c.width=o+n,c.height=i+r*u;break;case 3:c.width=o-n*u,c.height=i+r*u}return c},n.updateRect=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.x,u=o.y,c=o.width,l=o.height,s=o.radius,f=n.index,p=n.getResize({index:f,deltaX:e,deltaY:r,width:c,height:l,pct:1}),d=n.nodeModel,h=d.minWidth,y=d.minHeight,v=d.maxWidth,g=d.maxHeight;if(p.width<h||p.width>v||p.height<y||p.height>g)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.width=p.width,n.nodeModel.height=p.height,n.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var b,m=n.getNodeEdges(i),O={x:a,y:u,width:c,height:l,radius:s},_={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:s},w={point:"",beforeNode:O,afterNode:_};m.sourceEdges.forEach((function(t){w.point=t.startPoint,b=Ct(w),t.updateStartPoint(b)})),m.targetEdges.forEach((function(t){w.point=t.endPoint,b=Ct(w),t.updateEndPoint(b)})),n.eventEmit({beforeNode:O,afterNode:_})}},n.updateEllipse=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,l=o.y,s=n.index,f=a,p=u,d=n.getResize({index:s,deltaX:e,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+e/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=n.getNodeEdges(i),_={x:c,y:l},w={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},x={point:{},beforeNode:_,afterNode:w};O.sourceEdges.forEach((function(t){x.point=t.startPoint,m=Rt(x),t.updateStartPoint(m)})),O.targetEdges.forEach((function(t){x.point=t.endPoint,m=Rt(x),t.updateEndPoint(m)})),n.eventEmit({beforeNode:zt(zt({},_),{rx:a,ry:u}),afterNode:w})}},n.updateDiamond=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,l=o.y,s=n.index,f=a,p=u,d=n.getResize({index:s,deltaX:e,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,g=h.maxWidth,b=h.maxHeight;if(d.width<y/2||d.width>g/2||d.height<v/2||d.height>b/2)n.dragHandler.cancelDrag();else{n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.rx=n.nodeModel.rx+e/2,n.nodeModel.ry=n.nodeModel.ry+r/2,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={x:c,y:l,rx:a,ry:u},_={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},w={point:{},beforeNode:O,afterNode:_},x=n.getNodeEdges(i);x.sourceEdges.forEach((function(t){w.point=t.startPoint,m=It(w),t.updateStartPoint(m)})),x.targetEdges.forEach((function(t){w.point=t.endPoint,m=It(w),t.updateEndPoint(m)})),n.eventEmit({beforeNode:O,afterNode:_})}},n.eventEmit=function(t){var e=t.beforeNode,r=t.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,u=o.type,c=zt({id:i,modelType:a,type:u},e),l=zt({id:i,modelType:a,type:u},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:c,newNodeSize:l})},n.onDraging=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel.modelType;o===kt.RECT_NODE||o===kt.HTML_NODE?n.updateRect({deltaX:e,deltaY:r}):o===kt.ELLIPSE_NODE?n.updateEllipse({deltaX:e,deltaY:r}):o===kt.DIAMOND_NODE&&n.updateDiamond({deltaX:e,deltaY:r})},n.index=e.index,n.nodeModel=e.model,n.graphModel=e.graphModel;var r=n.graphModel.gridSize,o=2;return r>1&&(o=2*r),n.nodeModel.gridSize&&(o=2*n.nodeModel.gridSize),n.state={},n.dragHandler=new Bt({onDraging:n.onDraging,step:o}),n}return Lt(e,t),e.prototype.getNodeEdges=function(t){for(var e=this.graphModel.edges,n=[],r=[],o=0;o<e.length;o++){var i=e[o];i.sourceNodeId===t?n.push(i):e[o].targetNodeId===t&&r.push(i)}return{sourceEdges:n,targetEdges:r}},e.prototype.render=function(){var t=this.props,e=t.x,n=t.y,r=t.index,o=t.model.getControlPointStyle();return E("g",{className:"lf-resize-control-"+r},E(Nt,zt({className:"lf-node-control"},{x:e,y:n},o,{onMouseDown:this.dragHandler.handleMouseDown})))},e}(j),Ft=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vt=globalThis&&globalThis.__assign||function(){return Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vt.apply(this,arguments)},Xt=function(t){function e(){var e=t.call(this)||this;return e.state={},e}return Ft(e,t),e.prototype.getResizeControl=function(){var t=this.props,e=t.model,n=t.graphModel,r=e.x,o=e.y,i=e.width,a=e.height,u={minX:r-i/2,minY:o-a/2,maxX:r+i/2,maxY:o+a/2},c=u.minX,l=u.minY,s=u.maxX,f=u.maxY;return[{x:c,y:l},{x:s,y:l},{x:s,y:f},{x:c,y:f}].map((function(t,r){return E(Ht,Vt({index:r},t,{model:e,graphModel:n}))}))},e.prototype.getGroupSolid=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.getResizeOutlineStyle();return E(Nt,Vt({fill:"none"},i,{x:e,y:n,width:r,height:o}))},e.prototype.render=function(){return E("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},e}(j),Gt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yt=function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}return Gt(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.resize=function(t,e){console.log(t,e)},e}(D.exports.RectNodeModel),Ut={type:"rect",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return D.exports.h(Xt,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props.model.isSelected;return D.exports.h("g",null,this.getResizeShape(),t?this.getControlGroup():"")},e}(D.exports.RectNode),model:Yt},Wt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}Wt(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(D.exports.EllipseNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Wt(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return D.exports.h(Xt,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props.model;return D.exports.h("g",null,this.getResizeShape(),t.isSelected?this.getControlGroup():"")}}(D.exports.EllipseNode);var Kt=globalThis&&globalThis.__assign||function(){return Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Kt.apply(this,arguments)};function $t(t){var e=t.fillOpacity,n=void 0===e?1:e,r=t.strokeWidth,o=void 0===r?1:r,i=t.strokeOpacity,a=void 0===i?1:i,u=t.fill,c=void 0===u?"transparent":u,l=t.stroke,s=void 0===l?"#000":l,f=t.points,p=t.className,d={fill:c,fillOpacity:n,strokeWidth:o,stroke:s,strokeOpacity:a,points:"",className:void 0===p?"lf-basic-shape":p};return d.points=f.map((function(t){return t.join(",")})).join(" "),D.exports.h("polygon",Kt({},d))}var qt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=globalThis&&globalThis.__assign||function(){return Zt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Zt.apply(this,arguments)};!function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.rx=o.rx,r.ry=o.ry),r}qt(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(D.exports.DiamondNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qt(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return D.exports.h(Xt,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){var t=this.props.model,e=t.points,n=t.getNodeStyle();return D.exports.h("g",null,D.exports.h($t,Zt({},n,{points:e})))},e.prototype.getShape=function(){var t=this.props.model.isSelected;return D.exports.h("g",null,this.getResizeShape(),t?this.getControlGroup():"")}}(D.exports.DiamondNode);var Jt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){var r=t.call(this,e,n)||this,o=r.properties.nodeSize;return o&&(r.width=o.width,r.height=o.height),r}Jt(e,t),e.prototype.initNodeData=function(e){t.prototype.initNodeData.call(this,e),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var e=t.prototype.getOutlineStyle.call(this);return e.stroke="none",e.hover&&(e.hover.stroke="none"),e},e.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}}}(D.exports.HtmlNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Jt(e,t),e.prototype.getControlGroup=function(){var t=this.props,e=t.model,n=t.graphModel;return D.exports.h(Xt,{model:e,graphModel:n})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props.model.isSelected;return D.exports.h("g",null,this.getResizeShape(),t?this.getControlGroup():"")}}(D.exports.HtmlNode);var Qt=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=globalThis&&globalThis.__assign||function(){return te=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},te.apply(this,arguments)},ee=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ne=globalThis&&globalThis.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ee(arguments[e]));return t};!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isGroup=!0,e.unfoldedWidth=500,e.unfoldedHight=300,e}Qt(e,t),e.prototype.initNodeData=function(e){var n=this;t.prototype.initNodeData.call(this,e);var r=[];Array.isArray(e.children)&&(r=e.children),this.children=new Set(r),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){n.isFolded&&n.foldGroup(n.isFolded)}))},e.prototype.getResizeOutlineStyle=function(){var e=t.prototype.getResizeOutlineStyle.call(this);return e.stroke="none",e},e.prototype.foldGroup=function(t){var e=this;this.setProperty("isFolded",t),this.isFolded=t,t?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach((function(r){var o=e.graphModel.getElement(r);o.visible=!t,n=n.concat(o.incoming.edges.concat(o.outgoing.edges))})),this.foldEdge(t,n)},e.prototype.getAnchorStyle=function(e){var n=t.prototype.getAnchorStyle.call(this,e);return n.stroke="transparent",n.fill="transparent",n.hover.fill="transparent",n.hover.stroke="transparent",n},e.prototype.foldEdge=function(t,e){var n=this;e.forEach((function(e,r){var o=e.id,i=e.sourceNodeId,a=e.targetNodeId,u=e.startPoint,c=e.endPoint,l=e.type,s=e.properties,f=e.text,p={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:u,endPoint:c,type:l,properties:s,text:null==f?void 0:f.value};e.virtual&&n.graphModel.deleteEdgeById(e.id);var d=n.graphModel.group.getNodeGroup(a);d||(d=n.graphModel.getNodeModelById(a));var h=n.graphModel.group.getNodeGroup(i);h||(h=n.graphModel.getNodeModelById(i)),t&&!1!==e.visible&&(n.children.has(i)||n.id===i?(p.startPoint=void 0,p.sourceNodeId=n.id):(p.endPoint=void 0,p.targetNodeId=n.id),d.id===n.id&&h.id===n.id||n.createVirtualEdge(p),e.visible=!1),t||!1!==e.visible||(d&&d.isGroup&&d.isFolded?(p.targetNodeId=d.id,p.endPoint=void 0,n.createVirtualEdge(p)):h&&h.isGroup&&h.isFolded?(p.sourceNodeId=h.id,p.startPoint=void 0,n.createVirtualEdge(p)):e.visible=!0)}))},e.prototype.createVirtualEdge=function(t){t.pointsList=void 0;var e=this.graphModel.addEdge(t);e.virtual=!0,e.text.editable=!1,e.isFoldedEdge=!0},e.prototype.isInRange=function(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2;return e>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},e.prototype.isAllowMoveTo=function(t){var e=t.x1,n=t.y1,r=t.x2,o=t.y2;return{x:e>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&o<=this.y+this.height/2}},e.prototype.setAllowAppendChild=function(t){this.setProperty("groupAddable",t)},e.prototype.addChild=function(t){this.children.add(t)},e.prototype.removeChild=function(t){this.children.delete(t)},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},e.prototype.getData=function(){var e=t.prototype.getData.call(this);e.children=ne(this.children);var n=e.properties;return delete n.groupAddable,delete n.isFolded,e},e.prototype.getHistoryData=function(){var e=t.prototype.getData.call(this);e.children=ne(this.children);var n=e.properties;return delete n.groupAddable,n.isFolded&&(e.x=e.x+this.unfoldedWidth/2-this.foldedWidth/2,e.y=e.y+this.unfoldedHight/2-this.foldedHeight/2),e},e.prototype.isAllowAppendIn=function(t){return!0}}(Ut.model),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Qt(e,t),e.prototype.getControlGroup=function(){var e=this.props.model,n=e.resizable,r=e.properties;return n&&!r.isFolded?t.prototype.getControlGroup.call(this):null},e.prototype.getAddedableShape=function(){var t=this.props.model,e=t.width,n=t.height,r=t.x,o=t.y,i=t.radius;if(!t.properties.groupAddable)return null;var a=this.props.model.getNodeStyle().strokeWidth,u=this.props.model.getAddableOutlineStyle(),c=e+a+8,l=n+a+8;return D.exports.h("rect",te(te({},u),{width:c,height:l,x:r-c/2,y:o-l/2,rx:i,ry:i}))},e.prototype.getFoldIcon=function(){var t=this.props.model,e=t.x-t.width/2+5,n=t.y-t.height/2+5;if(!t.foldable)return null;var r=D.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:t.properties.isFolded?"M "+(e+3)+","+(n+6)+" "+(e+11)+","+(n+6)+" M"+(e+7)+","+(n+2)+" "+(e+7)+","+(n+10):"M "+(e+3)+","+(n+6)+" "+(e+11)+","+(n+6)+" "});return D.exports.h("g",{},[D.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:t.x-t.width/2+5,y:t.y-t.height/2+5,onClick:function(){t.foldGroup(!t.properties.isFolded)}}),r])},e.prototype.getResizeShape=function(){return D.exports.h("g",{},[this.getAddedableShape(),t.prototype.getResizeShape.call(this),this.getFoldIcon()])}}(Ut.view);globalThis&&globalThis.__read;globalThis&&globalThis.__spread;var re=globalThis&&globalThis.__assign||function(){return re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},re.apply(this,arguments)},oe=globalThis&&globalThis.__assign||function(){return oe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},oe.apply(this,arguments)};globalThis&&globalThis.__read;globalThis&&globalThis.__spread;const ie=[{text:"入院",type:"入院",class:"node-start1"},{text:"阶段",type:"阶段",class:"node-rect1"},{type:"出院",text:"出院",class:"node-end1"},{text:"开始",type:"start",class:"node-start"},{text:"矩形",type:"task",class:"node-rect"},{type:"user",text:"多边形",class:"node-user"},{type:"push",text:"自定义",class:"node-push"},{type:"end",text:"结束",class:"node-end"}];var ae={nodes:[{id:"001",type:"入院",x:220,y:170,properties:{},text:{x:220,y:170,value:"入院"},baseType:"node"},{id:"002",type:"阶段",x:530,y:170,properties:{},baseType:"node",text:{x:530,y:170,value:"住院1"}},{id:"003",type:"阶段",x:530,y:320,properties:{},baseType:"node",text:{x:530,y:320,value:"阶段2"}},{id:"004",type:"出院",x:800,y:170,properties:{},text:{x:800,y:170,value:"出院"},baseType:"node"}],edges:[{id:"00f55245-513e-43a2-9cb0-adb61b01adc8",type:"polyline",sourceNodeId:"001",targetNodeId:"002"},{id:"bbf9754f-603e-48e4-85fe-84ed44459a6a",type:"polyline",sourceNodeId:"001",targetNodeId:"003"},{id:"2b3007ed-7a13-4db7-a1ea-6691d7564c34",type:"polyline",sourceNodeId:"002",targetNodeId:"004"},{id:"12bb443b-4070-4a08-ad4d-2755ee856f0d",type:"polyline",sourceNodeId:"003",targetNodeId:"004"}]};const ue=t({__name:"Control",props:{lf:{type:null,required:!0}},emits:["getData"],setup(t,{emit:p}){const d=t,h=ae,y=e({undoDisable:!0,redoDisable:!0,undos:{}});n((()=>{v()}));const v=()=>{d.lf.on("history:change",(t=>{const{data:e}=t,{undoAble:n,redoAble:r,undos:o}=e;y.undos=o,y.undoDisable=!n,y.redoDisable=!r}))},g=()=>{d.lf.zoom(!0)},b=()=>{d.lf.zoom(!1)},m=()=>{S({message:"提交",type:"success"})},O=()=>{d.lf.clearData(),d.lf.render(h),d.lf.resetZoom(),d.lf.resetTranslate()},_=()=>{d.lf.resetTranslate()},w=()=>{d.lf.resetZoom(),d.lf.resetTranslate()},x=()=>{d.lf.undo()},E=()=>{d.lf.redo()},j=()=>{d.lf.getSnapshot()},P=()=>{p("getData")},k=()=>{d.lf.clearData()};return(t,e)=>{const n=r("el-button"),p=r("el-button-group");return o(),i(f,null,[a(" 辅助工具栏 "),u("div",null,[c(p,null,{default:l((()=>[c(n,{onClick:g},{default:l((()=>[s("放大")])),_:1}),c(n,{onClick:b},{default:l((()=>[s("缩小")])),_:1}),c(n,{onClick:O},{default:l((()=>[s("重置")])),_:1}),c(n,{onClick:m},{default:l((()=>[s("提交")])),_:1}),a(' <el-button  type="primary"  @click="zoomReset">大小适应</el-button> '),c(n,{onClick:_},{default:l((()=>[s("定位还原")])),_:1}),c(n,{onClick:w},{default:l((()=>[s("还原(大小&定位)")])),_:1}),c(n,{onClick:x,disabled:y.undoDisable},{default:l((()=>[s("上一步(ctrl+z)")])),_:1},8,["disabled"]),c(n,{onClick:E,disabled:y.redoDisable},{default:l((()=>[s("下一步(ctrl+y)")])),_:1},8,["disabled"]),c(n,{onClick:j},{default:l((()=>[s("下载图片")])),_:1}),c(n,{onClick:P},{default:l((()=>[s("查看数据")])),_:1}),c(n,{onClick:k},{default:l((()=>[s("一键清空")])),_:1})])),_:1})])],2112)}}});const ce={class:"node-panel"},le=["onMousedown"],se={key:0,class:"shape"},fe={key:1,class:"node-label"},pe={key:0,class:"node-label2"};var de=P(t({__name:"NodePanel",props:{lf:{type:null,required:!0},nodeList:{type:null,required:!0}},setup(t){const e=t,n=t=>"入院"===t.type?"入院":"阶段"===t.type?"阶段":"出院"===t.type?"出院":"";return(t,r)=>(o(),i(f,null,[a(" 节点面板 "),u("div",ce,[(o(!0),i(f,null,p(e.nodeList,(t=>(o(),i("div",{class:"node-item",key:t.text,onMousedown:r=>(t=>{e.lf.dnd.startDrag({type:t.type,text:n(t)})})(t)},[u("div",{class:d(["node-item-icon",t.class])},["user"===t.type||"time"===t.type?(o(),i("div",se)):a("v-if",!0),"阶段"===t.type||"入院"===t.type||"出院"===t.type?(o(),i("span",fe,h(t.text),1)):a("v-if",!0)],2),"user"===t.type||"push"===t.type||"start"===t.type||"task"===t.type||"end"===t.type?(o(),i("span",pe,h(t.text),1)):a("v-if",!0)],40,le)))),128))])],2112))}}),[["__scopeId","data-v-3bbe4514"]]);var he,ye=P(t({__name:"AddPanel",props:{lf:{type:null,required:!0},nodeData:{type:null,required:!0}},emits:["addNodeFinish"],setup(t,{emit:e}){const n=t,d=[{type:"user",label:"用户"},{type:"push",label:"推送"}];return(t,y)=>{const v=r("el-button"),g=r("el-tab-pane"),b=r("el-tabs");return o(),i(f,null,[a(" 点击自定义节点的添加按钮 "),c(b,{"tab-position":"left"},{default:l((()=>[c(g,{label:"添加动作"},{default:l((()=>[(o(),i(f,null,p(d,(t=>u("div",{key:t.type},[c(v,{class:"add-node-btn",type:"primary",onClick:r=>(t=>{const{lf:r,nodeData:o}=n,{id:i,x:a,y:u}=o,c=r.addNode({type:t.type,x:a+150,y:u+150}).id;r.addEdge({sourceNodeId:i,targetNodeId:c}),e("addNodeFinish")})(t)},{default:l((()=>[s(h(t.label),1)])),_:2},1032,["onClick"])]))),64))])),_:1})])),_:1})],2112)}}}),[["__scopeId","data-v-47d170bf"]]),ve={exports:{}},ge=v(ve.exports=(he=k,function(){var t={789:function(t){t.exports=he}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(n){return function(e){if(Array.isArray(e))return t(e)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{default:function(){return _}});var a=n(789),u=(0,a.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var t=this.data,e=this.onClick;return(0,a.createVNode)("span",{class:"vjs-tree-brackets",onClick:e},[t])}}),c=(0,a.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(t,e){var n=e.emit;return{uiType:(0,a.computed)((function(){return t.isMultiple?"checkbox":"radio"})),model:(0,a.computed)({get:function(){return t.checked},set:function(t){return n("update:modelValue",t)}})}},render:function(){var t=this.uiType,e=this.model,n=this.$emit;return(0,a.createVNode)("label",{class:["vjs-check-controller",e?"is-checked":""],onClick:function(t){return t.stopPropagation()}},[(0,a.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(t)},null),(0,a.createVNode)("input",{checked:e,class:"vjs-check-controller-original is-".concat(t),type:t,onChange:function(){return n("change",e)}},null)])}}),l=(0,a.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var t=this.nodeType,e=this.onClick,n="objectStart"===t||"arrayStart"===t;return n||"objectCollapsed"===t||"arrayCollapsed"===t?(0,a.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(n?"open":"close"),onClick:e},[(0,a.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,a.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(arguments.length>3?arguments[3]:void 0)||{},o=r.key,i=r.index,a=r.type,u=void 0===a?"content":a,c=r.showComma,l=void 0!==c&&c,s=r.length,h=void 0===s?1:s,y=f(t);if("array"===y){var v=d(t.map((function(t,r,o){return p(t,"".concat(e,"[").concat(r,"]"),n+1,{index:r,showComma:r!==o.length-1,length:h,type:u})})));return[p("[",e,n,{showComma:!1,key:o,length:t.length,type:"arrayStart"})[0]].concat(v,p("]",e,n,{showComma:l,length:t.length,type:"arrayEnd"})[0])}if("object"===y){var g=Object.keys(t),b=d(g.map((function(r,o,i){return p(t[r],/^[a-zA-Z_]\w*$/.test(r)?"".concat(e,".").concat(r):"".concat(e,'["').concat(r,'"]'),n+1,{key:r,showComma:o!==i.length-1,length:h,type:u})})));return[p("{",e,n,{showComma:!1,key:o,index:i,length:g.length,type:"objectStart"})[0]].concat(b,p("}",e,n,{showComma:l,length:g.length,type:"objectEnd"})[0])}return[{content:t,level:n,key:o,index:i,path:e,showComma:l,length:h,type:u}]}function d(t){if("function"==typeof Array.prototype.flat)return t.flat();for(var e=o(t),n=[];e.length;){var r=e.shift();Array.isArray(r)?e.unshift.apply(e,o(r)):n.push(r)}return n}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===t)return t;if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if("object"!==s(t))return t;if(e.get(t))return e.get(t);if(Array.isArray(t)){var n=t.map((function(t){return h(t,e)}));return e.set(t,n),n}var r={};for(var o in t)r[o]=h(t[o],e);return e.set(t,r),r}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},b=(0,a.defineComponent)({name:"TreeNode",props:v(v({},g),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(t,e){var n=e.emit,r=(0,a.computed)((function(){return f(t.node.content)})),o=(0,a.computed)((function(){return"vjs-value vjs-value-".concat(r.value)})),i=(0,a.computed)((function(){return t.showDoubleQuotes?'"'.concat(t.node.key,'"'):t.node.key})),s=(0,a.computed)((function(){return"multiple"===t.selectableType})),p=(0,a.computed)((function(){return"single"===t.selectableType})),d=(0,a.computed)((function(){return t.nodeSelectable(t.node)&&(s.value||p.value)})),h=(0,a.reactive)({editing:!1}),y=function(e){var r,o,i="null"===(o=null===(r=e.target)||void 0===r?void 0:r.value)?null:"undefined"===o?void 0:"true"===o||"false"!==o&&(o[0]+o[o.length-1]==='""'||o[0]+o[o.length-1]==="''"?o.slice(1,-1):"number"==typeof Number(o)&&!isNaN(Number(o))||"NaN"===o?Number(o):o);n("valueChange",i,t.node.path)},v=(0,a.computed)((function(){var e,n,o=(null!==(e=null===(n=t.node)||void 0===n?void 0:n.content)&&void 0!==e?e:"")+"";return"string"===r.value?'"'.concat(o,'"'):o})),g=function(){var e=t.renderNodeValue;return e?e({node:t.node,defaultValue:v.value}):v.value},b=function(){n("bracketsClick",!t.collapsed,t.node.path)},m=function(){n("iconClick",!t.collapsed,t.node.path)},O=function(){n("selectedChange",t.node)},_=function(){n("nodeClick",t.node),d.value&&t.selectOnClickNode&&n("selectedChange",t.node)},w=function(e){if(t.editable&&!h.editing){h.editing=!0;var n=function t(n){var r;n.target!==e.target&&(null===(r=n.target)||void 0===r?void 0:r.parentElement)!==e.target&&(h.editing=!1,document.removeEventListener("click",t))};document.removeEventListener("click",n),document.addEventListener("click",n)}};return function(){var e,n=t.node;return(0,a.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":t.showSelectController,"has-carets":t.showIcon,"is-highlight":t.highlightSelectedNode&&t.checked},onClick:_,style:t.style},[t.showLineNumber&&(0,a.createVNode)("span",{class:"vjs-node-index"},[n.id+1]),t.showSelectController&&d.value&&"objectEnd"!==n.type&&"arrayEnd"!==n.type&&(0,a.createVNode)(c,{isMultiple:s.value,checked:t.checked,onChange:O},null),(0,a.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(n.level)).map((function(e,n){return(0,a.createVNode)("div",{key:n,class:{"vjs-indent-unit":!0,"has-line":t.showLine}},null)})),t.showIcon&&(0,a.createVNode)(l,{nodeType:n.type,onClick:m},null)]),n.key&&(0,a.createVNode)("span",{class:"vjs-key"},[(e=t.renderNodeKey,e?e({node:t.node,defaultKey:i.value||""}):i.value),(0,a.createVNode)("span",null,[(0,a.createTextVNode)(":")])]),(0,a.createVNode)("span",null,["content"!==n.type&&n.content?(0,a.createVNode)(u,{data:n.content.toString(),onClick:b},null):(0,a.createVNode)("span",{class:o.value,onClick:!t.editable||t.editableTrigger&&"click"!==t.editableTrigger?void 0:w,onDblclick:t.editable&&"dblclick"===t.editableTrigger?w:void 0},[t.editable&&h.editing?(0,a.createVNode)("input",{value:v.value,onChange:y,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):g()]),n.showComma&&(0,a.createVNode)("span",null,[","]),t.showLength&&t.collapsed&&(0,a.createVNode)("span",{class:"vjs-comment"},[(0,a.createTextVNode)(" // "),n.length,(0,a.createTextVNode)(" items ")])])])}}});function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _=(0,a.defineComponent)({name:"Tree",props:O(O({},g),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(t,n){var r=n.emit,u=n.slots,c=(0,a.ref)(),l=(0,a.computed)((function(){return p(t.data,t.rootPath)})),s=(0,a.reactive)({translateY:0,visibleData:null,hiddenPaths:l.value.reduce((function(e,n){var r,o=n.level>=t.deep,a=null===(r=t.pathCollapsible)||void 0===r?void 0:r.call(t,n);return"objectStart"!==n.type&&"arrayStart"!==n.type||!o&&!a?e:O(O({},e),{},i({},n.path,1))}),{})}),f=(0,a.computed)((function(){for(var t=null,e=[],n=l.value.length,r=0;r<n;r++){var o=O(O({},l.value[r]),{},{id:r}),i=s.hiddenPaths[o.path];if(t&&t.path===o.path){var a="objectStart"===t.type,u=O(O(O({},o),t),{},{showComma:o.showComma,content:a?"{...}":"[...]",type:a?"objectCollapsed":"arrayCollapsed"});t=null,e.push(u)}else{if(i&&!t){t=o;continue}if(t)continue;e.push(o)}}return e})),d=(0,a.computed)((function(){var e=t.selectedValue;return e&&"multiple"===t.selectableType&&Array.isArray(e)?e:[e]})),y=(0,a.computed)((function(){return!t.selectableType||t.selectOnClickNode||t.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."})),v=function(){var e=f.value;if(t.virtual){var n,r=t.height/t.itemHeight,o=(null===(n=c.value)||void 0===n?void 0:n.scrollTop)||0,i=Math.floor(o/t.itemHeight),a=i<0?0:i+r>e.length?e.length-r:i;a<0&&(a=0);var u=a+r;s.translateY=a*t.itemHeight,s.visibleData=e.filter((function(t,e){return e>=a&&e<u}))}else s.visibleData=e},g=function(){v()},m=function(n){var i,a,u=n.path,c=t.selectableType;if("multiple"===c){var l=d.value.findIndex((function(t){return t===u})),s=o(d.value);-1!==l?s.splice(l,1):s.push(u),r("update:selectedValue",s),r("selectedChange",s,o(d.value))}else if("single"===c&&d.value[0]!==u){var f=(i=d.value,a=1,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(i,a)||e(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],p=u;r("update:selectedValue",p),r("selectedChange",p,f)}},_=function(t){r("nodeClick",t)},w=function(t,e){if(t)s.hiddenPaths=O(O({},s.hiddenPaths),{},i({},e,1));else{var n=O({},s.hiddenPaths);delete n[e],s.hiddenPaths=n}},x=function(e,n){t.collapsedOnClickBrackets&&w(e,n),r("bracketsClick",e)},E=function(t,e){w(t,e),r("iconClick",t)},j=function(e,n){var o=h(t.data),i=t.rootPath;new Function("data","val","data".concat(n.slice(i.length),"=val"))(o,e),r("update:data",o)};return(0,a.watchEffect)((function(){y.value&&function(t){throw new Error("[VueJSONPretty] ".concat(t))}(y.value)})),(0,a.watchEffect)((function(){f.value&&v()})),function(){var e,n,r=null!==(e=t.renderNodeKey)&&void 0!==e?e:u.renderNodeKey,o=null!==(n=t.renderNodeValue)&&void 0!==n?n:u.renderNodeValue,i=s.visibleData&&s.visibleData.map((function(e){return(0,a.createVNode)(b,{key:e.id,node:e,collapsed:!!s.hiddenPaths[e.path],showDoubleQuotes:t.showDoubleQuotes,showLength:t.showLength,checked:d.value.includes(e.path),selectableType:t.selectableType,showLine:t.showLine,showLineNumber:t.showLineNumber,showSelectController:t.showSelectController,selectOnClickNode:t.selectOnClickNode,nodeSelectable:t.nodeSelectable,highlightSelectedNode:t.highlightSelectedNode,editable:t.editable,editableTrigger:t.editableTrigger,showIcon:t.showIcon,renderNodeKey:r,renderNodeValue:o,onNodeClick:_,onBracketsClick:x,onIconClick:E,onSelectedChange:m,onValueChange:j,style:t.itemHeight&&20!==t.itemHeight?{lineHeight:"".concat(t.itemHeight,"px")}:{}},null)}));return(0,a.createVNode)("div",{ref:c,class:{"vjs-tree":!0,"is-virtual":t.virtual},onScroll:t.virtual?g:void 0,style:t.showLineNumber?O({paddingLeft:"".concat(12*Number(f.value.length.toString().length),"px")},t.style):t.style},[t.virtual?(0,a.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(t.height,"px")}},[(0,a.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(f.value.length*t.itemHeight,"px")}},[(0,a.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(s.translateY,"px)")}},[i])])]):i])}}})}(),r}()));const be=t({__name:"DataDialog",props:{graphData:{type:null,required:!0}},setup(t){const e=t;return n((()=>{})),(t,n)=>(o(),i(f,null,[a(" 查看数据的弹出框 "),u("div",null,[c(g(ge),{path:"res",data:e.graphData},null,8,["data"])])],2112))}});const me={class:"commProperty"};var Oe=P(t({__name:"CommnProperty",props:{lf:{type:null,required:!0},nodeData:{type:null,required:!0}},emits:["onClose"],setup(t,{emit:p}){const d=t,h=e({text:"",type:""});let y=e({text:"",cost1:"2000",cost2:"1000",type:"",a:{a1:"",a2:""}});const v=b(null);n((()=>{const{properties:t,text:e,type:n}=d.nodeData.data;t.length&&(y=Object.assign({},y,t)),e&&e.value&&(y.text=e.value,h.text=e.value),n&&(y.type=n,h.type=n)}));return(t,e)=>{const n=r("el-input"),h=r("el-form-item"),b=r("el-button"),m=r("el-form");return o(),i(f,null,[a(" 点击节点时弹出的抽屉 "),u("div",me,[c(m,{"label-width":"80px",model:g(y),ref_key:"formName",ref:v},{default:l((()=>[c(h,{class:"CommnProperty-formItem",prop:"text",label:"阶段名称",rules:[{required:!0,message:"请输入阶段名称",trigger:"blur"},{min:2,max:50,message:"长度不得超过50个字符",trigger:"blur"}]},{default:l((()=>[c(n,{modelValue:g(y).text,"onUpdate:modelValue":e[0]||(e[0]=t=>g(y).text=t)},null,8,["modelValue"])])),_:1}),c(h,{label:"阶段类型"},{default:l((()=>[c(n,{modelValue:g(y).type,"onUpdate:modelValue":e[1]||(e[1]=t=>g(y).type=t)},null,8,["modelValue"])])),_:1}),c(h,{label:"费用上限"},{default:l((()=>[c(n,{modelValue:g(y).cost1,"onUpdate:modelValue":e[2]||(e[2]=t=>g(y).cost1=t)},null,8,["modelValue"])])),_:1}),c(h,{label:"费用下限"},{default:l((()=>[c(n,{modelValue:g(y).cost2,"onUpdate:modelValue":e[3]||(e[3]=t=>g(y).cost2=t)},null,8,["modelValue"])])),_:1}),c(h,{label:"配合事项"},{default:l((()=>[c(n,{modelValue:g(y).a.a1,"onUpdate:modelValue":e[4]||(e[4]=t=>g(y).a.a1=t)},null,8,["modelValue"])])),_:1}),c(h,{label:"注意事项"},{default:l((()=>[c(n,{modelValue:g(y).a.a2,"onUpdate:modelValue":e[5]||(e[5]=t=>g(y).a.a2=t)},null,8,["modelValue"])])),_:1}),c(h,null,{default:l((()=>[c(b,{type:"primary",onClick:e[6]||(e[6]=t=>{v.value?v.value.validate((t=>{if(!t)return console.log("error submit!!"),!1;d.lf.setProperties(d.nodeData.data.id,{...y}),y.text.length>25&&(y.text=y.text.substring(0,25)+"\n"+y.text.substring(25)),d.lf.updateText(d.nodeData.data.id,y.text),p("onClose")})):console.log("mistake")})},{default:l((()=>[s("保存")])),_:1})])),_:1})])),_:1},8,["model"])])],2112)}}}),[["__scopeId","data-v-5e8f2480"]]);const _e={class:"property-dialog"},we=t({__name:"PropertyDialog",props:{lf:{type:null,required:!0},nodeData:{type:null,required:!0}},emits:["setPropertiesFinish"],setup(t,{emit:e}){const r=t;n((()=>{}));const a=()=>{e("setPropertiesFinish")};return(e,n)=>(o(),i("div",_e,[c(Oe,{nodeData:t.nodeData,lf:r.lf,onOnClose:a},null,8,["nodeData","lf"])]))}});const xe={class:"logic-flow-view"},Ee={class:"controlDiv"},je=(t=>(w("data-v-40d59a8f"),t=t(),x(),t))((()=>u("div",{id:"container",class:"container"},null,-1))),Se=t({__name:"index",setup(t){let s,f=b();const p=ae,d={circle:{stroke:"#000",outlineColor:"#88f",strokeWidth:1},rect:{stroke:"#777",outlineColor:"#88f",strokeWidth:0},polygon:{strokeWidth:1},polyline:{stroke:"#3F7AE5",hoverStroke:"#000000",selectedStroke:"#000000",outlineColor:"#88f",strokeWidth:2},nodeText:{color:"#000"},edgeText:{color:"#000000",background:{fill:"#f7f9ff"}}},h=e({addPanelStyle:{top:"0px",left:"0px"},showAddPanel:!1,addClickNode:null}),y=e({clickNode:null,moveData:null}),v=e({dialogVisible:!1,graphData:null,dataVisible:!1}),w=b(),x=b();n((()=>{E(),R(),z()})),m((()=>{H(),F()}));const E=()=>{let t=document.getElementById("container");if(t){const e=new D.exports.LogicFlow({container:t,plugins:[xt,jt,ot],background:{backgroundColor:"#f7f9ff"},grid:{size:1,visible:!1},keyboard:{enabled:!0},edgeTextDraggable:!0,hoverOutline:!1});f.value=e,e.extension.menu.setMenuConfig({nodeMenu:[{text:"删除",callback:function(t){e.deleteNode(t.id)}},{text:"编辑文本",callback:function(t){e.graphModel.editText(t.id),e.once("graph:transform,node:click,blank:click",(()=>{let n={type:"",text:""};const{properties:r,text:o,type:i}=t;r&&(n=Object.assign({},n,r)),o&&o.value&&(n.text=o.value),i&&(n.type=i.value),setTimeout((()=>{let r=e.graphModel.nodes.filter((e=>e.id===t.id))[0].text.value;r.length<=25&&(r=r.replace(/\n/g,"")),r.length>25&&(r=r.replace(/\n/g,""),r=r.substring(0,25)+"\n"+r.substring(25)),r.length>50&&(r=r.slice(0,50)),console.log(r),e.updateText(t.id,r),n.text=r,e.setProperties(t.id,{...n})}),0)})),console.log(e.graphModel.eventCenter,333)}},{text:"复制",callback:function(t){e.cloneNode(t.id)}}],edgeMenu:!1,graphMenu:[]}),e.setTheme(d),j()}},j=()=>{let t=f.value;!function(t){t.register("start",(({CircleNode:t,CircleNodeModel:e,h:n})=>({view:class extends t{getLabelShape(){const{model:t}=this.props,{x:e,y:r}=t;return n("text",{fill:"#000000",fontSize:12,x:e-12,y:r+4,width:50,height:25},"Start")}getShape(){const{model:t}=this.props,{x:e,y:r,r:o}=t,{fill:i,stroke:a,strokeWidth:u}=t.getNodeStyle();return n("g",{},[n("circle",{cx:e,cy:r,r:o,fill:i,stroke:a,strokeWidth:u}),this.getLabelShape()])}},model:class extends e{initNodeData(t){t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+35,dragable:!1,editable:!0},super.initNodeData(t),this.r=20}getNodeStyle(){return super.getNodeStyle()}getAnchorStyle(){const t=super.getAnchorStyle();return t.hover.r=8,t.hover.fill="rgb(24, 125, 255)",t.hover.stroke="rgb(24, 125, 255)",t}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="#88f",t}getConnectedTargetRules(){const t=super.getConnectedTargetRules();return t.push({message:"起始节点不能作为连线的终点",validate:()=>!1}),t}}})))}(t),function(t){t.register("入院",(({RectNode:t,RectNodeModel:e,h:n})=>({view:class extends t{getShape(){const{model:t}=this.props,{width:e,height:r,x:o,y:i,rx:a}=t,u={x:o-e/2,y:i-r/2},{fill:c,stroke:l,strokeWidth:s}=t.getNodeStyle();return n("rect",{width:e,height:r,rx:a,fill:c,stroke:l,strokeWidth:s,...u})}},model:class extends e{setAttributes(){const t=this.properties.text||"入院";if(this.properties.text){let e=0;t.length>25?(e=400,this.height=60):(e=16*t.length,this.height=33),this.width=e+30}else this.width=16*t.length+30,this.height=33;this.rx=7}getNodeStyle(){const t=super.getNodeStyle();return t.fill="#79C900",t}getTextStyle(){const t=super.getTextStyle();return t.fontSize=16,t.color="#fff",t.fontWeight="bold",t}}})))}(t),function(t){t.register("user",(({PolygonNode:t,PolygonNodeModel:e,h:n})=>({view:class extends t{getIconShape(){return n("text",{fill:"#fff",fontSize:12,fontWeight:"bold",width:50,height:25})}getShape(){const{model:t}=this.props,{width:e,height:r,x:o,y:i,points:a}=t,{fill:u,fillOpacity:c,strokeWidth:l,stroke:s,strokeOpacity:f}=t.getNodeStyle(),p=`matrix(1 0 0 1 ${o-e/2} ${i-r/2})`,d=a.map((t=>t.join(","))).join(" ");return n("g",{transform:p},[n("polygon",{points:d,fill:u,stroke:s,strokeWidth:l,strokeOpacity:f,fillOpacity:c}),this.getIconShape()])}},model:class extends e{constructor(t,e){t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+50},super(t,e)}initNodeData(t){super.initNodeData(t);const e=35;this.points=[[e,0],[70,e],[e,70],[0,e]]}getAnchorStyle(){const t=super.getAnchorStyle();return t.hover.r=8,t.hover.fill="rgb(24, 125, 255)",t.hover.stroke="rgb(24, 125, 255)",t}}})))}(t),function(t){t.register("end",(({CircleNode:t,CircleNodeModel:e,h:n})=>({view:class extends t{getIconShape(){const{model:t}=this.props,{x:e,y:r,width:o,height:i}=t,a="#404040";return n("svg",{x:e-o/2,y:r-i/2,width:40,height:40,viewBox:"0 0 1024 1024"},n("path",{fill:a,d:"M212.992 526.336 212.992 526.336 212.992 526.336 215.04 526.336 212.992 526.336Z"}),n("path",{fill:a,d:"M724.992 296.96 724.992 296.96 296.96 296.96 296.96 724.992 724.992 724.992 724.992 296.96Z"}))}getShape(){const{model:t}=this.props,{x:e,y:r,r:o}=t,{fill:i,stroke:a,strokeWidth:u}=t.getNodeStyle();return n("g",{},[n("circle",{cx:e,cy:r,r:o,fill:i,stroke:a,strokeWidth:u}),this.getIconShape()])}},model:class extends e{initNodeData(t){t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+35},super.initNodeData(t),this.r=20}getAnchorStyle(){const t=super.getAnchorStyle();return t.hover.r=8,t.hover.fill="rgb(24, 125, 255)",t.hover.stroke="rgb(24, 125, 255)",t}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="#88f",t}getConnectedSourceRules(){const t=super.getConnectedSourceRules();return t.push({message:"终止节点不能作为连线的起点",validate:()=>!1}),t}}})))}(t),function(t){t.register("出院",(({RectNode:t,RectNodeModel:e,h:n})=>({view:class extends t{getShape(){const{model:t}=this.props,{width:e,height:r,x:o,y:i,rx:a}=t,u={x:o-e/2,y:i-r/2},{fill:c,stroke:l,strokeWidth:s}=t.getNodeStyle();return n("rect",{width:e,height:r,rx:a,fill:c,stroke:l,strokeWidth:s,...u})}},model:class extends e{setAttributes(){const t=this.properties.text||"出院";if(this.properties.text){let e=0;t.length>25?(e=400,this.height=60):(e=16*t.length,this.height=33),this.width=e+30}else this.width=16*t.length+30,this.height=33;this.rx=7}getNodeStyle(){const t=super.getNodeStyle();return t.fill="#B37FEB",t}getTextStyle(){const t=super.getTextStyle();return t.fontSize=16,t.color="#fff",t.fontWeight="bold",t}}})))}(t),function(t,e,n){t.register("push",(({PolygonNode:r,PolygonNodeModel:o,h:i})=>({view:class extends r{getIconShape(){const{model:t}=this.props,{stroke:e}=t.getNodeStyle();return i("svg",{x:18,y:18,width:30,height:30,viewBox:"0 0 1024 1024"},i("path",{fill:e,d:"M866.461538 39.384615H393.846154c-43.323077 0-78.769231 35.446154-78.769231 78.769231v1.969231c0 13.784615 7.876923 27.569231 19.692308 35.446154 5.907692 3.938462 80.738462 78.769231 80.738461 78.769231 5.907692 5.907692 15.753846 0 15.753846-7.876924 0-15.753846 13.784615-31.507692 29.538462-31.507692h334.769231c15.753846 0 31.507692 15.753846 31.507692 31.507692v531.692308c0 15.753846-15.753846 27.569231-31.507692 27.569231h-334.769231c-15.753846 0-27.569231-11.815385-27.569231-27.569231v-1.969231c0-7.876923-9.846154-11.815385-15.753846-5.907692 0 0-74.830769 74.830769-82.707692 78.769231-11.815385 7.876923-19.692308 19.692308-19.692308 35.446154v39.384615c0 43.323077 33.476923 78.769231 76.8 78.769231h472.615385c43.323077 0 80.738462-35.446154 80.738461-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231zM630.153846 945.230769c-33.476923 0-59.076923-25.6-59.076923-59.076923s25.6-59.076923 59.076923-59.076923 59.076923 25.6 59.076923 59.076923-25.6 59.076923-59.076923 59.076923z m-86.646154-474.584615L297.353846 224.492308c-11.815385-11.815385-29.538462-11.815385-41.353846 0l-41.353846 41.353846c-11.815385 11.815385-11.815385 29.538462 0 41.353846l90.584615 90.584615c11.815385 11.815385 3.938462 33.476923-13.784615 33.476923H29.538462c-15.753846 1.969231-29.538462 15.753846-29.538462 31.507693v59.076923c0 15.753846 13.784615 29.538462 29.538462 29.538461h259.938461c17.723077 0 25.6 21.661538 13.784615 33.476923l-90.584615 90.584616c-11.815385 11.815385-11.815385 29.538462 0 41.353846l41.353846 41.353846c11.815385 11.815385 29.538462 11.815385 41.353846 0L543.507692 512c9.846154-9.846154 9.846154-29.538462 0-41.353846z"}))}getPulsShape(){const{model:r}=this.props,o=t.getGraphData().edges;let a=!1;if(o.some((t=>t.sourceNodeId===r.id&&(a=!0,!0))),!a)return i("svg",{x:70,y:20,width:30,height:30,viewBox:"0 0 1024 1024",class:"time-plus",onClick:t=>e(t,r),onMousedown:t=>n(t,r),onMouseUp:t=>n(t,r)},i("path",{fill:"#f17611",d:"M512 512m-448 0a448 448 0 1 0 896 0 448 448 0 1 0-896 0Z"}),i("path",{fill:"#ffffff",d:"M448 298.666667h128v426.666666h-128z"}),i("path",{fill:"#ffffff",d:"M298.666667 448h426.666666v128H298.666667z"}))}getShape(){const{model:t}=this.props,{width:e,height:n,x:r,y:o,points:a}=t,{fill:u,fillOpacity:c,strokeWidth:l,stroke:s,strokeOpacity:f}=t.getNodeStyle(),p=`matrix(1 0 0 1 ${r-e/2} ${o-n/2})`,d=a.map((t=>t.join(","))).join(" ");return i("g",{transform:p},[i("polygon",{points:d,fill:u,stroke:s,strokeWidth:l,strokeOpacity:f,fillOpacity:c}),this.getIconShape(),this.getPulsShape()])}},model:class extends o{constructor(t,e){t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+50},super(t,e);const n=35;this.points=[[n,0],[70,n],[n,70],[0,n]]}}})))}(t,k,M),function(t){t.register("download",(({PolygonNode:t,PolygonNodeModel:e,h:n})=>({view:class extends t{getIconShape(){return n("svg",{x:14,y:13,width:23,height:23,viewBox:"0 0 1024 1024"},n("path",{fill:"#9932CC",d:"M831.513034 319.863005h-95.945189c-17.662265 0-31.980365 14.3181-31.980365 31.980365 0 17.662265 14.3181 31.980365 31.980365 31.980366h64.218604c17.520025 0 31.722492 14.202467 31.722492 31.722492V863.786065c0 17.520025-14.202467 31.722492-31.722492 31.722492H159.66442c-17.520025 0-31.722492-14.202467-31.722493-31.722492V415.546228c0-17.520025 14.202467-31.722492 31.722493-31.722492h64.218603c17.662265 0 31.980365-14.3181 31.980366-31.980366 0-17.662265-14.3181-31.980365-31.980366-31.980365H127.937834c-35.322483 0-63.956637 28.634154-63.956637 63.956637v511.693008c0 35.322483 28.634154 63.956637 63.956637 63.956638h703.5752c35.322483 0 63.956637-28.634154 63.956638-63.956638V383.819642c0-35.32146-28.634154-63.956637-63.956638-63.956637z"}),n("path",{fill:"#9932CC",d:"M310.382073 521.036817c-12.388145-12.388145-32.473599-12.388145-44.862767 0l-0.364297 0.364297c-12.388145 12.388145-12.388145 32.473599 0 44.862767l190.186573 190.186574c5.818519 6.813173 14.465456 11.137665 24.126491 11.137664h0.515746c9.662057 0 18.307971-4.324492 24.12649-11.137664L694.296883 566.263881c12.388145-12.388145 12.388145-32.473599 0-44.862767l-0.364297-0.364297c-12.388145-12.388145-32.473599-12.388145-44.862767 0L511.706311 658.400325V95.743598c0-17.520025-14.202467-31.722492-31.722492-31.722492h-0.515746c-17.520025 0-31.722492 14.202467-31.722493 31.722492v562.656727L310.382073 521.036817z"}))}getShape(){const{model:t}=this.props,{width:e,height:r,x:o,y:i,points:a}=t,{fill:u,fillOpacity:c,strokeWidth:l,stroke:s,strokeOpacity:f}=t.getNodeStyle(),p=`matrix(1 0 0 1 ${o-e/2} ${i-r/2})`,d=a.map((t=>t.join(","))).join(" ");return n("g",{transform:p},[n("polygon",{points:d,fill:u,stroke:s,strokeWidth:l,strokeOpacity:f,fillOpacity:c}),this.getIconShape()])}},model:class extends e{constructor(t,e){t.text={value:t.text&&t.text.value||"",x:t.x,y:t.y+50},super(t,e);const n=25;this.points=[[n,0],[50,n],[n,50],[0,n]]}getNodeStyle(){const t=super.getNodeStyle();return t.stroke="#9932CC",t}}})))}(t),function(t){t.register("polyline",(({PolylineEdge:t,PolylineEdgeModel:e})=>({view:t,model:class extends e{constructor(t,e){super(t,e),this.state={}}}})))}(t),function(t){t.register("task",(({RectNode:t,RectNodeModel:e,h:n})=>({view:class extends t{getShape(){const{model:t}=this.props,{width:e,height:r,x:o,y:i}=t,a={x:o-e/2,y:i-r/2},{fill:u,stroke:c,strokeWidth:l}=t.getNodeStyle();return n("rect",{width:e,height:r,fill:u,stroke:c,strokeWidth:l,...a})}},model:class extends e{initNodeData(t){super.initNodeData(t)}getNodeStyle(){const t=super.getNodeStyle();return t.strokeWidth=1,t}}})))}(t),function(t){t.register("阶段",(({RectNode:t,RectNodeModel:e,h:n})=>({view:class extends t{getShape(){const{model:t}=this.props,{width:e,height:r,x:o,y:i,rx:a}=t,u={x:o-e/2,y:i-r/2},{fill:c,stroke:l,strokeWidth:s}=t.getNodeStyle();return n("rect",{width:e,height:r,rx:a,fill:c,stroke:l,strokeWidth:s,...u})}},model:class extends e{setAttributes(){const t=this.properties.text||"阶段";if(this.properties.text){let e=0;t.length>25?(e=400,this.height=60):(e=16*t.length,this.height=33),this.width=e+30}else this.width=16*t.length+30,this.height=33;this.rx=7}initNodeData(t){super.initNodeData(t)}getNodeStyle(){const t=super.getNodeStyle();return t.fill="#54AAC9",t}getTextStyle(){const t=super.getTextStyle();return t.fontSize=16,t.color="#fff",t.fontWeight="bold",t}}})))}(t),P()},P=()=>{f.value.render(p),A()},k=(t,e)=>{t.stopPropagation();const{clientX:n,clientY:r}=t;h.addPanelStyle.top=r-40+"px",h.addPanelStyle.left=n+"px",h.showAddPanel=!0,h.addClickNode=e},M=t=>{t.stopPropagation()},A=()=>{f.value.on("node:click",(t=>{y.clickNode=t,v.dialogVisible=!0})),f.value.on("edge:click",(t=>{y.clickNode=t,v.dialogVisible=!0})),f.value.on("element:click",(()=>{N()})),f.value.on("edge:add",(t=>{console.log("edge:add",t)})),f.value.on("node:mousemove",(t=>{y.moveData=t})),f.value.on("blank:click",(()=>{N()})),f.value.on("connection:not-allowed",(t=>{console.log(t),S({message:"节点连接错误",type:"error"})}))},N=()=>{h.showAddPanel=!1,h.addPanelStyle.top="0px",h.addPanelStyle.left="0px",h.addClickNode=null},T=()=>{v.dialogVisible=!1},C=()=>{v.graphData=f.value.getGraphData(),v.dataVisible=!0},R=()=>{window.addEventListener("resize",I,{passive:!0})},I=()=>{w.value&&w.value.resize(),s?(clearTimeout(s),s=null,L()):L()},L=()=>{s||(s=setTimeout((function(){f.value.resetZoom(),f.value.resetTranslate()}),300))},z=()=>{x.value=document.getElementsByClassName("container")[0],x.value&&x.value.addEventListener("transitionend",B,{passive:!0})},B=t=>{t.propertyName},H=()=>{window.removeEventListener("resize",I)},F=()=>{x.value&&x.value.removeEventListener("transitionend",B)};return(t,e)=>{const n=r("el-dialog"),s=r("el-drawer");return o(),i("div",xe,[a(" 辅助工具栏 "),u("div",Ee,[g(f)?(o(),O(ue,{key:0,class:"demo-control",lf:g(f),onGetData:C},null,8,["lf"])):a("v-if",!0)]),g(f)?(o(),O(de,{key:0,lf:g(f),nodeList:g(ie)},null,8,["lf","nodeList"])):a("v-if",!0),a(" 节点面板 "),a(" 画布 "),je,a(" 节点操作面板 "),h.showAddPanel?(o(),O(ye,{key:1,class:"add-panel",style:_(h.addPanelStyle),lf:g(f),nodeData:h.addClickNode,onAddNodeFinish:N},null,8,["style","lf","nodeData"])):a("v-if",!0),a(" 数据查看面板 "),c(n,{title:"数据",modelValue:v.dataVisible,"onUpdate:modelValue":e[0]||(e[0]=t=>v.dataVisible=t),width:"50%"},{default:l((()=>[v.dataVisible?(o(),O(be,{key:0,graphData:v.graphData},null,8,["graphData"])):a("v-if",!0)])),_:1},8,["modelValue"]),a(" 属性面板 "),c(s,{title:"设置节点属性",modelValue:v.dialogVisible,"onUpdate:modelValue":e[1]||(e[1]=t=>v.dialogVisible=t),direction:"rtl",size:"500px","before-close":T},{default:l((()=>[v.dialogVisible?(o(),O(we,{key:0,nodeData:y.clickNode,lf:g(f),onSetPropertiesFinish:T},null,8,["nodeData","lf"])):a("v-if",!0)])),_:1},8,["modelValue"])])}}});var Pe=P(Se,[["__scopeId","data-v-40d59a8f"]]);export{Pe as default};
