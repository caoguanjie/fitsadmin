import{y as e,c as t,e as o,o as s,f as n,J as a,K as l,E as i,j as r,I as c,u,P as p,L as d,G as f,O as m,z as y,h as v,H as g,F as h,N as b,M as C,T as x,l as k,ag as E}from"./vxetable.dc399d9c.js";import{b as T,ai as L,M,_ as S,c as _,aj as H,ak as I,E as N,al as j,am as w,W as z,an as B,ao as F,ap as $,d as q,e as O,aq as W}from"./index.0fe8a92a.js";const A=["success","info","warning","error"],U=T({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:L},id:{type:String,default:""},message:{type:M([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:M(Function),default:()=>{}},onClose:{type:M(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...A,""],default:""},zIndex:{type:Number,default:0}}),D=["id"],G=["textContent"],J={key:0},K=["innerHTML"];var P=S(e({name:"ElNotification",props:U,emits:{destroy:()=>!0},setup(e,{expose:k}){const E=e,T=_("notification"),{Close:L}=j,M=t(!1);let S;const B=o((()=>{const e=E.type;return e&&H[E.type]?T.m(e):""})),F=o((()=>E.type&&H[E.type]||E.icon)),$=o((()=>E.position.endsWith("right")?"right":"left")),q=o((()=>E.position.startsWith("top")?"top":"bottom")),O=o((()=>({[q.value]:`${E.offset}px`,zIndex:E.zIndex})));function W(){E.duration>0&&({stop:S}=w((()=>{M.value&&U()}),E.duration))}function A(){null==S||S()}function U(){M.value=!1}return s((()=>{W(),M.value=!0})),I(document,"keydown",(function({code:e}){e===z.delete||e===z.backspace?A():e===z.esc?M.value&&U():W()})),k({visible:M,close:U}),(e,t)=>(n(),a(x,{name:u(T).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:l((()=>[i(r("div",{id:e.id,class:c([u(T).b(),e.customClass,u($)]),style:p(u(O)),role:"alert",onMouseenter:A,onMouseleave:W,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[u(F)?(n(),a(u(N),{key:0,class:c([u(T).e("icon"),u(B)])},{default:l((()=>[(n(),a(d(u(F))))])),_:1},8,["class"])):f("v-if",!0),r("div",{class:c(u(T).e("group"))},[r("h2",{class:c(u(T).e("title")),textContent:m(e.title)},null,10,G),i(r("div",{class:c(u(T).e("content")),style:p(e.title?void 0:{margin:0})},[y(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(n(),v(g,{key:1},[f(" Caution here, message could've been compromised, never use user's input as message "),r("p",{innerHTML:e.message},null,8,K)],2112)):(n(),v("p",J,m(e.message),1))]))],6),[[h,e.message]]),e.showClose?(n(),a(u(N),{key:0,class:c(u(T).e("closeBtn")),onClick:b(U,["stop"])},{default:l((()=>[C(u(L))])),_:1},8,["class","onClick"])):f("v-if",!0)],2)],46,D),[[h,M.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Z={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let Q=1;const R=function(e={},t=null){if(!B)return{close:()=>{}};("string"==typeof e||k(e))&&(e={message:e});const o=e.position||"top-right";let s=e.offset||0;Z[o].forEach((({vm:e})=>{var t;s+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),s+=16;const{nextZIndex:n}=F(),a="notification_"+Q++,l=e.onClose,i={...e,zIndex:n(),offset:s,id:a,onClose:()=>{!function(e,t,o){const s=Z[t],n=s.findIndex((({vm:t})=>{var o;return(null==(o=t.component)?void 0:o.props.id)===e}));if(-1===n)return;const{vm:a}=s[n];if(!a)return;null==o||o(a);const l=a.el.offsetHeight,i=t.split("-")[0];s.splice(n,1);const r=s.length;if(r<1)return;for(let c=n;c<r;c++){const{el:e,component:t}=s[c].vm,o=Number.parseInt(e.style[i],10)-l-16;t.props.offset=o}}(a,o,l)}};let r=document.body;$(e.appendTo)?r=e.appendTo:q(e.appendTo)&&(r=document.querySelector(e.appendTo)),$(r)||(O("ElNotification","the appendTo option is not an HTMLElement. Falling back to document.body."),r=document.body);const c=document.createElement("div"),u=C(P,i,k(i.message)?{default:()=>i.message}:null);return u.appContext=null!=t?t:R._context,u.props.onDestroy=()=>{E(null,c)},E(u,c),Z[o].push({vm:u}),r.appendChild(c.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};A.forEach((e=>{R[e]=(t={})=>(("string"==typeof t||k(t))&&(t={message:t}),R({...t,type:e}))})),R.closeAll=function(){for(const e of Object.values(Z))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},R._context=null;const V=W(R,"$notify");export{V as E};
