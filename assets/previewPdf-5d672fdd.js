import{V as e}from"./vue3-pdf-embed-f7e03879.js";import{z as s,Q as a,X as t,l as i}from"./index-853584e7.js";import{u as d}from"./FitsTableProHook-6e32d109.js";import{p as f}from"./printer-18154c77.js";import{v as l,a as o,B as n,f as p,h as r,F as c,I as u,u as m,M as v,i as h}from"./vxetable-90850a7d.js";import"./echarts-c32f5a2f.js";const w={class:"previewpdf-example"},y=["src"],P=l({name:"PreviewPDF"}),b=i(l({...P,props:{url:{type:String,default:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href},pdfjsURL:{type:String,default:`/static/web/viewer.html?file=${encodeURIComponent(new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href)}`}},setup(i){const l=i,P=o(!1),b=o(!1),x=o(null);let F=o(0),R=o(1),_=o("");const z=n({title:"",width:"70%"}),U=()=>{P.value=!1},L=()=>`transform:scale(${R.value})`;function g(){x.value.print()}const B={columns:[{field:"name",title:"文件名"},{field:"suffix",title:"文件后缀"},{field:"type",title:"文件MIME类型"},{field:"address",title:"文件路径"},{field:"size",title:"文件大小"},{field:"operation",title:"操作",slots:{default:"operation_default"},width:300}],data:[{name:"pdf模板",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"558.13KB"},{name:"一个pdf",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"58.13KB"},{name:"模拟pdf",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"55.13KB"},{name:"pdf文件",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"58.13KB"},{name:"政府文件",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"558KB"},{name:"pdf模板",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"558.3KB"},{name:"pdf模板",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"558.1KB"},{name:"pdf模板",suffix:"PDF",type:"application/pdf",address:new URL("/fitsadmin/assets/test-d4c5102d.pdf",self.location).href,size:"558.13KB"}]},D=o(),{fitsTablePro:K}=d(B,D);return(i,d)=>(p(),r("div",w,[c(m(a),{option:m(K),ref_key:"xGrid",ref:D},{operation_default:u((()=>[c(m(s),{size:"small",type:"primary",onClick:d[0]||(d[0]=e=>{"canvas"==="canvas"?(P.value=!0,_.value=l.url):window.open(l.url,"_blank")})},{default:u((()=>[v(" canvas预览 ")])),_:1}),c(m(s),{size:"small",type:"primary",onClick:d[1]||(d[1]=e=>b.value=!0)},{default:u((()=>[v(" iframe预览 ")])),_:1})])),_:1},8,["option"]),c(m(t),{visible:m(P),dialogProp:m(z),showFooter:!1,onCancel:U,onSubmit:d[2]||(d[2]=e=>P.value=!1)},{header:u((()=>[c(m(s),{type:"primary",icon:m(f),onClick:g},{default:u((()=>[v("打印")])),_:1},8,["icon"])])),default:u((()=>[c(m(e),{ref_key:"vuePdfEmbedRef",ref:x,source:m(_),class:"vue-pdf-embed",style:L,page:m(F)},null,8,["source","page"])])),_:1},8,["visible","dialogProp"]),c(m(t),{visible:m(b),dialogProp:m(z),showFooter:!1,onCancel:d[3]||(d[3]=e=>b.value=!1),onSubmit:d[4]||(d[4]=e=>b.value=!1)},{default:u((()=>[h("iframe",{src:l.url,height:"100%"},null,8,y)])),_:1},8,["visible","dialogProp"])]))}}),[["__scopeId","data-v-d86e081c"]]);export{b as default};
