import{y as e,m as a,c as t,d as l,n as s,f as o,h as n,I as r,u as i,P as u,g as c,e as d,o as v,D as b,M as p,Q as m,p as f,z as g,C as y,v as h,E as T,F as x,G as P}from"./vxetable.dc399d9c.js";import{b as $,M as w,N,O as k,c as C,f as B,_ as E,P as S,Q as R,T as F,U as A,E as _,g as j,h as K,V as L,W as M,X as V,Y as z,Z as O,d as q,i as Q,j as U,$ as W,w as X,k as Y}from"./index.0fe8a92a.js";const D=Symbol("tabsRootContextKey");var G=E(e({name:"ElTabBar",props:$({tabs:{type:w(Array),default:()=>N([])}}),setup(e,{expose:d}){const v=e,b=c(),p=a(D);p||k("ElTabBar","<el-tabs><el-tab-bar /></el-tabs>");const m=C("tabs"),f=t(),g=t(),y=()=>g.value=(()=>{let e=0,a=0;const t=["top","bottom"].includes(p.props.tabPosition)?"width":"height",l="width"===t?"x":"y";return v.tabs.every((s=>{var o,n,r,i;const u=null==(n=null==(o=b.parent)?void 0:o.refs)?void 0:n[`tab-${s.uid}`];if(!u)return!1;if(!s.active)return!0;a=u[`client${S(t)}`];const c="x"===l?"left":"top";e=u.getBoundingClientRect()[c]-(null!=(i=null==(r=u.parentElement)?void 0:r.getBoundingClientRect()[c])?i:0);const d=window.getComputedStyle(u);return"width"===t&&(v.tabs.length>1&&(a-=Number.parseFloat(d.paddingLeft)+Number.parseFloat(d.paddingRight)),e+=Number.parseFloat(d.paddingLeft)),!1})),{[t]:`${a}px`,transform:`translate${S(l)}(${e}px)`}})();return l((()=>v.tabs),(async()=>{await s(),y()}),{immediate:!0}),B(f,(()=>y())),d({ref:f,update:y}),(e,a)=>(o(),n("div",{ref_key:"barRef",ref:f,class:r([i(m).e("active-bar"),i(m).is(i(p).props.tabPosition)]),style:u(g.value)},null,6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const H=$({panes:{type:w(Array),default:()=>N([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:w(Function),default:R},onTabRemove:{type:w(Function),default:R},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),I=e({name:"ElTabNav",props:H,setup(e,{expose:o}){const n=c(),r=a(D);r||k("ElTabNav","<el-tabs><tab-nav /></el-tabs>");const i=C("tabs"),u=F(),m=A(),f=t(),g=t(),y=t(),h=t(!1),T=t(0),x=t(!1),P=t(!0),$=d((()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height")),w=d((()=>({transform:`translate${"width"===$.value?"X":"Y"}(-${T.value}px)`}))),N=()=>{if(!f.value)return;const e=f.value[`offset${S($.value)}`],a=T.value;if(!a)return;const t=a>e?a-e:0;T.value=t},E=()=>{if(!f.value||!g.value)return;const e=g.value[`offset${S($.value)}`],a=f.value[`offset${S($.value)}`],t=T.value;if(e-t<=a)return;const l=e-t>2*a?t+a:e-a;T.value=l},R=async()=>{const e=g.value;if(!(h.value&&y.value&&f.value&&e))return;await s();const a=y.value.querySelector(".is-active");if(!a)return;const t=f.value,l=["top","bottom"].includes(r.props.tabPosition),o=a.getBoundingClientRect(),n=t.getBoundingClientRect(),i=l?e.offsetWidth-n.width:e.offsetHeight-n.height,u=T.value;let c=u;l?(o.left<n.left&&(c=u-(n.left-o.left)),o.right>n.right&&(c=u+o.right-n.right)):(o.top<n.top&&(c=u-(n.top-o.top)),o.bottom>n.bottom&&(c=u+(o.bottom-n.bottom))),c=Math.max(c,0),T.value=Math.min(c,i)},V=()=>{if(!g.value||!f.value)return;const e=g.value[`offset${S($.value)}`],a=f.value[`offset${S($.value)}`],t=T.value;if(a<e){const t=T.value;h.value=h.value||{},h.value.prev=t,h.value.next=t+a<e,e-t<a&&(T.value=e-a)}else h.value=!1,t>0&&(T.value=0)},z=e=>{const a=e.code,{up:t,down:l,left:s,right:o}=M;if(![t,l,s,o].includes(a))return;const n=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),r=n.indexOf(e.target);let i;i=a===s||a===t?0===r?n.length-1:r-1:r<n.length-1?r+1:0,n[i].focus(),n[i].click(),O()},O=()=>{P.value&&(x.value=!0)},q=()=>x.value=!1;return l(u,(e=>{"hidden"===e?P.value=!1:"visible"===e&&setTimeout((()=>P.value=!0),50)})),l(m,(e=>{e?setTimeout((()=>P.value=!0),50):P.value=!1})),B(y,V),v((()=>setTimeout((()=>R()),0))),b((()=>V())),o({scrollToActiveTab:R,removeFocus:q}),l((()=>e.panes),(()=>n.update()),{flush:"post"}),()=>{const a=h.value?[p("span",{class:[i.e("nav-prev"),i.is("disabled",!h.value.prev)],onClick:N},[p(_,null,{default:()=>[p(j,null,null)]})]),p("span",{class:[i.e("nav-next"),i.is("disabled",!h.value.next)],onClick:E},[p(_,null,{default:()=>[p(K,null,null)]})])]:null,t=e.panes.map(((a,t)=>{var l,s,o,n;const u=a.uid,c=a.props.disabled,d=null!=(s=null!=(l=a.props.name)?l:a.index)?s:`${t}`,v=!c&&(a.isClosable||e.editable);a.index=`${t}`;const b=v?p(_,{class:"is-icon-close",onClick:t=>e.onTabRemove(a,t)},{default:()=>[p(L,null,null)]}):null,m=(null==(n=(o=a.slots).label)?void 0:n.call(o))||a.props.label,f=!c&&a.active?0:-1;return p("div",{ref:`tab-${u}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",a.active),i.is("disabled",c),i.is("closable",v),i.is("focus",x.value)],id:`tab-${d}`,key:`tab-${u}`,"aria-controls":`pane-${d}`,role:"tab","aria-selected":a.active,tabindex:f,onFocus:()=>O(),onBlur:()=>q(),onClick:t=>{q(),e.onTabClick(a,d,t)},onKeydown:t=>{!v||t.code!==M.delete&&t.code!==M.backspace||e.onTabRemove(a,t)}},[m,b])}));return p("div",{ref:y,class:[i.e("nav-wrap"),i.is("scrollable",!!h.value),i.is(r.props.tabPosition)]},[a,p("div",{class:i.e("nav-scroll"),ref:f},[p("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:g,style:w.value,role:"tablist",onKeydown:z},[e.type?null:p(G,{tabs:[...e.panes]},null),t])])])}}}),Z=$({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:w(Function),default:()=>!0},stretch:Boolean}),J=e=>q(e)||Q(e);var ee=e({name:"ElTabs",props:Z,emits:{[V]:e=>J(e),"tab-click":(e,a)=>a instanceof Event,"tab-change":e=>J(e),edit:(e,a)=>["remove","add"].includes(a),"tab-remove":e=>J(e),"tab-add":()=>!0},setup(e,{emit:a,slots:o,expose:n}){var r,i;const u=C("tabs"),c=t(),v=m({}),b=t(null!=(i=null!=(r=e.modelValue)?r:e.activeName)?i:"0"),y=async t=>{var l,s,o;if(b.value!==t&&!U(t))try{!1!==await(null==(l=e.beforeLeave)?void 0:l.call(e,t,b.value))&&((e=>{b.value=e,a(V,e),a("tab-change",e)})(t),null==(o=null==(s=c.value)?void 0:s.removeFocus)||o.call(s))}catch(n){}},h=(e,t,l)=>{e.props.disabled||(y(t),a("tab-click",e,l))},T=(e,t)=>{e.props.disabled||U(e.props.name)||(t.stopPropagation(),a("edit",e.props.name,"remove"),a("tab-remove",e.props.name))},x=()=>{a("edit",void 0,"add"),a("tab-add")};z({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},d((()=>!!e.activeName))),l((()=>e.activeName),(e=>y(e))),l((()=>e.modelValue),(e=>y(e))),l(b,(async()=>{var e;await s(),null==(e=c.value)||e.scrollToActiveTab()}));f(D,{props:e,currentName:b,registerPane:e=>v[e.uid]=e,unregisterPane:e=>delete v[e]});return n({currentName:b}),()=>{const a=e.editable||e.addable?p("span",{class:u.e("new-tab"),tabindex:"0",onClick:x,onKeydown:e=>{e.code===M.enter&&x()}},[p(_,{class:u.is("icon-plus")},{default:()=>[p(O,null,null)]})]):null,t=p("div",{class:[u.e("header"),u.is(e.tabPosition)]},[a,p(I,{ref:c,currentName:b.value,editable:e.editable,type:e.type,panes:Object.values(v),stretch:e.stretch,onTabClick:h,onTabRemove:T},null)]),l=p("div",{class:u.e("content")},[g(o,"default")]);return p("div",{class:[u.b(),u.m(e.tabPosition),{[u.m("card")]:"card"===e.type,[u.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[t,l]:[l,t]])}}});const ae=$({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),te=["id","aria-hidden","aria-labelledby"];var le=E(e({name:"ElTabPane",props:ae,setup(e){const s=e,u=c(),b=y(),p=a(D);p||k("ElTabPane","usage: <el-tabs><el-tab-pane /></el-tabs/>");const f=C("tab-pane"),$=t(),w=d((()=>s.closable||p.props.closable)),N=W((()=>{var e;return p.currentName.value===(null!=(e=s.name)?e:$.value)})),B=t(N.value),E=d((()=>{var e;return null!=(e=s.name)?e:$.value})),S=W((()=>!s.lazy||B.value||N.value));l(N,(e=>{e&&(B.value=!0)}));const R=m({uid:u.uid,slots:b,props:s,paneName:E,active:N,index:$,isClosable:w});return v((()=>{p.registerPane(R)})),h((()=>{p.unregisterPane(R.uid)})),(e,a)=>i(S)?T((o(),n("div",{key:0,id:`pane-${i(E)}`,class:r(i(f).b()),role:"tabpanel","aria-hidden":!i(N),"aria-labelledby":`tab-${i(E)}`},[g(e.$slots,"default")],10,te)),[[x,i(N)]]):P("v-if",!0)}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const se=X(ee,{TabPane:le}),oe=Y(le);export{oe as E,se as a};
