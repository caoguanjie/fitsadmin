import{W as e,H as t,N as r,x as l,z as a,ap as s,j as i}from"./index-30624987.js";import{u as o}from"./FitsTableProHook-2b21cdbf.js";import{E as n,l as p,m as d,p as u,a as m,J as c,K as T,y,a6 as v,O as b,u as f,R as k,V as g,n as h,ac as q}from"./vxetable-22d32819.js";import{a as w,E as M}from"./index-7f4ca18c.js";import"./echarts-1215139a.js";const x=n({name:"Document"}),S={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D=[u("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 01-32 32H160a32 32 0 01-32-32V96a32 32 0 0132-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1)];var C=e(x,[["render",function(e,t,r,l,a,s){return p(),d("svg",S,D)}]]);const I=n({name:"Folder"}),H={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B=[u("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0132 32v576a32 32 0 01-32 32H96a32 32 0 01-32-32V160a32 32 0 0132-32z"},null,-1)];var E=e(I,[["render",function(e,t,r,l,a,s){return p(),d("svg",H,B)}]]);const R={class:"comprehensive-table",id:"cal-container"},G=n({name:"AllTable"}),Q=i(n({...G,setup(e){const i=m(),n=m(),u=c({isVisible:!1,popperOptions:{}}),{isVisible:x,popperOptions:S}=T(u),D=(e,{node:t,data:r,store:l})=>e("div",{style:"display: flex;align-items: center"},[e(t.isLeaf?C:E,{style:"height:16px;width: 16px;margin-right: 4px;"}),e("span",t.label)]),I=[{text:"今天",value:()=>[s().startOf("day").format("YYYY-MM-DD HH:mm:ss"),s().endOf("day").format("YYYY-MM-DD HH:mm:ss")]}],H={keepSource:!0,rowConfig:{height:40,isHover:!0,useKey:!0},formConfig:{data:{status:["2"],number:"1"},items:[{field:"status",span:3,title:"工单状态",itemRender:{name:"ElSelect",props:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0},options:[{value:"2",label:"新建"},{value:"3",label:"处理中"},{value:"4",label:"挂起"},{value:"5",label:"已关闭"}]}},{field:"number",span:3,title:"编号/标题",itemRender:{name:"ElInput",props:{clearable:!0}}},{field:"group",span:3,title:"工作组",itemRender:{name:"ElSelect",props:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0},options:[{value:"2",label:"工作A组"},{value:"3",label:"工作B组"},{value:"4",label:"工作C组"},{value:"5",label:"工作D组"}]}},{field:"engineer",span:3,title:"工程师",itemRender:{name:"ElSelect",props:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0},options:[{value:"2",label:"唐坤宇"},{value:"3",label:"谭坤与"},{value:"4",label:"唐昆禹"},{value:"5",label:"谭坤语"}]}},{field:"type",span:3,title:"工单类型",itemRender:{name:"ElSelect",props:{clearable:!0},options:[{value:"0",label:"事件工单"},{value:"1",label:"服务工单"},{value:"3",label:"售后工单"}]}},{field:"overtimeStatus",span:3,title:"超时状态",itemRender:{name:"ElSelect",props:{clearable:!0},options:[{value:"0",label:"全部"},{value:"1",label:"未超时"},{value:"3",label:"全部解决"},{value:"4",label:"全部关闭"},{value:"5",label:"全部超时"},{value:"6",label:"全部解决"}]}},{field:"project",span:3,title:"所属项目",itemRender:{name:"ElSelect",props:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0},options:[{value:"2",label:"佛山水池集成项目"},{value:"3",label:"北京水池集成项目"},{value:"4",label:"广州水池集成项目"},{value:"5",label:"上海水池集成项目"}]}},{field:"assetInfo",span:3,title:"资产信息",itemRender:{name:"ElInput",props:{clearable:!0}}},{field:"requestMan",span:3,title:"请求人",itemRender:{name:"ElInput",props:{clearable:!0}}},{field:"assureDepartment",span:3,title:"报障部门",itemRender:{name:"FitsTreeSelect",props:{options:new t({tree:{nodeKey:"id",data:[{id:"1",label:"组织机构",children:[{id:"2",label:"客户",children:[{id:"2-1",label:"综合组"},{id:"2-2",label:"综合组AA"}]},{id:"3",label:"供应商",children:[{id:"3-1",label:"综合组"}]},{id:"4",label:"运维商",children:[{id:"4-1",label:"综合组"},{id:"4-2",label:"综合组AA"},{id:"4-3",label:"综合组AA"}]},{id:"5",label:"检测机构"}]}],showCheckbox:!0,checkOnClickNode:!0,renderContent:D},select:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0,fitInputWidth:!1}})}}},{field:"requestTime",span:3,title:"请求时间",itemRender:{name:"ElDatePicker",props:{type:"datetimerange",format:"YYYY-MM-DD HH:mm",shortcuts:I}}},{field:"resolveTime",span:3,title:"解决时间",itemRender:{name:"ElDatePicker",props:{type:"datetimerange",format:"YYYY-MM-DD HH:mm",shortcuts:I}}},{field:"assureType",span:3,title:"故障类别",itemRender:{name:"FitsTreeSelect",props:{options:new t({tree:{nodeKey:"id",data:[{id:"1",label:"工单故障类别",children:[{id:"2",label:"硬件更换",children:[{id:"2-1",label:"硬盘更换"},{id:"2-2",label:"内存更换"}]},{id:"3",label:"故障",children:[{id:"3-1",label:"数据下载"}]},{id:"4",label:"需求",children:[{id:"4-1",label:"提问系统"},{id:"4-2",label:"提问系统AA"},{id:"4-3",label:"提问系统AA"}]},{id:"5",label:"定型业务"}]}],showCheckbox:!0,checkOnClickNode:!0,renderContent:D},select:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0,fitInputWidth:!1}})}}},{field:"responseMan",span:3,title:"响应人",itemRender:{name:"ElInput",props:{clearable:!0}}},{field:"assureMethod",span:3,title:"报障方式",itemRender:{name:"ElSelect",props:{multiple:!0,collapseTags:!0,collapseTagsTooltip:!0,clearable:!0},options:[{value:"2",label:"现场"},{value:"3",label:"电话"},{value:"4",label:"邮件"},{value:"5",label:"其他"}]}}]},importConfig:{},exportConfig:{},columnConfig:{},pagerConfig:{layouts:["Total","Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump"],pageSizes:[10,15,20,50,100],background:!0},columns:[{field:"orderId",title:"工单编号",sortable:!0,slots:{default:e=>q("div",{style:"overflow: hidden; text-overflow: ellipsis; white-space: nowrap; width: 100%;"},[q("span",{style:"background: red; color: #fff; border-radius: 4px; font-weight: bold;  padding: 0 2px; margin-right: 2px;"},"O"),q("span",e.row.orderId)])}},{field:"requestDepartment",title:"请求部门"},{field:"workGroup",title:"工作组"},{field:"requestTime",title:"请求时间",sortable:!0},{field:"assureType",title:"故障类别",sortable:!0},{field:"resolveTime",title:"解决时间",sortable:!0},{field:"priority",title:"优先级",sortable:!0,width:80},{field:"orderType",title:"工单类型"},{field:"responseMan",title:"响应人"},{field:"requestMan",title:"请求人"},{field:"engineer",title:"工程师"},{field:"responseTime",title:"响应时间",sortable:!0},{field:"updateTime",title:"最后更新时间",sortable:!0},{field:"status",title:"状态",sortable:!0,width:80}],data:[{orderId:"SQ123456789",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 17:55",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456788",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-07 10:21",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"失败解决"},{orderId:"SQ123456787",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 09:56",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456786",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-06 14:12",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"已关闭"},{orderId:"SQ123456789",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 17:55",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456788",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-07 10:21",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"失败解决"},{orderId:"SQ123456787",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 09:56",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456786",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-06 14:12",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"已关闭"},{orderId:"SQ123456789",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 17:55",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456788",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-07 10:21",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"失败解决"},{orderId:"SQ123456787",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 09:56",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456786",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-06 14:12",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"已关闭"},{orderId:"SQ123456789",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 17:55",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456788",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-07 10:21",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"失败解决"},{orderId:"SQ123456787",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-08 09:56",assureType:"硬件更换-硬盘更换",resolveTime:"2022-10-08 17:55",priority:"高",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"新建"},{orderId:"SQ123456786",requestDepartment:"技术部",workGroup:"工作B组",requestTime:"2022-10-06 14:12",assureType:"网络连接失败",resolveTime:"2022-10-08 17:55",priority:"低",orderType:"售前工单",responseMan:"tky项目负责人",requestMan:"tky服务台",engineer:"tky工程师",responseTime:"2022-10-08 18:55",updateTime:"2022-10-08 18:55",status:"已关闭"}],toolbarConfig:{buttons:[{code:"search",name:"查找",icon:"vxe-icon-search",status:"primary"},{code:"save",icon:"vxe-icon-save",name:"保存"},{code:"reset",icon:"vxe-icon-refresh",name:"重置"},{code:"addOrder",icon:"vxe-icon-add",name:"发起工单"},{code:"exportOrder",name:"导出工单记录"},{code:"exportHour",name:"导出工时数据"},{code:"exportAssess",name:"导出考核报表"}]},customConfig:{storage:!0},tooltipConfig:{},showOverflow:"tooltip",align:"center"},{fitsTablePro:B}=o(H,i),G=e=>{document.addEventListener("click",Q,!0),x.value=!0;let t=e.cell.getBoundingClientRect(),r=e.$event.clientX,l=t.bottom;h((()=>{var e;const t=(null==(e=document.querySelector(".popContent"))?void 0:e.getBoundingClientRect().height)||0;l+t>document.body.clientHeight&&(l=document.body.clientHeight-t),S.value={modifiers:[{name:"offset",options:{offset:[r,l]}}]}}))};y((()=>{document.removeEventListener("click",Q,!0)})),v((()=>{document.removeEventListener("click",Q,!0)}));const Q=e=>{e.target.closest(".popContent")||(x.value=!1,document.removeEventListener("click",Q,!0))};return(e,t)=>{const s=l,o=w,u=M,m=a;return p(),d("div",R,[b(f(r),{option:f(B),ref_key:"xGrid",ref:i,onCellClick:G},null,8,["option"]),b(s,{ref_key:"buttonRef",ref:n,style:{display:"none"}},{default:k((()=>[g("Click me")])),_:1},512),b(m,{"virtual-ref":f(n),visible:f(x),"show-arrow":!1,"popper-options":f(S),"popper-class":"popContent","virtual-triggering":""},{default:k((()=>[b(u,{column:2,size:"small",id:"dialogBox"},{default:k((()=>[b(o,{label:"项目"},{default:k((()=>[g("三水农庄设施运维")])),_:1}),b(o,{label:"服务"},{default:k((()=>[g("佛山中小型场地集成服务")])),_:1}),b(o,{label:"工单历时"},{default:k((()=>[g("390天23小时50分钟")])),_:1}),b(o,{label:"服务时长"},{default:k((()=>[g("3小时1分钟")])),_:1}),b(o,{label:"响应SLA"},{default:k((()=>[g("未超时")])),_:1})])),_:1})])),_:1},8,["virtual-ref","visible","popper-options"])])}}}),[["__scopeId","data-v-47a001e8"]]);export{Q as default};
